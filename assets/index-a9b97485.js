var KT=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Lz=KT((Yt,qt)=>{function YT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function H0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oa={},qT={get exports(){return oa},set exports(t){oa=t}},_c={},A={},QT={get exports(){return A},set exports(t){A=t}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ha=Symbol.for("react.element"),XT=Symbol.for("react.portal"),JT=Symbol.for("react.fragment"),ZT=Symbol.for("react.strict_mode"),ex=Symbol.for("react.profiler"),tx=Symbol.for("react.provider"),nx=Symbol.for("react.context"),rx=Symbol.for("react.forward_ref"),ix=Symbol.for("react.suspense"),ox=Symbol.for("react.memo"),sx=Symbol.for("react.lazy"),iv=Symbol.iterator;function ax(t){return t===null||typeof t!="object"?null:(t=iv&&t[iv]||t["@@iterator"],typeof t=="function"?t:null)}var G0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K0=Object.assign,Y0={};function ts(t,e,n){this.props=t,this.context=e,this.refs=Y0,this.updater=n||G0}ts.prototype.isReactComponent={};ts.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ts.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function q0(){}q0.prototype=ts.prototype;function Pp(t,e,n){this.props=t,this.context=e,this.refs=Y0,this.updater=n||G0}var Ap=Pp.prototype=new q0;Ap.constructor=Pp;K0(Ap,ts.prototype);Ap.isPureReactComponent=!0;var ov=Array.isArray,Q0=Object.prototype.hasOwnProperty,Op={current:null},X0={key:!0,ref:!0,__self:!0,__source:!0};function J0(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Q0.call(e,r)&&!X0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ha,type:t,key:o,ref:s,props:i,_owner:Op.current}}function lx(t,e){return{$$typeof:Ha,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Np(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ha}function ux(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sv=/\/+/g;function Ad(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ux(""+t.key):e.toString(36)}function Gl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ha:case XT:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Ad(s,0):r,ov(i)?(n="",t!=null&&(n=t.replace(sv,"$&/")+"/"),Gl(i,e,n,"",function(u){return u})):i!=null&&(Np(i)&&(i=lx(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(sv,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",ov(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Ad(o,a);s+=Gl(o,e,n,l,i)}else if(l=ax(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Ad(o,a++),s+=Gl(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function wl(t,e,n){if(t==null)return t;var r=[],i=0;return Gl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function cx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Lt={current:null},Kl={transition:null},dx={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:Kl,ReactCurrentOwner:Op};Ee.Children={map:wl,forEach:function(t,e,n){wl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wl(t,function(){e++}),e},toArray:function(t){return wl(t,function(e){return e})||[]},only:function(t){if(!Np(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=ts;Ee.Fragment=JT;Ee.Profiler=ex;Ee.PureComponent=Pp;Ee.StrictMode=ZT;Ee.Suspense=ix;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dx;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=K0({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Op.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Q0.call(e,l)&&!X0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ha,type:t.type,key:i,ref:o,props:r,_owner:s}};Ee.createContext=function(t){return t={$$typeof:nx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tx,_context:t},t.Consumer=t};Ee.createElement=J0;Ee.createFactory=function(t){var e=J0.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:rx,render:t}};Ee.isValidElement=Np;Ee.lazy=function(t){return{$$typeof:sx,_payload:{_status:-1,_result:t},_init:cx}};Ee.memo=function(t,e){return{$$typeof:ox,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=Kl.transition;Kl.transition={};try{t()}finally{Kl.transition=e}};Ee.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ee.useCallback=function(t,e){return Lt.current.useCallback(t,e)};Ee.useContext=function(t){return Lt.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return Lt.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return Lt.current.useEffect(t,e)};Ee.useId=function(){return Lt.current.useId()};Ee.useImperativeHandle=function(t,e,n){return Lt.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return Lt.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return Lt.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return Lt.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return Lt.current.useReducer(t,e,n)};Ee.useRef=function(t){return Lt.current.useRef(t)};Ee.useState=function(t){return Lt.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return Lt.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return Lt.current.useTransition()};Ee.version="18.2.0";(function(t){t.exports=Ee})(QT);const we=H0(A),jf=YT({__proto__:null,default:we},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx=A,hx=Symbol.for("react.element"),px=Symbol.for("react.fragment"),mx=Object.prototype.hasOwnProperty,gx=fx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vx={key:!0,ref:!0,__self:!0,__source:!0};function Z0(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)mx.call(e,r)&&!vx.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:hx,type:t,key:o,ref:s,props:i,_owner:gx.current}}_c.Fragment=px;_c.jsx=Z0;_c.jsxs=Z0;(function(t){t.exports=_c})(qT);const yx=oa.Fragment,H=oa.jsx,Pe=oa.jsxs;var zf={},sa={},_x={get exports(){return sa},set exports(t){sa=t}},Zt={},Bf={},wx={get exports(){return Bf},set exports(t){Bf=t}},ew={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,q){var ee=V.length;V.push(q);e:for(;0<ee;){var Se=ee-1>>>1,z=V[Se];if(0<i(z,q))V[Se]=q,V[ee]=z,ee=Se;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var q=V[0],ee=V.pop();if(ee!==q){V[0]=ee;e:for(var Se=0,z=V.length,p=z>>>1;Se<p;){var F=2*(Se+1)-1,re=V[F],k=F+1,w=V[k];if(0>i(re,ee))k<z&&0>i(w,re)?(V[Se]=w,V[k]=ee,Se=k):(V[Se]=re,V[F]=ee,Se=F);else if(k<z&&0>i(w,ee))V[Se]=w,V[k]=ee,Se=k;else break e}}return q}function i(V,q){var ee=V.sortIndex-q.sortIndex;return ee!==0?ee:V.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,f=3,v=!1,y=!1,h=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(V){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=V)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(u)}}function E(V){if(h=!1,_(V),!y)if(n(l)!==null)y=!0,wt(b);else{var q=n(u);q!==null&&Je(E,q.startTime-V)}}function b(V,q){y=!1,h&&(h=!1,g(j),j=-1),v=!0;var ee=f;try{for(_(q),d=n(l);d!==null&&(!(d.expirationTime>q)||V&&!he());){var Se=d.callback;if(typeof Se=="function"){d.callback=null,f=d.priorityLevel;var z=Se(d.expirationTime<=q);q=t.unstable_now(),typeof z=="function"?d.callback=z:d===n(l)&&r(l),_(q)}else r(l);d=n(l)}if(d!==null)var p=!0;else{var F=n(u);F!==null&&Je(E,F.startTime-q),p=!1}return p}finally{d=null,f=ee,v=!1}}var L=!1,D=null,j=-1,oe=5,Q=-1;function he(){return!(t.unstable_now()-Q<oe)}function Ce(){if(D!==null){var V=t.unstable_now();Q=V;var q=!0;try{q=D(!0,V)}finally{q?ke():(L=!1,D=null)}}else L=!1}var ke;if(typeof m=="function")ke=function(){m(Ce)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,He=Le.port2;Le.port1.onmessage=Ce,ke=function(){He.postMessage(null)}}else ke=function(){S(Ce,0)};function wt(V){D=V,L||(L=!0,ke())}function Je(V,q){j=S(function(){V(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,wt(b))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var ee=f;f=q;try{return V()}finally{f=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ee=f;f=V;try{return q()}finally{f=ee}},t.unstable_scheduleCallback=function(V,q,ee){var Se=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Se+ee:Se):ee=Se,V){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ee+z,V={id:c++,callback:q,priorityLevel:V,startTime:ee,expirationTime:z,sortIndex:-1},ee>Se?(V.sortIndex=ee,e(u,V),n(l)===null&&V===n(u)&&(h?(g(j),j=-1):h=!0,Je(E,ee-Se))):(V.sortIndex=z,e(l,V),y||v||(y=!0,wt(b))),V},t.unstable_shouldYield=he,t.unstable_wrapCallback=function(V){var q=f;return function(){var ee=f;f=q;try{return V.apply(this,arguments)}finally{f=ee}}}})(ew);(function(t){t.exports=ew})(wx);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw=A,Xt=Bf;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nw=new Set,aa={};function Vi(t,e){Fo(t,e),Fo(t+"Capture",e)}function Fo(t,e){for(aa[t]=e,t=0;t<e.length;t++)nw.add(e[t])}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wf=Object.prototype.hasOwnProperty,Ex=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,av={},lv={};function Sx(t){return Wf.call(lv,t)?!0:Wf.call(av,t)?!1:Ex.test(t)?lv[t]=!0:(av[t]=!0,!1)}function Cx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Tx(t,e,n,r){if(e===null||typeof e>"u"||Cx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ft(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_t[t]=new Ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_t[e]=new Ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_t[t]=new Ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_t[t]=new Ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_t[t]=new Ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_t[t]=new Ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_t[t]=new Ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_t[t]=new Ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_t[t]=new Ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var Dp=/[\-:]([a-z])/g;function Mp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Dp,Mp);_t[e]=new Ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Dp,Mp);_t[e]=new Ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Dp,Mp);_t[e]=new Ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_t[t]=new Ft(t,1,!1,t.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_t[t]=new Ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lp(t,e,n,r){var i=_t.hasOwnProperty(e)?_t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Tx(e,n,i,r)&&(n=null),r||i===null?Sx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var hr=tw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,El=Symbol.for("react.element"),io=Symbol.for("react.portal"),oo=Symbol.for("react.fragment"),Fp=Symbol.for("react.strict_mode"),Vf=Symbol.for("react.profiler"),rw=Symbol.for("react.provider"),iw=Symbol.for("react.context"),$p=Symbol.for("react.forward_ref"),Hf=Symbol.for("react.suspense"),Gf=Symbol.for("react.suspense_list"),Up=Symbol.for("react.memo"),wr=Symbol.for("react.lazy"),ow=Symbol.for("react.offscreen"),uv=Symbol.iterator;function ys(t){return t===null||typeof t!="object"?null:(t=uv&&t[uv]||t["@@iterator"],typeof t=="function"?t:null)}var Xe=Object.assign,Od;function Ds(t){if(Od===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Od=e&&e[1]||""}return`
`+Od+t}var Nd=!1;function Dd(t,e){if(!t||Nd)return"";Nd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Nd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ds(t):""}function xx(t){switch(t.tag){case 5:return Ds(t.type);case 16:return Ds("Lazy");case 13:return Ds("Suspense");case 19:return Ds("SuspenseList");case 0:case 2:case 15:return t=Dd(t.type,!1),t;case 11:return t=Dd(t.type.render,!1),t;case 1:return t=Dd(t.type,!0),t;default:return""}}function Kf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oo:return"Fragment";case io:return"Portal";case Vf:return"Profiler";case Fp:return"StrictMode";case Hf:return"Suspense";case Gf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case iw:return(t.displayName||"Context")+".Consumer";case rw:return(t._context.displayName||"Context")+".Provider";case $p:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Up:return e=t.displayName||null,e!==null?e:Kf(t.type)||"Memo";case wr:e=t._payload,t=t._init;try{return Kf(t(e))}catch{}}return null}function Ix(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kf(e);case 8:return e===Fp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bx(t){var e=sw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sl(t){t._valueTracker||(t._valueTracker=bx(t))}function aw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function du(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yf(t,e){var n=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lw(t,e){e=e.checked,e!=null&&Lp(t,"checked",e,!1)}function qf(t,e){lw(t,e);var n=Yr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qf(t,e.type,Yr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qf(t,e,n){(e!=="number"||du(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ms=Array.isArray;function To(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Xf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Ms(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yr(n)}}function uw(t,e){var n=Yr(e.value),r=Yr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function hv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cl,dw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cl=Cl||document.createElement("div"),Cl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function la(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rx=["Webkit","ms","Moz","O"];Object.keys(Bs).forEach(function(t){Rx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bs[e]=Bs[t]})});function fw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bs.hasOwnProperty(t)&&Bs[t]?(""+e).trim():e+"px"}function hw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var kx=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zf(t,e){if(e){if(kx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function eh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var th=null;function jp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nh=null,xo=null,Io=null;function pv(t){if(t=Ya(t)){if(typeof nh!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Tc(e),nh(t.stateNode,t.type,e))}}function pw(t){xo?Io?Io.push(t):Io=[t]:xo=t}function mw(){if(xo){var t=xo,e=Io;if(Io=xo=null,pv(t),e)for(t=0;t<e.length;t++)pv(e[t])}}function gw(t,e){return t(e)}function vw(){}var Md=!1;function yw(t,e,n){if(Md)return t(e,n);Md=!0;try{return gw(t,e,n)}finally{Md=!1,(xo!==null||Io!==null)&&(vw(),mw())}}function ua(t,e){var n=t.stateNode;if(n===null)return null;var r=Tc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var rh=!1;if(or)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){rh=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{rh=!1}function Px(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ws=!1,fu=null,hu=!1,ih=null,Ax={onError:function(t){Ws=!0,fu=t}};function Ox(t,e,n,r,i,o,s,a,l){Ws=!1,fu=null,Px.apply(Ax,arguments)}function Nx(t,e,n,r,i,o,s,a,l){if(Ox.apply(this,arguments),Ws){if(Ws){var u=fu;Ws=!1,fu=null}else throw Error(U(198));hu||(hu=!0,ih=u)}}function Hi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _w(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mv(t){if(Hi(t)!==t)throw Error(U(188))}function Dx(t){var e=t.alternate;if(!e){if(e=Hi(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return mv(i),t;if(o===r)return mv(i),e;o=o.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function ww(t){return t=Dx(t),t!==null?Ew(t):null}function Ew(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ew(t);if(e!==null)return e;t=t.sibling}return null}var Sw=Xt.unstable_scheduleCallback,gv=Xt.unstable_cancelCallback,Mx=Xt.unstable_shouldYield,Lx=Xt.unstable_requestPaint,nt=Xt.unstable_now,Fx=Xt.unstable_getCurrentPriorityLevel,zp=Xt.unstable_ImmediatePriority,Cw=Xt.unstable_UserBlockingPriority,pu=Xt.unstable_NormalPriority,$x=Xt.unstable_LowPriority,Tw=Xt.unstable_IdlePriority,wc=null,Fn=null;function Ux(t){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(wc,t,void 0,(t.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:Bx,jx=Math.log,zx=Math.LN2;function Bx(t){return t>>>=0,t===0?32:31-(jx(t)/zx|0)|0}var Tl=64,xl=4194304;function Ls(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Ls(a):(o&=s,o!==0&&(r=Ls(o)))}else s=n&~i,s!==0?r=Ls(s):o!==0&&(r=Ls(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Tn(e),i=1<<n,r|=t[n],e&=~i;return r}function Wx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Tn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=Wx(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function oh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xw(){var t=Tl;return Tl<<=1,!(Tl&4194240)&&(Tl=64),t}function Ld(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ga(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Tn(e),t[e]=n}function Hx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Tn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Bp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Tn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ae=0;function Iw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bw,Wp,Rw,kw,Pw,sh=!1,Il=[],Ar=null,Or=null,Nr=null,ca=new Map,da=new Map,Sr=[],Gx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vv(t,e){switch(t){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":ca.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":da.delete(e.pointerId)}}function ws(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ya(e),e!==null&&Wp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Kx(t,e,n,r,i){switch(e){case"focusin":return Ar=ws(Ar,t,e,n,r,i),!0;case"dragenter":return Or=ws(Or,t,e,n,r,i),!0;case"mouseover":return Nr=ws(Nr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ca.set(o,ws(ca.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,da.set(o,ws(da.get(o)||null,t,e,n,r,i)),!0}return!1}function Aw(t){var e=vi(t.target);if(e!==null){var n=Hi(e);if(n!==null){if(e=n.tag,e===13){if(e=_w(n),e!==null){t.blockedOn=e,Pw(t.priority,function(){Rw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ah(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);th=r,n.target.dispatchEvent(r),th=null}else return e=Ya(n),e!==null&&Wp(e),t.blockedOn=n,!1;e.shift()}return!0}function yv(t,e,n){Yl(t)&&n.delete(e)}function Yx(){sh=!1,Ar!==null&&Yl(Ar)&&(Ar=null),Or!==null&&Yl(Or)&&(Or=null),Nr!==null&&Yl(Nr)&&(Nr=null),ca.forEach(yv),da.forEach(yv)}function Es(t,e){t.blockedOn===e&&(t.blockedOn=null,sh||(sh=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,Yx)))}function fa(t){function e(i){return Es(i,t)}if(0<Il.length){Es(Il[0],t);for(var n=1;n<Il.length;n++){var r=Il[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ar!==null&&Es(Ar,t),Or!==null&&Es(Or,t),Nr!==null&&Es(Nr,t),ca.forEach(e),da.forEach(e),n=0;n<Sr.length;n++)r=Sr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Sr.length&&(n=Sr[0],n.blockedOn===null);)Aw(n),n.blockedOn===null&&Sr.shift()}var bo=hr.ReactCurrentBatchConfig,gu=!0;function qx(t,e,n,r){var i=Ae,o=bo.transition;bo.transition=null;try{Ae=1,Vp(t,e,n,r)}finally{Ae=i,bo.transition=o}}function Qx(t,e,n,r){var i=Ae,o=bo.transition;bo.transition=null;try{Ae=4,Vp(t,e,n,r)}finally{Ae=i,bo.transition=o}}function Vp(t,e,n,r){if(gu){var i=ah(t,e,n,r);if(i===null)Gd(t,e,r,vu,n),vv(t,r);else if(Kx(i,t,e,n,r))r.stopPropagation();else if(vv(t,r),e&4&&-1<Gx.indexOf(t)){for(;i!==null;){var o=Ya(i);if(o!==null&&bw(o),o=ah(t,e,n,r),o===null&&Gd(t,e,r,vu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Gd(t,e,r,null,n)}}var vu=null;function ah(t,e,n,r){if(vu=null,t=jp(r),t=vi(t),t!==null)if(e=Hi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_w(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vu=t,null}function Ow(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fx()){case zp:return 1;case Cw:return 4;case pu:case $x:return 16;case Tw:return 536870912;default:return 16}default:return 16}}var kr=null,Hp=null,ql=null;function Nw(){if(ql)return ql;var t,e=Hp,n=e.length,r,i="value"in kr?kr.value:kr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return ql=i.slice(t,1<r?1-r:void 0)}function Ql(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bl(){return!0}function _v(){return!1}function en(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?bl:_v,this.isPropagationStopped=_v,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bl)},persist:function(){},isPersistent:bl}),e}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gp=en(ns),Ka=Xe({},ns,{view:0,detail:0}),Xx=en(Ka),Fd,$d,Ss,Ec=Xe({},Ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ss&&(Ss&&t.type==="mousemove"?(Fd=t.screenX-Ss.screenX,$d=t.screenY-Ss.screenY):$d=Fd=0,Ss=t),Fd)},movementY:function(t){return"movementY"in t?t.movementY:$d}}),wv=en(Ec),Jx=Xe({},Ec,{dataTransfer:0}),Zx=en(Jx),eI=Xe({},Ka,{relatedTarget:0}),Ud=en(eI),tI=Xe({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),nI=en(tI),rI=Xe({},ns,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iI=en(rI),oI=Xe({},ns,{data:0}),Ev=en(oI),sI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lI[t])?!!e[t]:!1}function Kp(){return uI}var cI=Xe({},Ka,{key:function(t){if(t.key){var e=sI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ql(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kp,charCode:function(t){return t.type==="keypress"?Ql(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ql(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dI=en(cI),fI=Xe({},Ec,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sv=en(fI),hI=Xe({},Ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kp}),pI=en(hI),mI=Xe({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),gI=en(mI),vI=Xe({},Ec,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yI=en(vI),_I=[9,13,27,32],Yp=or&&"CompositionEvent"in window,Vs=null;or&&"documentMode"in document&&(Vs=document.documentMode);var wI=or&&"TextEvent"in window&&!Vs,Dw=or&&(!Yp||Vs&&8<Vs&&11>=Vs),Cv=String.fromCharCode(32),Tv=!1;function Mw(t,e){switch(t){case"keyup":return _I.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var so=!1;function EI(t,e){switch(t){case"compositionend":return Lw(e);case"keypress":return e.which!==32?null:(Tv=!0,Cv);case"textInput":return t=e.data,t===Cv&&Tv?null:t;default:return null}}function SI(t,e){if(so)return t==="compositionend"||!Yp&&Mw(t,e)?(t=Nw(),ql=Hp=kr=null,so=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Dw&&e.locale!=="ko"?null:e.data;default:return null}}var CI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CI[t.type]:e==="textarea"}function Fw(t,e,n,r){pw(r),e=yu(e,"onChange"),0<e.length&&(n=new Gp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hs=null,ha=null;function TI(t){Yw(t,0)}function Sc(t){var e=uo(t);if(aw(e))return t}function xI(t,e){if(t==="change")return e}var $w=!1;if(or){var jd;if(or){var zd="oninput"in document;if(!zd){var Iv=document.createElement("div");Iv.setAttribute("oninput","return;"),zd=typeof Iv.oninput=="function"}jd=zd}else jd=!1;$w=jd&&(!document.documentMode||9<document.documentMode)}function bv(){Hs&&(Hs.detachEvent("onpropertychange",Uw),ha=Hs=null)}function Uw(t){if(t.propertyName==="value"&&Sc(ha)){var e=[];Fw(e,ha,t,jp(t)),yw(TI,e)}}function II(t,e,n){t==="focusin"?(bv(),Hs=e,ha=n,Hs.attachEvent("onpropertychange",Uw)):t==="focusout"&&bv()}function bI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sc(ha)}function RI(t,e){if(t==="click")return Sc(e)}function kI(t,e){if(t==="input"||t==="change")return Sc(e)}function PI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bn=typeof Object.is=="function"?Object.is:PI;function pa(t,e){if(bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Wf.call(e,i)||!bn(t[i],e[i]))return!1}return!0}function Rv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kv(t,e){var n=Rv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rv(n)}}function jw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zw(){for(var t=window,e=du();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=du(t.document)}return e}function qp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AI(t){var e=zw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jw(n.ownerDocument.documentElement,n)){if(r!==null&&qp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=kv(n,o);var s=kv(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var OI=or&&"documentMode"in document&&11>=document.documentMode,ao=null,lh=null,Gs=null,uh=!1;function Pv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;uh||ao==null||ao!==du(r)||(r=ao,"selectionStart"in r&&qp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gs&&pa(Gs,r)||(Gs=r,r=yu(lh,"onSelect"),0<r.length&&(e=new Gp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ao)))}function Rl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lo={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionend:Rl("Transition","TransitionEnd")},Bd={},Bw={};or&&(Bw=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function Cc(t){if(Bd[t])return Bd[t];if(!lo[t])return t;var e=lo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Bw)return Bd[t]=e[n];return t}var Ww=Cc("animationend"),Vw=Cc("animationiteration"),Hw=Cc("animationstart"),Gw=Cc("transitionend"),Kw=new Map,Av="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(t,e){Kw.set(t,e),Vi(e,[t])}for(var Wd=0;Wd<Av.length;Wd++){var Vd=Av[Wd],NI=Vd.toLowerCase(),DI=Vd[0].toUpperCase()+Vd.slice(1);ri(NI,"on"+DI)}ri(Ww,"onAnimationEnd");ri(Vw,"onAnimationIteration");ri(Hw,"onAnimationStart");ri("dblclick","onDoubleClick");ri("focusin","onFocus");ri("focusout","onBlur");ri(Gw,"onTransitionEnd");Fo("onMouseEnter",["mouseout","mouseover"]);Fo("onMouseLeave",["mouseout","mouseover"]);Fo("onPointerEnter",["pointerout","pointerover"]);Fo("onPointerLeave",["pointerout","pointerover"]);Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fs));function Ov(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Nx(r,e,void 0,t),t.currentTarget=null}function Yw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Ov(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Ov(i,a,u),o=l}}}if(hu)throw t=ih,hu=!1,ih=null,t}function ze(t,e){var n=e[ph];n===void 0&&(n=e[ph]=new Set);var r=t+"__bubble";n.has(r)||(qw(e,t,2,!1),n.add(r))}function Hd(t,e,n){var r=0;e&&(r|=4),qw(n,t,r,e)}var kl="_reactListening"+Math.random().toString(36).slice(2);function ma(t){if(!t[kl]){t[kl]=!0,nw.forEach(function(n){n!=="selectionchange"&&(MI.has(n)||Hd(n,!1,t),Hd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[kl]||(e[kl]=!0,Hd("selectionchange",!1,e))}}function qw(t,e,n,r){switch(Ow(e)){case 1:var i=qx;break;case 4:i=Qx;break;default:i=Vp}n=i.bind(null,e,n,t),i=void 0,!rh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Gd(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=vi(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}yw(function(){var u=o,c=jp(n),d=[];e:{var f=Kw.get(t);if(f!==void 0){var v=Gp,y=t;switch(t){case"keypress":if(Ql(n)===0)break e;case"keydown":case"keyup":v=dI;break;case"focusin":y="focus",v=Ud;break;case"focusout":y="blur",v=Ud;break;case"beforeblur":case"afterblur":v=Ud;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=wv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Zx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=pI;break;case Ww:case Vw:case Hw:v=nI;break;case Gw:v=gI;break;case"scroll":v=Xx;break;case"wheel":v=yI;break;case"copy":case"cut":case"paste":v=iI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Sv}var h=(e&4)!==0,S=!h&&t==="scroll",g=h?f!==null?f+"Capture":null:f;h=[];for(var m=u,_;m!==null;){_=m;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,g!==null&&(E=ua(m,g),E!=null&&h.push(ga(m,E,_)))),S)break;m=m.return}0<h.length&&(f=new v(f,y,null,n,c),d.push({event:f,listeners:h}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==th&&(y=n.relatedTarget||n.fromElement)&&(vi(y)||y[sr]))break e;if((v||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=u,y=y?vi(y):null,y!==null&&(S=Hi(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(h=wv,E="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(h=Sv,E="onPointerLeave",g="onPointerEnter",m="pointer"),S=v==null?f:uo(v),_=y==null?f:uo(y),f=new h(E,m+"leave",v,n,c),f.target=S,f.relatedTarget=_,E=null,vi(c)===u&&(h=new h(g,m+"enter",y,n,c),h.target=_,h.relatedTarget=S,E=h),S=E,v&&y)t:{for(h=v,g=y,m=0,_=h;_;_=to(_))m++;for(_=0,E=g;E;E=to(E))_++;for(;0<m-_;)h=to(h),m--;for(;0<_-m;)g=to(g),_--;for(;m--;){if(h===g||g!==null&&h===g.alternate)break t;h=to(h),g=to(g)}h=null}else h=null;v!==null&&Nv(d,f,v,h,!1),y!==null&&S!==null&&Nv(d,S,y,h,!0)}}e:{if(f=u?uo(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var b=xI;else if(xv(f))if($w)b=kI;else{b=bI;var L=II}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=RI);if(b&&(b=b(t,u))){Fw(d,b,n,c);break e}L&&L(t,f,u),t==="focusout"&&(L=f._wrapperState)&&L.controlled&&f.type==="number"&&Qf(f,"number",f.value)}switch(L=u?uo(u):window,t){case"focusin":(xv(L)||L.contentEditable==="true")&&(ao=L,lh=u,Gs=null);break;case"focusout":Gs=lh=ao=null;break;case"mousedown":uh=!0;break;case"contextmenu":case"mouseup":case"dragend":uh=!1,Pv(d,n,c);break;case"selectionchange":if(OI)break;case"keydown":case"keyup":Pv(d,n,c)}var D;if(Yp)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else so?Mw(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Dw&&n.locale!=="ko"&&(so||j!=="onCompositionStart"?j==="onCompositionEnd"&&so&&(D=Nw()):(kr=c,Hp="value"in kr?kr.value:kr.textContent,so=!0)),L=yu(u,j),0<L.length&&(j=new Ev(j,t,null,n,c),d.push({event:j,listeners:L}),D?j.data=D:(D=Lw(n),D!==null&&(j.data=D)))),(D=wI?EI(t,n):SI(t,n))&&(u=yu(u,"onBeforeInput"),0<u.length&&(c=new Ev("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=D))}Yw(d,e)})}function ga(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ua(t,n),o!=null&&r.unshift(ga(t,o,i)),o=ua(t,e),o!=null&&r.push(ga(t,o,i))),t=t.return}return r}function to(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Nv(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ua(n,o),l!=null&&s.unshift(ga(n,l,a))):i||(l=ua(n,o),l!=null&&s.push(ga(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var LI=/\r\n?/g,FI=/\u0000|\uFFFD/g;function Dv(t){return(typeof t=="string"?t:""+t).replace(LI,`
`).replace(FI,"")}function Pl(t,e,n){if(e=Dv(e),Dv(t)!==e&&n)throw Error(U(425))}function _u(){}var ch=null,dh=null;function fh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hh=typeof setTimeout=="function"?setTimeout:void 0,$I=typeof clearTimeout=="function"?clearTimeout:void 0,Mv=typeof Promise=="function"?Promise:void 0,UI=typeof queueMicrotask=="function"?queueMicrotask:typeof Mv<"u"?function(t){return Mv.resolve(null).then(t).catch(jI)}:hh;function jI(t){setTimeout(function(){throw t})}function Kd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),fa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fa(e)}function Dr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Lv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var rs=Math.random().toString(36).slice(2),Dn="__reactFiber$"+rs,va="__reactProps$"+rs,sr="__reactContainer$"+rs,ph="__reactEvents$"+rs,zI="__reactListeners$"+rs,BI="__reactHandles$"+rs;function vi(t){var e=t[Dn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sr]||n[Dn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Lv(t);t!==null;){if(n=t[Dn])return n;t=Lv(t)}return e}t=n,n=t.parentNode}return null}function Ya(t){return t=t[Dn]||t[sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function uo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Tc(t){return t[va]||null}var mh=[],co=-1;function ii(t){return{current:t}}function Ve(t){0>co||(t.current=mh[co],mh[co]=null,co--)}function Ue(t,e){co++,mh[co]=t.current,t.current=e}var qr={},kt=ii(qr),zt=ii(!1),ki=qr;function $o(t,e){var n=t.type.contextTypes;if(!n)return qr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Bt(t){return t=t.childContextTypes,t!=null}function wu(){Ve(zt),Ve(kt)}function Fv(t,e,n){if(kt.current!==qr)throw Error(U(168));Ue(kt,e),Ue(zt,n)}function Qw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,Ix(t)||"Unknown",i));return Xe({},n,r)}function Eu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qr,ki=kt.current,Ue(kt,t),Ue(zt,zt.current),!0}function $v(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=Qw(t,e,ki),r.__reactInternalMemoizedMergedChildContext=t,Ve(zt),Ve(kt),Ue(kt,t)):Ve(zt),Ue(zt,n)}var qn=null,xc=!1,Yd=!1;function Xw(t){qn===null?qn=[t]:qn.push(t)}function WI(t){xc=!0,Xw(t)}function oi(){if(!Yd&&qn!==null){Yd=!0;var t=0,e=Ae;try{var n=qn;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qn=null,xc=!1}catch(i){throw qn!==null&&(qn=qn.slice(t+1)),Sw(zp,oi),i}finally{Ae=e,Yd=!1}}return null}var fo=[],ho=0,Su=null,Cu=0,on=[],sn=0,Pi=null,Qn=1,Xn="";function ui(t,e){fo[ho++]=Cu,fo[ho++]=Su,Su=t,Cu=e}function Jw(t,e,n){on[sn++]=Qn,on[sn++]=Xn,on[sn++]=Pi,Pi=t;var r=Qn;t=Xn;var i=32-Tn(r)-1;r&=~(1<<i),n+=1;var o=32-Tn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Qn=1<<32-Tn(e)+i|n<<i|r,Xn=o+t}else Qn=1<<o|n<<i|r,Xn=t}function Qp(t){t.return!==null&&(ui(t,1),Jw(t,1,0))}function Xp(t){for(;t===Su;)Su=fo[--ho],fo[ho]=null,Cu=fo[--ho],fo[ho]=null;for(;t===Pi;)Pi=on[--sn],on[sn]=null,Xn=on[--sn],on[sn]=null,Qn=on[--sn],on[sn]=null}var Qt=null,Kt=null,Ke=!1,_n=null;function Zw(t,e){var n=ln(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Uv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qt=t,Kt=Dr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qt=t,Kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pi!==null?{id:Qn,overflow:Xn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ln(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qt=t,Kt=null,!0):!1;default:return!1}}function gh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vh(t){if(Ke){var e=Kt;if(e){var n=e;if(!Uv(t,e)){if(gh(t))throw Error(U(418));e=Dr(n.nextSibling);var r=Qt;e&&Uv(t,e)?Zw(r,n):(t.flags=t.flags&-4097|2,Ke=!1,Qt=t)}}else{if(gh(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ke=!1,Qt=t}}}function jv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qt=t}function Al(t){if(t!==Qt)return!1;if(!Ke)return jv(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fh(t.type,t.memoizedProps)),e&&(e=Kt)){if(gh(t))throw eE(),Error(U(418));for(;e;)Zw(t,e),e=Dr(e.nextSibling)}if(jv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Kt=Dr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Kt=null}}else Kt=Qt?Dr(t.stateNode.nextSibling):null;return!0}function eE(){for(var t=Kt;t;)t=Dr(t.nextSibling)}function Uo(){Kt=Qt=null,Ke=!1}function Jp(t){_n===null?_n=[t]:_n.push(t)}var VI=hr.ReactCurrentBatchConfig;function vn(t,e){if(t&&t.defaultProps){e=Xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Tu=ii(null),xu=null,po=null,Zp=null;function em(){Zp=po=xu=null}function tm(t){var e=Tu.current;Ve(Tu),t._currentValue=e}function yh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ro(t,e){xu=t,Zp=po=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ut=!0),t.firstContext=null)}function dn(t){var e=t._currentValue;if(Zp!==t)if(t={context:t,memoizedValue:e,next:null},po===null){if(xu===null)throw Error(U(308));po=t,xu.dependencies={lanes:0,firstContext:t}}else po=po.next=t;return e}var yi=null;function nm(t){yi===null?yi=[t]:yi.push(t)}function tE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,nm(e)):(n.next=i.next,i.next=n),e.interleaved=n,ar(t,r)}function ar(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Er=!1;function rm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function tr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ar(t,n)}return i=r.interleaved,i===null?(e.next=e,nm(r)):(e.next=i.next,i.next=e),r.interleaved=e,ar(t,n)}function Xl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bp(t,n)}}function zv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Iu(t,e,n,r){var i=t.updateQueue;Er=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var f=a.lane,v=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,h=a;switch(f=e,v=n,h.tag){case 1:if(y=h.payload,typeof y=="function"){d=y.call(v,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=h.payload,f=typeof y=="function"?y.call(v,d,f):y,f==null)break e;d=Xe({},d,f);break e;case 2:Er=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=v,l=d):c=c.next=v,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Oi|=s,t.lanes=s,t.memoizedState=d}}function Bv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var rE=new tw.Component().refs;function _h(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ic={isMounted:function(t){return(t=t._reactInternals)?Hi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=Fr(t),o=tr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Mr(t,o,i),e!==null&&(xn(e,t,i,r),Xl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=Fr(t),o=tr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Mr(t,o,i),e!==null&&(xn(e,t,i,r),Xl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mt(),r=Fr(t),i=tr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Mr(t,i,r),e!==null&&(xn(e,t,r,n),Xl(e,t,r))}};function Wv(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!pa(n,r)||!pa(i,o):!0}function iE(t,e,n){var r=!1,i=qr,o=e.contextType;return typeof o=="object"&&o!==null?o=dn(o):(i=Bt(e)?ki:kt.current,r=e.contextTypes,o=(r=r!=null)?$o(t,i):qr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ic,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Vv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ic.enqueueReplaceState(e,e.state,null)}function wh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=rE,rm(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=dn(o):(o=Bt(e)?ki:kt.current,i.context=$o(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(_h(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ic.enqueueReplaceState(i,i.state,null),Iu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Cs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===rE&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Ol(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Hv(t){var e=t._init;return e(t._payload)}function oE(t){function e(g,m){if(t){var _=g.deletions;_===null?(g.deletions=[m],g.flags|=16):_.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=$r(g,m),g.index=0,g.sibling=null,g}function o(g,m,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<m?(g.flags|=2,m):_):(g.flags|=2,m)):(g.flags|=1048576,m)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,_,E){return m===null||m.tag!==6?(m=tf(_,g.mode,E),m.return=g,m):(m=i(m,_),m.return=g,m)}function l(g,m,_,E){var b=_.type;return b===oo?c(g,m,_.props.children,E,_.key):m!==null&&(m.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===wr&&Hv(b)===m.type)?(E=i(m,_.props),E.ref=Cs(g,m,_),E.return=g,E):(E=ru(_.type,_.key,_.props,null,g.mode,E),E.ref=Cs(g,m,_),E.return=g,E)}function u(g,m,_,E){return m===null||m.tag!==4||m.stateNode.containerInfo!==_.containerInfo||m.stateNode.implementation!==_.implementation?(m=nf(_,g.mode,E),m.return=g,m):(m=i(m,_.children||[]),m.return=g,m)}function c(g,m,_,E,b){return m===null||m.tag!==7?(m=Ti(_,g.mode,E,b),m.return=g,m):(m=i(m,_),m.return=g,m)}function d(g,m,_){if(typeof m=="string"&&m!==""||typeof m=="number")return m=tf(""+m,g.mode,_),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case El:return _=ru(m.type,m.key,m.props,null,g.mode,_),_.ref=Cs(g,null,m),_.return=g,_;case io:return m=nf(m,g.mode,_),m.return=g,m;case wr:var E=m._init;return d(g,E(m._payload),_)}if(Ms(m)||ys(m))return m=Ti(m,g.mode,_,null),m.return=g,m;Ol(g,m)}return null}function f(g,m,_,E){var b=m!==null?m.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return b!==null?null:a(g,m,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case El:return _.key===b?l(g,m,_,E):null;case io:return _.key===b?u(g,m,_,E):null;case wr:return b=_._init,f(g,m,b(_._payload),E)}if(Ms(_)||ys(_))return b!==null?null:c(g,m,_,E,null);Ol(g,_)}return null}function v(g,m,_,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(_)||null,a(m,g,""+E,b);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case El:return g=g.get(E.key===null?_:E.key)||null,l(m,g,E,b);case io:return g=g.get(E.key===null?_:E.key)||null,u(m,g,E,b);case wr:var L=E._init;return v(g,m,_,L(E._payload),b)}if(Ms(E)||ys(E))return g=g.get(_)||null,c(m,g,E,b,null);Ol(m,E)}return null}function y(g,m,_,E){for(var b=null,L=null,D=m,j=m=0,oe=null;D!==null&&j<_.length;j++){D.index>j?(oe=D,D=null):oe=D.sibling;var Q=f(g,D,_[j],E);if(Q===null){D===null&&(D=oe);break}t&&D&&Q.alternate===null&&e(g,D),m=o(Q,m,j),L===null?b=Q:L.sibling=Q,L=Q,D=oe}if(j===_.length)return n(g,D),Ke&&ui(g,j),b;if(D===null){for(;j<_.length;j++)D=d(g,_[j],E),D!==null&&(m=o(D,m,j),L===null?b=D:L.sibling=D,L=D);return Ke&&ui(g,j),b}for(D=r(g,D);j<_.length;j++)oe=v(D,g,j,_[j],E),oe!==null&&(t&&oe.alternate!==null&&D.delete(oe.key===null?j:oe.key),m=o(oe,m,j),L===null?b=oe:L.sibling=oe,L=oe);return t&&D.forEach(function(he){return e(g,he)}),Ke&&ui(g,j),b}function h(g,m,_,E){var b=ys(_);if(typeof b!="function")throw Error(U(150));if(_=b.call(_),_==null)throw Error(U(151));for(var L=b=null,D=m,j=m=0,oe=null,Q=_.next();D!==null&&!Q.done;j++,Q=_.next()){D.index>j?(oe=D,D=null):oe=D.sibling;var he=f(g,D,Q.value,E);if(he===null){D===null&&(D=oe);break}t&&D&&he.alternate===null&&e(g,D),m=o(he,m,j),L===null?b=he:L.sibling=he,L=he,D=oe}if(Q.done)return n(g,D),Ke&&ui(g,j),b;if(D===null){for(;!Q.done;j++,Q=_.next())Q=d(g,Q.value,E),Q!==null&&(m=o(Q,m,j),L===null?b=Q:L.sibling=Q,L=Q);return Ke&&ui(g,j),b}for(D=r(g,D);!Q.done;j++,Q=_.next())Q=v(D,g,j,Q.value,E),Q!==null&&(t&&Q.alternate!==null&&D.delete(Q.key===null?j:Q.key),m=o(Q,m,j),L===null?b=Q:L.sibling=Q,L=Q);return t&&D.forEach(function(Ce){return e(g,Ce)}),Ke&&ui(g,j),b}function S(g,m,_,E){if(typeof _=="object"&&_!==null&&_.type===oo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case El:e:{for(var b=_.key,L=m;L!==null;){if(L.key===b){if(b=_.type,b===oo){if(L.tag===7){n(g,L.sibling),m=i(L,_.props.children),m.return=g,g=m;break e}}else if(L.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===wr&&Hv(b)===L.type){n(g,L.sibling),m=i(L,_.props),m.ref=Cs(g,L,_),m.return=g,g=m;break e}n(g,L);break}else e(g,L);L=L.sibling}_.type===oo?(m=Ti(_.props.children,g.mode,E,_.key),m.return=g,g=m):(E=ru(_.type,_.key,_.props,null,g.mode,E),E.ref=Cs(g,m,_),E.return=g,g=E)}return s(g);case io:e:{for(L=_.key;m!==null;){if(m.key===L)if(m.tag===4&&m.stateNode.containerInfo===_.containerInfo&&m.stateNode.implementation===_.implementation){n(g,m.sibling),m=i(m,_.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=nf(_,g.mode,E),m.return=g,g=m}return s(g);case wr:return L=_._init,S(g,m,L(_._payload),E)}if(Ms(_))return y(g,m,_,E);if(ys(_))return h(g,m,_,E);Ol(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,_),m.return=g,g=m):(n(g,m),m=tf(_,g.mode,E),m.return=g,g=m),s(g)):n(g,m)}return S}var jo=oE(!0),sE=oE(!1),qa={},$n=ii(qa),ya=ii(qa),_a=ii(qa);function _i(t){if(t===qa)throw Error(U(174));return t}function im(t,e){switch(Ue(_a,e),Ue(ya,t),Ue($n,qa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jf(e,t)}Ve($n),Ue($n,e)}function zo(){Ve($n),Ve(ya),Ve(_a)}function aE(t){_i(_a.current);var e=_i($n.current),n=Jf(e,t.type);e!==n&&(Ue(ya,t),Ue($n,n))}function om(t){ya.current===t&&(Ve($n),Ve(ya))}var Ye=ii(0);function bu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qd=[];function sm(){for(var t=0;t<qd.length;t++)qd[t]._workInProgressVersionPrimary=null;qd.length=0}var Jl=hr.ReactCurrentDispatcher,Qd=hr.ReactCurrentBatchConfig,Ai=0,Qe=null,ot=null,ct=null,Ru=!1,Ks=!1,wa=0,HI=0;function Tt(){throw Error(U(321))}function am(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bn(t[n],e[n]))return!1;return!0}function lm(t,e,n,r,i,o){if(Ai=o,Qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jl.current=t===null||t.memoizedState===null?qI:QI,t=n(r,i),Ks){o=0;do{if(Ks=!1,wa=0,25<=o)throw Error(U(301));o+=1,ct=ot=null,e.updateQueue=null,Jl.current=XI,t=n(r,i)}while(Ks)}if(Jl.current=ku,e=ot!==null&&ot.next!==null,Ai=0,ct=ot=Qe=null,Ru=!1,e)throw Error(U(300));return t}function um(){var t=wa!==0;return wa=0,t}function On(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Qe.memoizedState=ct=t:ct=ct.next=t,ct}function fn(){if(ot===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var e=ct===null?Qe.memoizedState:ct.next;if(e!==null)ct=e,ot=t;else{if(t===null)throw Error(U(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},ct===null?Qe.memoizedState=ct=t:ct=ct.next=t}return ct}function Ea(t,e){return typeof e=="function"?e(t):e}function Xd(t){var e=fn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=ot,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Ai&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Qe.lanes|=c,Oi|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,bn(r,e.memoizedState)||(Ut=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Qe.lanes|=o,Oi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jd(t){var e=fn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);bn(o,e.memoizedState)||(Ut=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function lE(){}function uE(t,e){var n=Qe,r=fn(),i=e(),o=!bn(r.memoizedState,i);if(o&&(r.memoizedState=i,Ut=!0),r=r.queue,cm(fE.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ct!==null&&ct.memoizedState.tag&1){if(n.flags|=2048,Sa(9,dE.bind(null,n,r,i,e),void 0,null),ht===null)throw Error(U(349));Ai&30||cE(n,e,i)}return i}function cE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dE(t,e,n,r){e.value=n,e.getSnapshot=r,hE(e)&&pE(t)}function fE(t,e,n){return n(function(){hE(e)&&pE(t)})}function hE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bn(t,n)}catch{return!0}}function pE(t){var e=ar(t,1);e!==null&&xn(e,t,1,-1)}function Gv(t){var e=On();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:t},e.queue=t,t=t.dispatch=YI.bind(null,Qe,t),[e.memoizedState,t]}function Sa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function mE(){return fn().memoizedState}function Zl(t,e,n,r){var i=On();Qe.flags|=t,i.memoizedState=Sa(1|e,n,void 0,r===void 0?null:r)}function bc(t,e,n,r){var i=fn();r=r===void 0?null:r;var o=void 0;if(ot!==null){var s=ot.memoizedState;if(o=s.destroy,r!==null&&am(r,s.deps)){i.memoizedState=Sa(e,n,o,r);return}}Qe.flags|=t,i.memoizedState=Sa(1|e,n,o,r)}function Kv(t,e){return Zl(8390656,8,t,e)}function cm(t,e){return bc(2048,8,t,e)}function gE(t,e){return bc(4,2,t,e)}function vE(t,e){return bc(4,4,t,e)}function yE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _E(t,e,n){return n=n!=null?n.concat([t]):null,bc(4,4,yE.bind(null,e,t),n)}function dm(){}function wE(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&am(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function EE(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&am(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function SE(t,e,n){return Ai&21?(bn(n,e)||(n=xw(),Qe.lanes|=n,Oi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ut=!0),t.memoizedState=n)}function GI(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=Qd.transition;Qd.transition={};try{t(!1),e()}finally{Ae=n,Qd.transition=r}}function CE(){return fn().memoizedState}function KI(t,e,n){var r=Fr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},TE(t))xE(e,n);else if(n=tE(t,e,n,r),n!==null){var i=Mt();xn(n,t,r,i),IE(n,e,r)}}function YI(t,e,n){var r=Fr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(TE(t))xE(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,bn(a,s)){var l=e.interleaved;l===null?(i.next=i,nm(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=tE(t,e,i,r),n!==null&&(i=Mt(),xn(n,t,r,i),IE(n,e,r))}}function TE(t){var e=t.alternate;return t===Qe||e!==null&&e===Qe}function xE(t,e){Ks=Ru=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function IE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bp(t,n)}}var ku={readContext:dn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},qI={readContext:dn,useCallback:function(t,e){return On().memoizedState=[t,e===void 0?null:e],t},useContext:dn,useEffect:Kv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zl(4194308,4,yE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zl(4,2,t,e)},useMemo:function(t,e){var n=On();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=On();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=KI.bind(null,Qe,t),[r.memoizedState,t]},useRef:function(t){var e=On();return t={current:t},e.memoizedState=t},useState:Gv,useDebugValue:dm,useDeferredValue:function(t){return On().memoizedState=t},useTransition:function(){var t=Gv(!1),e=t[0];return t=GI.bind(null,t[1]),On().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qe,i=On();if(Ke){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),ht===null)throw Error(U(349));Ai&30||cE(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Kv(fE.bind(null,r,o,t),[t]),r.flags|=2048,Sa(9,dE.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=On(),e=ht.identifierPrefix;if(Ke){var n=Xn,r=Qn;n=(r&~(1<<32-Tn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=HI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},QI={readContext:dn,useCallback:wE,useContext:dn,useEffect:cm,useImperativeHandle:_E,useInsertionEffect:gE,useLayoutEffect:vE,useMemo:EE,useReducer:Xd,useRef:mE,useState:function(){return Xd(Ea)},useDebugValue:dm,useDeferredValue:function(t){var e=fn();return SE(e,ot.memoizedState,t)},useTransition:function(){var t=Xd(Ea)[0],e=fn().memoizedState;return[t,e]},useMutableSource:lE,useSyncExternalStore:uE,useId:CE,unstable_isNewReconciler:!1},XI={readContext:dn,useCallback:wE,useContext:dn,useEffect:cm,useImperativeHandle:_E,useInsertionEffect:gE,useLayoutEffect:vE,useMemo:EE,useReducer:Jd,useRef:mE,useState:function(){return Jd(Ea)},useDebugValue:dm,useDeferredValue:function(t){var e=fn();return ot===null?e.memoizedState=t:SE(e,ot.memoizedState,t)},useTransition:function(){var t=Jd(Ea)[0],e=fn().memoizedState;return[t,e]},useMutableSource:lE,useSyncExternalStore:uE,useId:CE,unstable_isNewReconciler:!1};function Bo(t,e){try{var n="",r=e;do n+=xx(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Zd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Eh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var JI=typeof WeakMap=="function"?WeakMap:Map;function bE(t,e,n){n=tr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Au||(Au=!0,Ah=r),Eh(t,e)},n}function RE(t,e,n){n=tr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Eh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Eh(t,e),typeof r!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Yv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new JI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=fb.bind(null,t,e,n),e.then(t,t))}function qv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Qv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=tr(-1,1),e.tag=2,Mr(n,e,1))),n.lanes|=1),t)}var ZI=hr.ReactCurrentOwner,Ut=!1;function Nt(t,e,n,r){e.child=t===null?sE(e,null,n,r):jo(e,t.child,n,r)}function Xv(t,e,n,r,i){n=n.render;var o=e.ref;return Ro(e,i),r=lm(t,e,n,r,o,i),n=um(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,lr(t,e,i)):(Ke&&n&&Qp(e),e.flags|=1,Nt(t,e,r,i),e.child)}function Jv(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!_m(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,kE(t,e,o,r,i)):(t=ru(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:pa,n(s,r)&&t.ref===e.ref)return lr(t,e,i)}return e.flags|=1,t=$r(o,r),t.ref=e.ref,t.return=e,e.child=t}function kE(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(pa(o,r)&&t.ref===e.ref)if(Ut=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Ut=!0);else return e.lanes=t.lanes,lr(t,e,i)}return Sh(t,e,n,r,i)}function PE(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(go,Gt),Gt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(go,Gt),Gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ue(go,Gt),Gt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ue(go,Gt),Gt|=r;return Nt(t,e,i,n),e.child}function AE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Sh(t,e,n,r,i){var o=Bt(n)?ki:kt.current;return o=$o(e,o),Ro(e,i),n=lm(t,e,n,r,o,i),r=um(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,lr(t,e,i)):(Ke&&r&&Qp(e),e.flags|=1,Nt(t,e,n,i),e.child)}function Zv(t,e,n,r,i){if(Bt(n)){var o=!0;Eu(e)}else o=!1;if(Ro(e,i),e.stateNode===null)eu(t,e),iE(e,n,r),wh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=dn(u):(u=Bt(n)?ki:kt.current,u=$o(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Vv(e,s,r,u),Er=!1;var f=e.memoizedState;s.state=f,Iu(e,r,s,i),l=e.memoizedState,a!==r||f!==l||zt.current||Er?(typeof c=="function"&&(_h(e,n,c,r),l=e.memoizedState),(a=Er||Wv(e,n,a,r,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,nE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:vn(e.type,a),s.props=u,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=dn(l):(l=Bt(n)?ki:kt.current,l=$o(e,l));var v=n.getDerivedStateFromProps;(c=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Vv(e,s,r,l),Er=!1,f=e.memoizedState,s.state=f,Iu(e,r,s,i);var y=e.memoizedState;a!==d||f!==y||zt.current||Er?(typeof v=="function"&&(_h(e,n,v,r),y=e.memoizedState),(u=Er||Wv(e,n,u,r,f,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ch(t,e,n,r,o,i)}function Ch(t,e,n,r,i,o){AE(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&$v(e,n,!1),lr(t,e,o);r=e.stateNode,ZI.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=jo(e,t.child,null,o),e.child=jo(e,null,a,o)):Nt(t,e,a,o),e.memoizedState=r.state,i&&$v(e,n,!0),e.child}function OE(t){var e=t.stateNode;e.pendingContext?Fv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Fv(t,e.context,!1),im(t,e.containerInfo)}function ey(t,e,n,r,i){return Uo(),Jp(i),e.flags|=256,Nt(t,e,n,r),e.child}var Th={dehydrated:null,treeContext:null,retryLane:0};function xh(t){return{baseLanes:t,cachePool:null,transitions:null}}function NE(t,e,n){var r=e.pendingProps,i=Ye.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ue(Ye,i&1),t===null)return vh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Pc(s,r,0,null),t=Ti(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=xh(n),e.memoizedState=Th,t):fm(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return eb(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=$r(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=$r(a,o):(o=Ti(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?xh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Th,r}return o=t.child,t=o.sibling,r=$r(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fm(t,e){return e=Pc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nl(t,e,n,r){return r!==null&&Jp(r),jo(e,t.child,null,n),t=fm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eb(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Zd(Error(U(422))),Nl(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Pc({mode:"visible",children:r.children},i,0,null),o=Ti(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&jo(e,t.child,null,s),e.child.memoizedState=xh(s),e.memoizedState=Th,o);if(!(e.mode&1))return Nl(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(U(419)),r=Zd(o,r,void 0),Nl(t,e,s,r)}if(a=(s&t.childLanes)!==0,Ut||a){if(r=ht,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ar(t,i),xn(r,t,i,-1))}return ym(),r=Zd(Error(U(421))),Nl(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=hb.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Kt=Dr(i.nextSibling),Qt=e,Ke=!0,_n=null,t!==null&&(on[sn++]=Qn,on[sn++]=Xn,on[sn++]=Pi,Qn=t.id,Xn=t.overflow,Pi=e),e=fm(e,r.children),e.flags|=4096,e)}function ty(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yh(t.return,e,n)}function ef(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function DE(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Nt(t,e,r.children,n),r=Ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ty(t,n,e);else if(t.tag===19)ty(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ue(Ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&bu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ef(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ef(e,!0,n,null,o);break;case"together":ef(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function eu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function lr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Oi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=$r(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$r(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tb(t,e,n){switch(e.tag){case 3:OE(e),Uo();break;case 5:aE(e);break;case 1:Bt(e.type)&&Eu(e);break;case 4:im(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ue(Tu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Ye,Ye.current&1),e.flags|=128,null):n&e.child.childLanes?NE(t,e,n):(Ue(Ye,Ye.current&1),t=lr(t,e,n),t!==null?t.sibling:null);Ue(Ye,Ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return DE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,PE(t,e,n)}return lr(t,e,n)}var ME,Ih,LE,FE;ME=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ih=function(){};LE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,_i($n.current);var o=null;switch(n){case"input":i=Yf(t,i),r=Yf(t,r),o=[];break;case"select":i=Xe({},i,{value:void 0}),r=Xe({},r,{value:void 0}),o=[];break;case"textarea":i=Xf(t,i),r=Xf(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_u)}Zf(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(aa.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(aa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ze("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};FE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ts(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function nb(t,e,n){var r=e.pendingProps;switch(Xp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(e),null;case 1:return Bt(e.type)&&wu(),xt(e),null;case 3:return r=e.stateNode,zo(),Ve(zt),Ve(kt),sm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Al(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_n!==null&&(Dh(_n),_n=null))),Ih(t,e),xt(e),null;case 5:om(e);var i=_i(_a.current);if(n=e.type,t!==null&&e.stateNode!=null)LE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return xt(e),null}if(t=_i($n.current),Al(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Dn]=e,r[va]=o,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<Fs.length;i++)ze(Fs[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":cv(r,o),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ze("invalid",r);break;case"textarea":fv(r,o),ze("invalid",r)}Zf(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Pl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Pl(r.textContent,a,t),i=["children",""+a]):aa.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ze("scroll",r)}switch(n){case"input":Sl(r),dv(r,o,!0);break;case"textarea":Sl(r),hv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=_u)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Dn]=e,t[va]=r,ME(t,e,!1,!1),e.stateNode=t;e:{switch(s=eh(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<Fs.length;i++)ze(Fs[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":cv(t,r),i=Yf(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Xe({},r,{value:void 0}),ze("invalid",t);break;case"textarea":fv(t,r),i=Xf(t,r),ze("invalid",t);break;default:i=r}Zf(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?hw(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dw(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&la(t,l):typeof l=="number"&&la(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(aa.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ze("scroll",t):l!=null&&Lp(t,o,l,s))}switch(n){case"input":Sl(t),dv(t,r,!1);break;case"textarea":Sl(t),hv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?To(t,!!r.multiple,o,!1):r.defaultValue!=null&&To(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_u)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xt(e),null;case 6:if(t&&e.stateNode!=null)FE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=_i(_a.current),_i($n.current),Al(e)){if(r=e.stateNode,n=e.memoizedProps,r[Dn]=e,(o=r.nodeValue!==n)&&(t=Qt,t!==null))switch(t.tag){case 3:Pl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dn]=e,e.stateNode=r}return xt(e),null;case 13:if(Ve(Ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&Kt!==null&&e.mode&1&&!(e.flags&128))eE(),Uo(),e.flags|=98560,o=!1;else if(o=Al(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(U(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[Dn]=e}else Uo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xt(e),o=!1}else _n!==null&&(Dh(_n),_n=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ye.current&1?lt===0&&(lt=3):ym())),e.updateQueue!==null&&(e.flags|=4),xt(e),null);case 4:return zo(),Ih(t,e),t===null&&ma(e.stateNode.containerInfo),xt(e),null;case 10:return tm(e.type._context),xt(e),null;case 17:return Bt(e.type)&&wu(),xt(e),null;case 19:if(Ve(Ye),o=e.memoizedState,o===null)return xt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ts(o,!1);else{if(lt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=bu(t),s!==null){for(e.flags|=128,Ts(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(Ye,Ye.current&1|2),e.child}t=t.sibling}o.tail!==null&&nt()>Wo&&(e.flags|=128,r=!0,Ts(o,!1),e.lanes=4194304)}else{if(!r)if(t=bu(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ts(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ke)return xt(e),null}else 2*nt()-o.renderingStartTime>Wo&&n!==1073741824&&(e.flags|=128,r=!0,Ts(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=nt(),e.sibling=null,n=Ye.current,Ue(Ye,r?n&1|2:n&1),e):(xt(e),null);case 22:case 23:return vm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gt&1073741824&&(xt(e),e.subtreeFlags&6&&(e.flags|=8192)):xt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function rb(t,e){switch(Xp(e),e.tag){case 1:return Bt(e.type)&&wu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zo(),Ve(zt),Ve(kt),sm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return om(e),null;case 13:if(Ve(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Uo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve(Ye),null;case 4:return zo(),null;case 10:return tm(e.type._context),null;case 22:case 23:return vm(),null;case 24:return null;default:return null}}var Dl=!1,bt=!1,ib=typeof WeakSet=="function"?WeakSet:Set,J=null;function mo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(t,e,r)}else n.current=null}function bh(t,e,n){try{n()}catch(r){Ze(t,e,r)}}var ny=!1;function ob(t,e){if(ch=gu,t=zw(),qp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var v;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(v=d.firstChild)!==null;)f=d,d=v;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=s),f===o&&++c===r&&(l=s),(v=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(dh={focusedElem:t,selectionRange:n},gu=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var h=y.memoizedProps,S=y.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?h:vn(e.type,h),S);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(E){Ze(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return y=ny,ny=!1,y}function Ys(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&bh(e,n,o)}i=i.next}while(i!==r)}}function Rc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Rh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $E(t){var e=t.alternate;e!==null&&(t.alternate=null,$E(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dn],delete e[va],delete e[ph],delete e[zI],delete e[BI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function UE(t){return t.tag===5||t.tag===3||t.tag===4}function ry(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_u));else if(r!==4&&(t=t.child,t!==null))for(kh(t,e,n),t=t.sibling;t!==null;)kh(t,e,n),t=t.sibling}function Ph(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ph(t,e,n),t=t.sibling;t!==null;)Ph(t,e,n),t=t.sibling}var vt=null,yn=!1;function yr(t,e,n){for(n=n.child;n!==null;)jE(t,e,n),n=n.sibling}function jE(t,e,n){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(wc,n)}catch{}switch(n.tag){case 5:bt||mo(n,e);case 6:var r=vt,i=yn;vt=null,yr(t,e,n),vt=r,yn=i,vt!==null&&(yn?(t=vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(yn?(t=vt,n=n.stateNode,t.nodeType===8?Kd(t.parentNode,n):t.nodeType===1&&Kd(t,n),fa(t)):Kd(vt,n.stateNode));break;case 4:r=vt,i=yn,vt=n.stateNode.containerInfo,yn=!0,yr(t,e,n),vt=r,yn=i;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&bh(n,e,s),i=i.next}while(i!==r)}yr(t,e,n);break;case 1:if(!bt&&(mo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ze(n,e,a)}yr(t,e,n);break;case 21:yr(t,e,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,yr(t,e,n),bt=r):yr(t,e,n);break;default:yr(t,e,n)}}function iy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ib),e.forEach(function(r){var i=pb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function mn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:vt=a.stateNode,yn=!1;break e;case 3:vt=a.stateNode.containerInfo,yn=!0;break e;case 4:vt=a.stateNode.containerInfo,yn=!0;break e}a=a.return}if(vt===null)throw Error(U(160));jE(o,s,i),vt=null,yn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ze(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zE(e,t),e=e.sibling}function zE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mn(e,t),An(t),r&4){try{Ys(3,t,t.return),Rc(3,t)}catch(h){Ze(t,t.return,h)}try{Ys(5,t,t.return)}catch(h){Ze(t,t.return,h)}}break;case 1:mn(e,t),An(t),r&512&&n!==null&&mo(n,n.return);break;case 5:if(mn(e,t),An(t),r&512&&n!==null&&mo(n,n.return),t.flags&32){var i=t.stateNode;try{la(i,"")}catch(h){Ze(t,t.return,h)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&lw(i,o),eh(a,s);var u=eh(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?hw(i,d):c==="dangerouslySetInnerHTML"?dw(i,d):c==="children"?la(i,d):Lp(i,c,d,u)}switch(a){case"input":qf(i,o);break;case"textarea":uw(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?To(i,!!o.multiple,v,!1):f!==!!o.multiple&&(o.defaultValue!=null?To(i,!!o.multiple,o.defaultValue,!0):To(i,!!o.multiple,o.multiple?[]:"",!1))}i[va]=o}catch(h){Ze(t,t.return,h)}}break;case 6:if(mn(e,t),An(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(h){Ze(t,t.return,h)}}break;case 3:if(mn(e,t),An(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fa(e.containerInfo)}catch(h){Ze(t,t.return,h)}break;case 4:mn(e,t),An(t);break;case 13:mn(e,t),An(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(mm=nt())),r&4&&iy(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(bt=(u=bt)||c,mn(e,t),bt=u):mn(e,t),An(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(J=t,c=t.child;c!==null;){for(d=J=c;J!==null;){switch(f=J,v=f.child,f.tag){case 0:case 11:case 14:case 15:Ys(4,f,f.return);break;case 1:mo(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(h){Ze(r,n,h)}}break;case 5:mo(f,f.return);break;case 22:if(f.memoizedState!==null){sy(d);continue}}v!==null?(v.return=f,J=v):sy(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=fw("display",s))}catch(h){Ze(t,t.return,h)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(h){Ze(t,t.return,h)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mn(e,t),An(t),r&4&&iy(t);break;case 21:break;default:mn(e,t),An(t)}}function An(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(UE(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(la(i,""),r.flags&=-33);var o=ry(t);Ph(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=ry(t);kh(t,a,s);break;default:throw Error(U(161))}}catch(l){Ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sb(t,e,n){J=t,BE(t)}function BE(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var i=J,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Dl;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||bt;a=Dl;var u=bt;if(Dl=s,(bt=l)&&!u)for(J=i;J!==null;)s=J,l=s.child,s.tag===22&&s.memoizedState!==null?ay(i):l!==null?(l.return=s,J=l):ay(i);for(;o!==null;)J=o,BE(o),o=o.sibling;J=i,Dl=a,bt=u}oy(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,J=o):oy(t)}}function oy(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bt||Rc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:vn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Bv(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Bv(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&fa(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}bt||e.flags&512&&Rh(e)}catch(f){Ze(e,e.return,f)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function sy(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function ay(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rc(4,e)}catch(l){Ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ze(e,i,l)}}var o=e.return;try{Rh(e)}catch(l){Ze(e,o,l)}break;case 5:var s=e.return;try{Rh(e)}catch(l){Ze(e,s,l)}}}catch(l){Ze(e,e.return,l)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var ab=Math.ceil,Pu=hr.ReactCurrentDispatcher,hm=hr.ReactCurrentOwner,un=hr.ReactCurrentBatchConfig,Ie=0,ht=null,rt=null,yt=0,Gt=0,go=ii(0),lt=0,Ca=null,Oi=0,kc=0,pm=0,qs=null,$t=null,mm=0,Wo=1/0,Kn=null,Au=!1,Ah=null,Lr=null,Ml=!1,Pr=null,Ou=0,Qs=0,Oh=null,tu=-1,nu=0;function Mt(){return Ie&6?nt():tu!==-1?tu:tu=nt()}function Fr(t){return t.mode&1?Ie&2&&yt!==0?yt&-yt:VI.transition!==null?(nu===0&&(nu=xw()),nu):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:Ow(t.type)),t):1}function xn(t,e,n,r){if(50<Qs)throw Qs=0,Oh=null,Error(U(185));Ga(t,n,r),(!(Ie&2)||t!==ht)&&(t===ht&&(!(Ie&2)&&(kc|=n),lt===4&&Cr(t,yt)),Wt(t,r),n===1&&Ie===0&&!(e.mode&1)&&(Wo=nt()+500,xc&&oi()))}function Wt(t,e){var n=t.callbackNode;Vx(t,e);var r=mu(t,t===ht?yt:0);if(r===0)n!==null&&gv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gv(n),e===1)t.tag===0?WI(ly.bind(null,t)):Xw(ly.bind(null,t)),UI(function(){!(Ie&6)&&oi()}),n=null;else{switch(Iw(r)){case 1:n=zp;break;case 4:n=Cw;break;case 16:n=pu;break;case 536870912:n=Tw;break;default:n=pu}n=QE(n,WE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function WE(t,e){if(tu=-1,nu=0,Ie&6)throw Error(U(327));var n=t.callbackNode;if(ko()&&t.callbackNode!==n)return null;var r=mu(t,t===ht?yt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Nu(t,r);else{e=r;var i=Ie;Ie|=2;var o=HE();(ht!==t||yt!==e)&&(Kn=null,Wo=nt()+500,Ci(t,e));do try{cb();break}catch(a){VE(t,a)}while(1);em(),Pu.current=o,Ie=i,rt!==null?e=0:(ht=null,yt=0,e=lt)}if(e!==0){if(e===2&&(i=oh(t),i!==0&&(r=i,e=Nh(t,i))),e===1)throw n=Ca,Ci(t,0),Cr(t,r),Wt(t,nt()),n;if(e===6)Cr(t,r);else{if(i=t.current.alternate,!(r&30)&&!lb(i)&&(e=Nu(t,r),e===2&&(o=oh(t),o!==0&&(r=o,e=Nh(t,o))),e===1))throw n=Ca,Ci(t,0),Cr(t,r),Wt(t,nt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:ci(t,$t,Kn);break;case 3:if(Cr(t,r),(r&130023424)===r&&(e=mm+500-nt(),10<e)){if(mu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hh(ci.bind(null,t,$t,Kn),e);break}ci(t,$t,Kn);break;case 4:if(Cr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Tn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ab(r/1960))-r,10<r){t.timeoutHandle=hh(ci.bind(null,t,$t,Kn),r);break}ci(t,$t,Kn);break;case 5:ci(t,$t,Kn);break;default:throw Error(U(329))}}}return Wt(t,nt()),t.callbackNode===n?WE.bind(null,t):null}function Nh(t,e){var n=qs;return t.current.memoizedState.isDehydrated&&(Ci(t,e).flags|=256),t=Nu(t,e),t!==2&&(e=$t,$t=n,e!==null&&Dh(e)),t}function Dh(t){$t===null?$t=t:$t.push.apply($t,t)}function lb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!bn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cr(t,e){for(e&=~pm,e&=~kc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Tn(e),r=1<<n;t[n]=-1,e&=~r}}function ly(t){if(Ie&6)throw Error(U(327));ko();var e=mu(t,0);if(!(e&1))return Wt(t,nt()),null;var n=Nu(t,e);if(t.tag!==0&&n===2){var r=oh(t);r!==0&&(e=r,n=Nh(t,r))}if(n===1)throw n=Ca,Ci(t,0),Cr(t,e),Wt(t,nt()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ci(t,$t,Kn),Wt(t,nt()),null}function gm(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(Wo=nt()+500,xc&&oi())}}function Ni(t){Pr!==null&&Pr.tag===0&&!(Ie&6)&&ko();var e=Ie;Ie|=1;var n=un.transition,r=Ae;try{if(un.transition=null,Ae=1,t)return t()}finally{Ae=r,un.transition=n,Ie=e,!(Ie&6)&&oi()}}function vm(){Gt=go.current,Ve(go)}function Ci(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$I(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(Xp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wu();break;case 3:zo(),Ve(zt),Ve(kt),sm();break;case 5:om(r);break;case 4:zo();break;case 13:Ve(Ye);break;case 19:Ve(Ye);break;case 10:tm(r.type._context);break;case 22:case 23:vm()}n=n.return}if(ht=t,rt=t=$r(t.current,null),yt=Gt=e,lt=0,Ca=null,pm=kc=Oi=0,$t=qs=null,yi!==null){for(e=0;e<yi.length;e++)if(n=yi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}yi=null}return t}function VE(t,e){do{var n=rt;try{if(em(),Jl.current=ku,Ru){for(var r=Qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ru=!1}if(Ai=0,ct=ot=Qe=null,Ks=!1,wa=0,hm.current=null,n===null||n.return===null){lt=1,Ca=e,rt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=yt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=qv(s);if(v!==null){v.flags&=-257,Qv(v,s,a,o,e),v.mode&1&&Yv(o,u,e),e=v,l=u;var y=e.updateQueue;if(y===null){var h=new Set;h.add(l),e.updateQueue=h}else y.add(l);break e}else{if(!(e&1)){Yv(o,u,e),ym();break e}l=Error(U(426))}}else if(Ke&&a.mode&1){var S=qv(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Qv(S,s,a,o,e),Jp(Bo(l,a));break e}}o=l=Bo(l,a),lt!==4&&(lt=2),qs===null?qs=[o]:qs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=bE(o,l,e);zv(o,g);break e;case 1:a=l;var m=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Lr===null||!Lr.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=RE(o,a,e);zv(o,E);break e}}o=o.return}while(o!==null)}KE(n)}catch(b){e=b,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(1)}function HE(){var t=Pu.current;return Pu.current=ku,t===null?ku:t}function ym(){(lt===0||lt===3||lt===2)&&(lt=4),ht===null||!(Oi&268435455)&&!(kc&268435455)||Cr(ht,yt)}function Nu(t,e){var n=Ie;Ie|=2;var r=HE();(ht!==t||yt!==e)&&(Kn=null,Ci(t,e));do try{ub();break}catch(i){VE(t,i)}while(1);if(em(),Ie=n,Pu.current=r,rt!==null)throw Error(U(261));return ht=null,yt=0,lt}function ub(){for(;rt!==null;)GE(rt)}function cb(){for(;rt!==null&&!Mx();)GE(rt)}function GE(t){var e=qE(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,e===null?KE(t):rt=e,hm.current=null}function KE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=rb(n,e),n!==null){n.flags&=32767,rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{lt=6,rt=null;return}}else if(n=nb(n,e,Gt),n!==null){rt=n;return}if(e=e.sibling,e!==null){rt=e;return}rt=e=t}while(e!==null);lt===0&&(lt=5)}function ci(t,e,n){var r=Ae,i=un.transition;try{un.transition=null,Ae=1,db(t,e,n,r)}finally{un.transition=i,Ae=r}return null}function db(t,e,n,r){do ko();while(Pr!==null);if(Ie&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Hx(t,o),t===ht&&(rt=ht=null,yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ml||(Ml=!0,QE(pu,function(){return ko(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=un.transition,un.transition=null;var s=Ae;Ae=1;var a=Ie;Ie|=4,hm.current=null,ob(t,n),zE(n,t),AI(dh),gu=!!ch,dh=ch=null,t.current=n,sb(n),Lx(),Ie=a,Ae=s,un.transition=o}else t.current=n;if(Ml&&(Ml=!1,Pr=t,Ou=i),o=t.pendingLanes,o===0&&(Lr=null),Ux(n.stateNode),Wt(t,nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Au)throw Au=!1,t=Ah,Ah=null,t;return Ou&1&&t.tag!==0&&ko(),o=t.pendingLanes,o&1?t===Oh?Qs++:(Qs=0,Oh=t):Qs=0,oi(),null}function ko(){if(Pr!==null){var t=Iw(Ou),e=un.transition,n=Ae;try{if(un.transition=null,Ae=16>t?16:t,Pr===null)var r=!1;else{if(t=Pr,Pr=null,Ou=0,Ie&6)throw Error(U(331));var i=Ie;for(Ie|=4,J=t.current;J!==null;){var o=J,s=o.child;if(J.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(J=u;J!==null;){var c=J;switch(c.tag){case 0:case 11:case 15:Ys(8,c,o)}var d=c.child;if(d!==null)d.return=c,J=d;else for(;J!==null;){c=J;var f=c.sibling,v=c.return;if($E(c),c===u){J=null;break}if(f!==null){f.return=v,J=f;break}J=v}}}var y=o.alternate;if(y!==null){var h=y.child;if(h!==null){y.child=null;do{var S=h.sibling;h.sibling=null,h=S}while(h!==null)}}J=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,J=s;else e:for(;J!==null;){if(o=J,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ys(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,J=g;break e}J=o.return}}var m=t.current;for(J=m;J!==null;){s=J;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,J=_;else e:for(s=m;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Rc(9,a)}}catch(b){Ze(a,a.return,b)}if(a===s){J=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,J=E;break e}J=a.return}}if(Ie=i,oi(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(wc,t)}catch{}r=!0}return r}finally{Ae=n,un.transition=e}}return!1}function uy(t,e,n){e=Bo(n,e),e=bE(t,e,1),t=Mr(t,e,1),e=Mt(),t!==null&&(Ga(t,1,e),Wt(t,e))}function Ze(t,e,n){if(t.tag===3)uy(t,t,n);else for(;e!==null;){if(e.tag===3){uy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lr===null||!Lr.has(r))){t=Bo(n,t),t=RE(e,t,1),e=Mr(e,t,1),t=Mt(),e!==null&&(Ga(e,1,t),Wt(e,t));break}}e=e.return}}function fb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mt(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(yt&n)===n&&(lt===4||lt===3&&(yt&130023424)===yt&&500>nt()-mm?Ci(t,0):pm|=n),Wt(t,e)}function YE(t,e){e===0&&(t.mode&1?(e=xl,xl<<=1,!(xl&130023424)&&(xl=4194304)):e=1);var n=Mt();t=ar(t,e),t!==null&&(Ga(t,e,n),Wt(t,n))}function hb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),YE(t,n)}function pb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),YE(t,n)}var qE;qE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zt.current)Ut=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ut=!1,tb(t,e,n);Ut=!!(t.flags&131072)}else Ut=!1,Ke&&e.flags&1048576&&Jw(e,Cu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;eu(t,e),t=e.pendingProps;var i=$o(e,kt.current);Ro(e,n),i=lm(null,e,r,t,i,n);var o=um();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bt(r)?(o=!0,Eu(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,rm(e),i.updater=Ic,e.stateNode=i,i._reactInternals=e,wh(e,r,t,n),e=Ch(null,e,r,!0,o,n)):(e.tag=0,Ke&&o&&Qp(e),Nt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(eu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=gb(r),t=vn(r,t),i){case 0:e=Sh(null,e,r,t,n);break e;case 1:e=Zv(null,e,r,t,n);break e;case 11:e=Xv(null,e,r,t,n);break e;case 14:e=Jv(null,e,r,vn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),Sh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),Zv(t,e,r,i,n);case 3:e:{if(OE(e),t===null)throw Error(U(387));r=e.pendingProps,o=e.memoizedState,i=o.element,nE(t,e),Iu(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Bo(Error(U(423)),e),e=ey(t,e,r,n,i);break e}else if(r!==i){i=Bo(Error(U(424)),e),e=ey(t,e,r,n,i);break e}else for(Kt=Dr(e.stateNode.containerInfo.firstChild),Qt=e,Ke=!0,_n=null,n=sE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Uo(),r===i){e=lr(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return aE(e),t===null&&vh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,fh(r,i)?s=null:o!==null&&fh(r,o)&&(e.flags|=32),AE(t,e),Nt(t,e,s,n),e.child;case 6:return t===null&&vh(e),null;case 13:return NE(t,e,n);case 4:return im(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=jo(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),Xv(t,e,r,i,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ue(Tu,r._currentValue),r._currentValue=s,o!==null)if(bn(o.value,s)){if(o.children===i.children&&!zt.current){e=lr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=tr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),yh(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(U(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),yh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Nt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ro(e,n),i=dn(i),r=r(i),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,i=vn(r,e.pendingProps),i=vn(r.type,i),Jv(t,e,r,i,n);case 15:return kE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),eu(t,e),e.tag=1,Bt(r)?(t=!0,Eu(e)):t=!1,Ro(e,n),iE(e,r,i),wh(e,r,i,n),Ch(null,e,r,!0,t,n);case 19:return DE(t,e,n);case 22:return PE(t,e,n)}throw Error(U(156,e.tag))};function QE(t,e){return Sw(t,e)}function mb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,e,n,r){return new mb(t,e,n,r)}function _m(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gb(t){if(typeof t=="function")return _m(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$p)return 11;if(t===Up)return 14}return 2}function $r(t,e){var n=t.alternate;return n===null?(n=ln(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ru(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")_m(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case oo:return Ti(n.children,i,o,e);case Fp:s=8,i|=8;break;case Vf:return t=ln(12,n,e,i|2),t.elementType=Vf,t.lanes=o,t;case Hf:return t=ln(13,n,e,i),t.elementType=Hf,t.lanes=o,t;case Gf:return t=ln(19,n,e,i),t.elementType=Gf,t.lanes=o,t;case ow:return Pc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rw:s=10;break e;case iw:s=9;break e;case $p:s=11;break e;case Up:s=14;break e;case wr:s=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=ln(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ti(t,e,n,r){return t=ln(7,t,r,e),t.lanes=n,t}function Pc(t,e,n,r){return t=ln(22,t,r,e),t.elementType=ow,t.lanes=n,t.stateNode={isHidden:!1},t}function tf(t,e,n){return t=ln(6,t,null,e),t.lanes=n,t}function nf(t,e,n){return e=ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vb(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ld(0),this.expirationTimes=Ld(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ld(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wm(t,e,n,r,i,o,s,a,l){return t=new vb(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ln(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rm(o),t}function yb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:io,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function XE(t){if(!t)return qr;t=t._reactInternals;e:{if(Hi(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Bt(n))return Qw(t,n,e)}return e}function JE(t,e,n,r,i,o,s,a,l){return t=wm(n,r,!0,t,i,o,s,a,l),t.context=XE(null),n=t.current,r=Mt(),i=Fr(n),o=tr(r,i),o.callback=e??null,Mr(n,o,i),t.current.lanes=i,Ga(t,i,r),Wt(t,r),t}function Ac(t,e,n,r){var i=e.current,o=Mt(),s=Fr(i);return n=XE(n),e.context===null?e.context=n:e.pendingContext=n,e=tr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Mr(i,e,s),t!==null&&(xn(t,i,s,o),Xl(t,i,s)),s}function Du(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Em(t,e){cy(t,e),(t=t.alternate)&&cy(t,e)}function _b(){return null}var ZE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sm(t){this._internalRoot=t}Oc.prototype.render=Sm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Ac(t,e,null,null)};Oc.prototype.unmount=Sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ni(function(){Ac(null,t,null,null)}),e[sr]=null}};function Oc(t){this._internalRoot=t}Oc.prototype.unstable_scheduleHydration=function(t){if(t){var e=kw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Sr.length&&e!==0&&e<Sr[n].priority;n++);Sr.splice(n,0,t),n===0&&Aw(t)}};function Cm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dy(){}function wb(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Du(s);o.call(u)}}var s=JE(e,r,t,0,null,!1,!1,"",dy);return t._reactRootContainer=s,t[sr]=s.current,ma(t.nodeType===8?t.parentNode:t),Ni(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Du(l);a.call(u)}}var l=wm(t,0,!1,null,null,!1,!1,"",dy);return t._reactRootContainer=l,t[sr]=l.current,ma(t.nodeType===8?t.parentNode:t),Ni(function(){Ac(e,l,n,r)}),l}function Dc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Du(s);a.call(l)}}Ac(e,s,t,i)}else s=wb(n,e,t,i,r);return Du(s)}bw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ls(e.pendingLanes);n!==0&&(Bp(e,n|1),Wt(e,nt()),!(Ie&6)&&(Wo=nt()+500,oi()))}break;case 13:Ni(function(){var r=ar(t,1);if(r!==null){var i=Mt();xn(r,t,1,i)}}),Em(t,1)}};Wp=function(t){if(t.tag===13){var e=ar(t,134217728);if(e!==null){var n=Mt();xn(e,t,134217728,n)}Em(t,134217728)}};Rw=function(t){if(t.tag===13){var e=Fr(t),n=ar(t,e);if(n!==null){var r=Mt();xn(n,t,e,r)}Em(t,e)}};kw=function(){return Ae};Pw=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};nh=function(t,e,n){switch(e){case"input":if(qf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Tc(r);if(!i)throw Error(U(90));aw(r),qf(r,i)}}}break;case"textarea":uw(t,n);break;case"select":e=n.value,e!=null&&To(t,!!n.multiple,e,!1)}};gw=gm;vw=Ni;var Eb={usingClientEntryPoint:!1,Events:[Ya,uo,Tc,pw,mw,gm]},xs={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Sb={bundleType:xs.bundleType,version:xs.version,rendererPackageName:xs.rendererPackageName,rendererConfig:xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ww(t),t===null?null:t.stateNode},findFiberByHostInstance:xs.findFiberByHostInstance||_b,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ll=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ll.isDisabled&&Ll.supportsFiber)try{wc=Ll.inject(Sb),Fn=Ll}catch{}}Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Eb;Zt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cm(e))throw Error(U(200));return yb(t,e,null,n)};Zt.createRoot=function(t,e){if(!Cm(t))throw Error(U(299));var n=!1,r="",i=ZE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=wm(t,1,!1,null,null,n,!1,r,i),t[sr]=e.current,ma(t.nodeType===8?t.parentNode:t),new Sm(e)};Zt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=ww(e),t=t===null?null:t.stateNode,t};Zt.flushSync=function(t){return Ni(t)};Zt.hydrate=function(t,e,n){if(!Nc(e))throw Error(U(200));return Dc(null,t,e,!0,n)};Zt.hydrateRoot=function(t,e,n){if(!Cm(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=ZE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=JE(e,null,t,1,n??null,i,!1,o,s),t[sr]=e.current,ma(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Oc(e)};Zt.render=function(t,e,n){if(!Nc(e))throw Error(U(200));return Dc(null,t,e,!1,n)};Zt.unmountComponentAtNode=function(t){if(!Nc(t))throw Error(U(40));return t._reactRootContainer?(Ni(function(){Dc(null,null,t,!1,function(){t._reactRootContainer=null,t[sr]=null})}),!0):!1};Zt.unstable_batchedUpdates=gm;Zt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nc(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Dc(t,e,n,!1,r)};Zt.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Zt})(_x);const Fl=H0(sa);var fy=sa;zf.createRoot=fy.createRoot,zf.hydrateRoot=fy.hydrateRoot;/**
 * @remix-run/router v1.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xe(){return xe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xe.apply(this,arguments)}var tt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(tt||(tt={}));const hy="popstate";function Cb(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Ta("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ur(i)}return xb(e,n,null,t)}function me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Tb(){return Math.random().toString(36).substr(2,8)}function py(t,e){return{usr:t.state,key:t.key,idx:e}}function Ta(t,e,n,r){return n===void 0&&(n=null),xe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pr(e):e,{state:n,key:e&&e.key||r||Tb()})}function ur(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function xb(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=tt.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(xe({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){a=tt.Pop;let S=c(),g=S==null?null:S-u;u=S,l&&l({action:a,location:h.location,delta:g})}function f(S,g){a=tt.Push;let m=Ta(h.location,S,g);n&&n(m,S),u=c()+1;let _=py(m,u),E=h.createHref(m);try{s.pushState(_,"",E)}catch{i.location.assign(E)}o&&l&&l({action:a,location:h.location,delta:1})}function v(S,g){a=tt.Replace;let m=Ta(h.location,S,g);n&&n(m,S),u=c();let _=py(m,u),E=h.createHref(m);s.replaceState(_,"",E),o&&l&&l({action:a,location:h.location,delta:0})}function y(S){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof S=="string"?S:ur(S);return me(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let h={get action(){return a},get location(){return t(i,s)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(hy,d),l=S,()=>{i.removeEventListener(hy,d),l=null}},createHref(S){return e(i,S)},createURL:y,encodeLocation(S){let g=y(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:v,go(S){return s.go(S)}};return h}var it;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(it||(it={}));const Ib=new Set(["lazy","caseSensitive","path","id","index","children"]);function bb(t){return t.index===!0}function e1(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(me(i.index!==!0||!i.children,"Cannot specify children on an index route"),me(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),bb(i)){let l=xe({},i,{hasErrorBoundary:e(i),id:a});return r[a]=l,l}else{let l=xe({},i,{id:a,hasErrorBoundary:e(i),children:void 0});return r[a]=l,i.children&&(l.children=e1(i.children,e,s,r)),l}})}function vo(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?pr(e):e,i=Qa(r.pathname||"/",n);if(i==null)return null;let o=t1(t);Rb(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=Fb(o[a],jb(i));return s}function t1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(me(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=nr([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(me(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),t1(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:Mb(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of n1(o.path))i(o,s,l)}),e}function n1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=n1(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Rb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Lb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const kb=/^:\w+$/,Pb=3,Ab=2,Ob=1,Nb=10,Db=-2,my=t=>t==="*";function Mb(t,e){let n=t.split("/"),r=n.length;return n.some(my)&&(r+=Db),e&&(r+=Ab),n.filter(i=>!my(i)).reduce((i,o)=>i+(kb.test(o)?Pb:o===""?Ob:Nb),r)}function Lb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Fb(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=$b({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;o.push({params:r,pathname:nr([i,c.pathname]),pathnameBase:Vb(nr([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=nr([i,c.pathnameBase]))}return o}function $b(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Ub(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=a[d]||"";s=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=zb(a[d]||"",c),u},{}),pathname:o,pathnameBase:s,pattern:t}}function Ub(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Vo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function jb(t){try{return decodeURI(t)}catch(e){return Vo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zb(t,e){try{return decodeURIComponent(t)}catch(n){return Vo(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Qa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Bb(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?pr(t):t;return{pathname:n?n.startsWith("/")?n:Wb(n,e):e,search:Hb(r),hash:Gb(i)}}function Wb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function rf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mc(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=pr(t):(i=xe({},t),me(!i.pathname||!i.pathname.includes("?"),rf("?","pathname","search",i)),me(!i.pathname||!i.pathname.includes("#"),rf("#","pathname","hash",i)),me(!i.search||!i.search.includes("#"),rf("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let d=e.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=Bb(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const nr=t=>t.join("/").replace(/\/\/+/g,"/"),Vb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Hb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Gb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class gy extends Error{}class Kb{constructor(e,n){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],me(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((o,s)=>r=s),this.controller=new AbortController;let i=()=>r(new gy("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(e).reduce((o,s)=>{let[a,l]=s;return Object.assign(o,{[a]:this.trackPromise(a,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=n}trackPromise(e,n){if(!(n instanceof Promise))return n;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let r=Promise.race([n,this.abortPromise]).then(i=>this.onSettle(r,e,null,i),i=>this.onSettle(r,e,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,n,r,i){return this.controller.signal.aborted&&r instanceof gy?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r)):(this.pendingKeysSet.delete(n),this.done&&this.unlistenAbortSignal(),r?(Object.defineProperty(e,"_error",{get:()=>r}),this.emit(!1,n),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>i}),this.emit(!1,n),i))}emit(e,n){this.subscribers.forEach(r=>r(e,n))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,n)=>this.pendingKeysSet.delete(n)),this.emit(!0)}async resolveData(e){let n=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),n=await new Promise(i=>{this.subscribe(o=>{e.removeEventListener("abort",r),(o||this.done)&&i(o)})})}return n}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return me(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,n)=>{let[r,i]=n;return Object.assign(e,{[r]:qb(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function Yb(t){return t instanceof Promise&&t._tracked===!0}function qb(t){if(!Yb(t))return t;if(t._error)throw t._error;return t._data}class xm{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function r1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const i1=["post","put","patch","delete"],Qb=new Set(i1),Xb=["get",...i1],Jb=new Set(Xb),Zb=new Set([301,302,303,307,308]),eR=new Set([307,308]),of={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},tR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},vy={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},o1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,s1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nR=!s1,rR=t=>Boolean(t.hasErrorBoundary);function iR(t){me(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=t.detectErrorBoundary||rR,n={},r=e1(t.routes,e,void 0,n),i,o=null,s=new Set,a=null,l=null,u=null,c=t.hydrationData!=null,d=vo(r,t.history.location,t.basename),f=null;if(d==null){let P=Nn(404,{pathname:t.history.location.pathname}),{matches:N,route:$}=Cy(r);d=N,f={[$.id]:P}}let v=!d.some(P=>P.route.lazy)&&(!d.some(P=>P.route.loader)||t.hydrationData!=null),y,h={historyAction:t.history.action,location:t.history.location,matches:d,initialized:v,navigation:of,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||f,fetchers:new Map,blockers:new Map},S=tt.Pop,g=!1,m,_=!1,E=!1,b=[],L=[],D=new Map,j=0,oe=-1,Q=new Map,he=new Set,Ce=new Map,ke=new Map,Le=new Map,He=!1;function wt(){if(o=t.history.listen($=>{let{action:te,location:ne,delta:le}=$;if(He){He=!1;return}Vo(Le.size===0||le!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ae=Z({currentLocation:h.location,nextLocation:ne,historyAction:te});if(ae&&le!=null){He=!0,t.history.go(le*-1),Y(ae,{state:"blocked",location:ne,proceed(){Y(ae,{state:"proceeding",proceed:void 0,reset:void 0,location:ne}),t.history.go(le)},reset(){R(ae),q({blockers:new Map(y.state.blockers)})}});return}return p(te,ne)}),h.initialized)return y;let P=h.matches.filter($=>$.route.lazy);if(P.length===0)return p(tt.Pop,h.location),y;let N=P.map($=>Mh($.route,e,n));return Promise.all(N).then(()=>{!h.matches.some(te=>te.route.loader)||t.hydrationData!=null?q({initialized:!0}):p(tt.Pop,h.location)}),y}function Je(){o&&o(),s.clear(),m&&m.abort(),h.fetchers.forEach((P,N)=>I(N)),h.blockers.forEach((P,N)=>R(N))}function V(P){return s.add(P),()=>s.delete(P)}function q(P){h=xe({},h,P),s.forEach(N=>N(h))}function ee(P,N){var $,te;let ne=h.actionData!=null&&h.navigation.formMethod!=null&&Yn(h.navigation.formMethod)&&h.navigation.state==="loading"&&(($=P.state)==null?void 0:$._isRedirect)!==!0,le;N.actionData?Object.keys(N.actionData).length>0?le=N.actionData:le=null:ne?le=h.actionData:le=null;let ae=N.loaderData?Sy(h.loaderData,N.loaderData,N.matches||[],N.errors):h.loaderData;for(let[ie]of Le)R(ie);let ge=g===!0||h.navigation.formMethod!=null&&Yn(h.navigation.formMethod)&&((te=P.state)==null?void 0:te._isRedirect)!==!0;i&&(r=i,i=void 0),q(xe({},N,{actionData:le,loaderData:ae,historyAction:S,location:P,initialized:!0,navigation:of,revalidation:"idle",restoreScrollPosition:je(P,N.matches||h.matches),preventScrollReset:ge,blockers:new Map(h.blockers)})),_||S===tt.Pop||(S===tt.Push?t.history.push(P,P.state):S===tt.Replace&&t.history.replace(P,P.state)),S=tt.Pop,g=!1,_=!1,E=!1,b=[],L=[]}async function Se(P,N){if(typeof P=="number"){t.history.go(P);return}let{path:$,submission:te,error:ne}=yy(P,N),le=h.location,ae=Ta(h.location,$,N&&N.state);ae=xe({},ae,t.history.encodeLocation(ae));let ge=N&&N.replace!=null?N.replace:void 0,ie=tt.Push;ge===!0?ie=tt.Replace:ge===!1||te!=null&&Yn(te.formMethod)&&te.formAction===h.location.pathname+h.location.search&&(ie=tt.Replace);let St=N&&"preventScrollReset"in N?N.preventScrollReset===!0:void 0,Re=Z({currentLocation:le,nextLocation:ae,historyAction:ie});if(Re){Y(Re,{state:"blocked",location:ae,proceed(){Y(Re,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),Se(P,N)},reset(){R(Re),q({blockers:new Map(h.blockers)})}});return}return await p(ie,ae,{submission:te,pendingError:ne,preventScrollReset:St,replace:N&&N.replace})}function z(){if(M(),q({revalidation:"loading"}),h.navigation.state!=="submitting"){if(h.navigation.state==="idle"){p(h.historyAction,h.location,{startUninterruptedRevalidation:!0});return}p(S||h.historyAction,h.navigation.location,{overrideNavigation:h.navigation})}}async function p(P,N,$){m&&m.abort(),m=null,S=P,_=($&&$.startUninterruptedRevalidation)===!0,se(h.location,h.matches),g=($&&$.preventScrollReset)===!0;let te=i||r,ne=$&&$.overrideNavigation,le=vo(te,N,t.basename);if(!le){let et=Nn(404,{pathname:N.pathname}),{matches:kn,route:pn}=Cy(te);X(),ee(N,{matches:kn,loaderData:{},errors:{[pn.id]:et}});return}if(uR(h.location,N)&&!($&&$.submission&&Yn($.submission.formMethod))){ee(N,{matches:le});return}m=new AbortController;let ae=bs(t.history,N,m.signal,$&&$.submission),ge,ie;if($&&$.pendingError)ie={[yo(le).route.id]:$.pendingError};else if($&&$.submission&&Yn($.submission.formMethod)){let et=await F(ae,N,$.submission,le,{replace:$.replace});if(et.shortCircuited)return;ge=et.pendingActionData,ie=et.pendingActionError,ne=xe({state:"loading",location:N},$.submission),ae=new Request(ae.url,{signal:ae.signal})}let{shortCircuited:St,loaderData:Re,errors:Ot}=await re(ae,N,le,ne,$&&$.submission,$&&$.replace,ge,ie);St||(m=null,ee(N,xe({matches:le},ge?{actionData:ge}:{},{loaderData:Re,errors:Ot})))}async function F(P,N,$,te,ne){M();let le=xe({state:"submitting",location:N},$);q({navigation:le});let ae,ge=Lh(te,N);if(!ge.route.action&&!ge.route.lazy)ae={type:it.error,error:Nn(405,{method:P.method,pathname:N.pathname,routeId:ge.route.id})};else if(ae=await Is("action",P,ge,te,n,e,y.basename),P.signal.aborted)return{shortCircuited:!0};if(Po(ae)){let ie;return ne&&ne.replace!=null?ie=ne.replace:ie=ae.location===h.location.pathname+h.location.search,await T(h,ae,{submission:$,replace:ie}),{shortCircuited:!0}}if(Xs(ae)){let ie=yo(te,ge.route.id);return(ne&&ne.replace)!==!0&&(S=tt.Push),{pendingActionData:{},pendingActionError:{[ie.route.id]:ae.error}}}if(wi(ae))throw Nn(400,{type:"defer-action"});return{pendingActionData:{[ge.route.id]:ae.data}}}async function re(P,N,$,te,ne,le,ae,ge){let ie=te;ie||(ie=xe({state:"loading",location:N,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ne));let St=ne||(ie.formMethod&&ie.formAction&&ie.formData&&ie.formEncType?{formMethod:ie.formMethod,formAction:ie.formAction,formData:ie.formData,formEncType:ie.formEncType}:void 0),Re=i||r,[Ot,et]=_y(t.history,h,$,St,N,E,b,L,Ce,Re,t.basename,ae,ge);if(X(Ct=>!($&&$.some(Pn=>Pn.route.id===Ct))||Ot&&Ot.some(Pn=>Pn.route.id===Ct)),Ot.length===0&&et.length===0)return ee(N,xe({matches:$,loaderData:{},errors:ge||null},ae?{actionData:ae}:{})),{shortCircuited:!0};if(!_){et.forEach(Pn=>{let ai=h.fetchers.get(Pn.key),_l={state:"loading",data:ai&&ai.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};h.fetchers.set(Pn.key,_l)});let Ct=ae||h.actionData;q(xe({navigation:ie},Ct?Object.keys(Ct).length===0?{actionData:null}:{actionData:Ct}:{},et.length>0?{fetchers:new Map(h.fetchers)}:{}))}oe=++j,et.forEach(Ct=>D.set(Ct.key,m));let{results:kn,loaderResults:pn,fetcherResults:vs}=await O(h.matches,$,Ot,et,P);if(P.signal.aborted)return{shortCircuited:!0};et.forEach(Ct=>D.delete(Ct.key));let vl=Ty(kn);if(vl)return await T(h,vl,{replace:le}),{shortCircuited:!0};let{loaderData:yl,errors:eo}=Ey(h,$,Ot,pn,ge,et,vs,ke);ke.forEach((Ct,Pn)=>{Ct.subscribe(ai=>{(ai||Ct.done)&&ke.delete(Pn)})}),ce();let Rd=Te(oe);return xe({loaderData:yl,errors:eo},Rd||et.length>0?{fetchers:new Map(h.fetchers)}:{})}function k(P){return h.fetchers.get(P)||tR}function w(P,N,$,te){if(nR)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");D.has(P)&&K(P);let le=vo(i||r,$,t.basename);if(!le){G(P,N,Nn(404,{pathname:$}));return}let{path:ae,submission:ge}=yy($,te,!0),ie=Lh(le,ae);if(g=(te&&te.preventScrollReset)===!0,ge&&Yn(ge.formMethod)){C(P,N,ae,ie,le,ge);return}Ce.set(P,{routeId:N,path:ae}),x(P,N,ae,ie,le,ge)}async function C(P,N,$,te,ne,le){if(M(),Ce.delete(P),!te.route.action&&!te.route.lazy){let Gn=Nn(405,{method:le.formMethod,pathname:$,routeId:N});G(P,N,Gn);return}let ae=h.fetchers.get(P),ge=xe({state:"submitting"},le,{data:ae&&ae.data," _hasFetcherDoneAnything ":!0});h.fetchers.set(P,ge),q({fetchers:new Map(h.fetchers)});let ie=new AbortController,St=bs(t.history,$,ie.signal,le);D.set(P,ie);let Re=await Is("action",St,te,ne,n,e,y.basename);if(St.signal.aborted){D.get(P)===ie&&D.delete(P);return}if(Po(Re)){D.delete(P),he.add(P);let Gn=xe({state:"loading"},le,{data:void 0," _hasFetcherDoneAnything ":!0});return h.fetchers.set(P,Gn),q({fetchers:new Map(h.fetchers)}),T(h,Re,{isFetchActionRedirect:!0})}if(Xs(Re)){G(P,N,Re.error);return}if(wi(Re))throw Nn(400,{type:"defer-action"});let Ot=h.navigation.location||h.location,et=bs(t.history,Ot,ie.signal),kn=i||r,pn=h.navigation.state!=="idle"?vo(kn,h.navigation.location,t.basename):h.matches;me(pn,"Didn't find any matches after fetcher action");let vs=++j;Q.set(P,vs);let vl=xe({state:"loading",data:Re.data},le,{" _hasFetcherDoneAnything ":!0});h.fetchers.set(P,vl);let[yl,eo]=_y(t.history,h,pn,le,Ot,E,b,L,Ce,kn,t.basename,{[te.route.id]:Re.data},void 0);eo.filter(Gn=>Gn.key!==P).forEach(Gn=>{let Pd=Gn.key,rv=h.fetchers.get(Pd),GT={state:"loading",data:rv&&rv.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};h.fetchers.set(Pd,GT),D.set(Pd,ie)}),q({fetchers:new Map(h.fetchers)});let{results:Rd,loaderResults:Ct,fetcherResults:Pn}=await O(h.matches,pn,yl,eo,et);if(ie.signal.aborted)return;Q.delete(P),D.delete(P),eo.forEach(Gn=>D.delete(Gn.key));let ai=Ty(Rd);if(ai)return T(h,ai);let{loaderData:_l,errors:kd}=Ey(h,h.matches,yl,Ct,void 0,eo,Pn,ke),VT={state:"idle",data:Re.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};h.fetchers.set(P,VT);let HT=Te(vs);h.navigation.state==="loading"&&vs>oe?(me(S,"Expected pending action"),m&&m.abort(),ee(h.navigation.location,{matches:pn,loaderData:_l,errors:kd,fetchers:new Map(h.fetchers)})):(q(xe({errors:kd,loaderData:Sy(h.loaderData,_l,pn,kd)},HT?{fetchers:new Map(h.fetchers)}:{})),E=!1)}async function x(P,N,$,te,ne,le){let ae=h.fetchers.get(P),ge=xe({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},le,{data:ae&&ae.data," _hasFetcherDoneAnything ":!0});h.fetchers.set(P,ge),q({fetchers:new Map(h.fetchers)});let ie=new AbortController,St=bs(t.history,$,ie.signal);D.set(P,ie);let Re=await Is("loader",St,te,ne,n,e,y.basename);if(wi(Re)&&(Re=await c1(Re,St.signal,!0)||Re),D.get(P)===ie&&D.delete(P),St.signal.aborted)return;if(Po(Re)){await T(h,Re);return}if(Xs(Re)){let et=yo(h.matches,N);h.fetchers.delete(P),q({fetchers:new Map(h.fetchers),errors:{[et.route.id]:Re.error}});return}me(!wi(Re),"Unhandled fetcher deferred data");let Ot={state:"idle",data:Re.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};h.fetchers.set(P,Ot),q({fetchers:new Map(h.fetchers)})}async function T(P,N,$){var te;let{submission:ne,replace:le,isFetchActionRedirect:ae}=$===void 0?{}:$;N.revalidate&&(E=!0);let ge=Ta(P.location,N.location,xe({_isRedirect:!0},ae?{_isFetchActionRedirect:!0}:{}));if(me(ge,"Expected a location on the redirect navigation"),o1.test(N.location)&&s1&&typeof((te=window)==null?void 0:te.location)<"u"){let kn=t.history.createURL(N.location),pn=Qa(kn.pathname,t.basename||"/")==null;if(window.location.origin!==kn.origin||pn){le?window.location.replace(N.location):window.location.assign(N.location);return}}m=null;let ie=le===!0?tt.Replace:tt.Push,{formMethod:St,formAction:Re,formEncType:Ot,formData:et}=P.navigation;!ne&&St&&Re&&et&&Ot&&(ne={formMethod:St,formAction:Re,formEncType:Ot,formData:et}),eR.has(N.status)&&ne&&Yn(ne.formMethod)?await p(ie,ge,{submission:xe({},ne,{formAction:N.location}),preventScrollReset:g}):await p(ie,ge,{overrideNavigation:{state:"loading",location:ge,formMethod:ne?ne.formMethod:void 0,formAction:ne?ne.formAction:void 0,formEncType:ne?ne.formEncType:void 0,formData:ne?ne.formData:void 0},preventScrollReset:g})}async function O(P,N,$,te,ne){let le=await Promise.all([...$.map(ie=>Is("loader",ne,ie,N,n,e,y.basename)),...te.map(ie=>ie.matches&&ie.match?Is("loader",bs(t.history,ie.path,ne.signal),ie.match,ie.matches,n,e,y.basename):{type:it.error,error:Nn(404,{pathname:ie.path})})]),ae=le.slice(0,$.length),ge=le.slice($.length);return await Promise.all([xy(P,$,ae,ne.signal,!1,h.loaderData),xy(P,te.map(ie=>ie.match),ge,ne.signal,!0)]),{results:le,loaderResults:ae,fetcherResults:ge}}function M(){E=!0,b.push(...X()),Ce.forEach((P,N)=>{D.has(N)&&(L.push(N),K(N))})}function G(P,N,$){let te=yo(h.matches,N);I(P),q({errors:{[te.route.id]:$},fetchers:new Map(h.fetchers)})}function I(P){D.has(P)&&K(P),Ce.delete(P),Q.delete(P),he.delete(P),h.fetchers.delete(P)}function K(P){let N=D.get(P);me(N,"Expected fetch controller: "+P),N.abort(),D.delete(P)}function pe(P){for(let N of P){let te={state:"idle",data:k(N).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};h.fetchers.set(N,te)}}function ce(){let P=[];for(let N of he){let $=h.fetchers.get(N);me($,"Expected fetcher: "+N),$.state==="loading"&&(he.delete(N),P.push(N))}pe(P)}function Te(P){let N=[];for(let[$,te]of Q)if(te<P){let ne=h.fetchers.get($);me(ne,"Expected fetcher: "+$),ne.state==="loading"&&(K($),Q.delete($),N.push($))}return pe(N),N.length>0}function Et(P,N){let $=h.blockers.get(P)||vy;return Le.get(P)!==N&&Le.set(P,N),$}function R(P){h.blockers.delete(P),Le.delete(P)}function Y(P,N){let $=h.blockers.get(P)||vy;me($.state==="unblocked"&&N.state==="blocked"||$.state==="blocked"&&N.state==="blocked"||$.state==="blocked"&&N.state==="proceeding"||$.state==="blocked"&&N.state==="unblocked"||$.state==="proceeding"&&N.state==="unblocked","Invalid blocker state transition: "+$.state+" -> "+N.state),h.blockers.set(P,N),q({blockers:new Map(h.blockers)})}function Z(P){let{currentLocation:N,nextLocation:$,historyAction:te}=P;if(Le.size===0)return;Le.size>1&&Vo(!1,"A router only supports one blocker at a time");let ne=Array.from(Le.entries()),[le,ae]=ne[ne.length-1],ge=h.blockers.get(le);if(!(ge&&ge.state==="proceeding")&&ae({currentLocation:N,nextLocation:$,historyAction:te}))return le}function X(P){let N=[];return ke.forEach(($,te)=>{(!P||P(te))&&($.cancel(),N.push(te),ke.delete(te))}),N}function B(P,N,$){if(a=P,u=N,l=$||(te=>te.key),!c&&h.navigation===of){c=!0;let te=je(h.location,h.matches);te!=null&&q({restoreScrollPosition:te})}return()=>{a=null,u=null,l=null}}function se(P,N){if(a&&l&&u){let $=N.map(ne=>Iy(ne,h.loaderData)),te=l(P,$)||P.key;a[te]=u()}}function je(P,N){if(a&&l&&u){let $=N.map(le=>Iy(le,h.loaderData)),te=l(P,$)||P.key,ne=a[te];if(typeof ne=="number")return ne}return null}function At(P){i=P}return y={get basename(){return t.basename},get state(){return h},get routes(){return r},initialize:wt,subscribe:V,enableScrollRestoration:B,navigate:Se,fetch:w,revalidate:z,createHref:P=>t.history.createHref(P),encodeLocation:P=>t.history.encodeLocation(P),getFetcher:k,deleteFetcher:I,dispose:Je,getBlocker:Et,deleteBlocker:R,_internalFetchControllers:D,_internalActiveDeferreds:ke,_internalSetRoutes:At},y}function oR(t){return t!=null&&"formData"in t}function yy(t,e,n){n===void 0&&(n=!1);let r=typeof t=="string"?t:ur(t);if(!e||!oR(e))return{path:r};if(e.formMethod&&!dR(e.formMethod))return{path:r,error:Nn(405,{method:e.formMethod})};let i;if(e.formData&&(i={formMethod:e.formMethod||"get",formAction:u1(r),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData},Yn(i.formMethod)))return{path:r,submission:i};let o=pr(r),s=l1(e.formData);return n&&o.search&&d1(o.search)&&s.append("index",""),o.search="?"+s,{path:ur(o),submission:i}}function sR(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function _y(t,e,n,r,i,o,s,a,l,u,c,d,f){let v=f?Object.values(f)[0]:d?Object.values(d)[0]:void 0,y=t.createURL(e.location),h=t.createURL(i),S=o||y.toString()===h.toString()||y.search!==h.search,g=f?Object.keys(f)[0]:void 0,_=sR(n,g).filter((b,L)=>{if(b.route.lazy)return!0;if(b.route.loader==null)return!1;if(aR(e.loaderData,e.matches[L],b)||s.some(oe=>oe===b.route.id))return!0;let D=e.matches[L],j=b;return wy(b,xe({currentUrl:y,currentParams:D.params,nextUrl:h,nextParams:j.params},r,{actionResult:v,defaultShouldRevalidate:S||a1(D,j)}))}),E=[];return l.forEach((b,L)=>{if(!n.some(Q=>Q.route.id===b.routeId))return;let D=vo(u,b.path,c);if(!D){E.push(xe({key:L},b,{matches:null,match:null}));return}let j=Lh(D,b.path);if(a.includes(L)){E.push(xe({key:L,matches:D,match:j},b));return}wy(j,xe({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:h,nextParams:n[n.length-1].params},r,{actionResult:v,defaultShouldRevalidate:S}))&&E.push(xe({key:L,matches:D,match:j},b))}),[_,E]}function aR(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function a1(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function wy(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Mh(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];me(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";Vo(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!Ib.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,{hasErrorBoundary:e(xe({},i)),lazy:void 0})}async function Is(t,e,n,r,i,o,s,a,l,u){s===void 0&&(s="/"),a===void 0&&(a=!1),l===void 0&&(l=!1);let c,d,f,v=S=>{let g,m=new Promise((_,E)=>g=E);return f=()=>g(),e.signal.addEventListener("abort",f),Promise.race([S({request:e,params:n.params,context:u}),m])};try{let S=n.route[t];if(n.route.lazy)if(S)d=(await Promise.all([v(S),Mh(n.route,o,i)]))[0];else if(await Mh(n.route,o,i),S=n.route[t],S)d=await v(S);else{if(t==="action")throw Nn(405,{method:e.method,pathname:new URL(e.url).pathname,routeId:n.route.id});return{type:it.data,data:void 0}}else me(S,"Could not find the "+t+' to run on the "'+n.route.id+'" route'),d=await v(S);me(d!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(S){c=it.error,d=S}finally{f&&e.signal.removeEventListener("abort",f)}if(cR(d)){let S=d.status;if(Zb.has(S)){let _=d.headers.get("Location");if(me(_,"Redirects returned/thrown from loaders/actions must have a Location header"),o1.test(_)){if(!a){let E=new URL(e.url),b=_.startsWith("//")?new URL(E.protocol+_):new URL(_),L=Qa(b.pathname,s)!=null;b.origin===E.origin&&L&&(_=b.pathname+b.search+b.hash)}}else{let E=r.slice(0,r.indexOf(n)+1),b=Mc(E).map(D=>D.pathnameBase),L=Tm(_,b,new URL(e.url).pathname);if(me(ur(L),"Unable to resolve redirect location: "+_),s){let D=L.pathname;L.pathname=D==="/"?s:nr([s,D])}_=ur(L)}if(a)throw d.headers.set("Location",_),d;return{type:it.redirect,status:S,location:_,revalidate:d.headers.get("X-Remix-Revalidate")!==null}}if(l)throw{type:c||it.data,response:d};let g,m=d.headers.get("Content-Type");return m&&/\bapplication\/json\b/.test(m)?g=await d.json():g=await d.text(),c===it.error?{type:c,error:new xm(S,d.statusText,g),headers:d.headers}:{type:it.data,data:g,statusCode:d.status,headers:d.headers}}if(c===it.error)return{type:c,error:d};if(d instanceof Kb){var y,h;return{type:it.deferred,deferredData:d,statusCode:(y=d.init)==null?void 0:y.status,headers:((h=d.init)==null?void 0:h.headers)&&new Headers(d.init.headers)}}return{type:it.data,data:d}}function bs(t,e,n,r){let i=t.createURL(u1(e)).toString(),o={signal:n};if(r&&Yn(r.formMethod)){let{formMethod:s,formEncType:a,formData:l}=r;o.method=s.toUpperCase(),o.body=a==="application/x-www-form-urlencoded"?l1(l):l}return new Request(i,o)}function l1(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function lR(t,e,n,r,i){let o={},s=null,a,l=!1,u={};return n.forEach((c,d)=>{let f=e[d].route.id;if(me(!Po(c),"Cannot handle redirect results in processLoaderData"),Xs(c)){let v=yo(t,f),y=c.error;r&&(y=Object.values(r)[0],r=void 0),s=s||{},s[v.route.id]==null&&(s[v.route.id]=y),o[f]=void 0,l||(l=!0,a=r1(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else wi(c)?(i.set(f,c.deferredData),o[f]=c.deferredData.data):o[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[f]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function Ey(t,e,n,r,i,o,s,a){let{loaderData:l,errors:u}=lR(e,n,r,i,a);for(let c=0;c<o.length;c++){let{key:d,match:f}=o[c];me(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let v=s[c];if(Xs(v)){let y=yo(t.matches,f==null?void 0:f.route.id);u&&u[y.route.id]||(u=xe({},u,{[y.route.id]:v.error})),t.fetchers.delete(d)}else if(Po(v))me(!1,"Unhandled fetcher revalidation redirect");else if(wi(v))me(!1,"Unhandled fetcher deferred data");else{let y={state:"idle",data:v.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(d,y)}}return{loaderData:l,errors:u}}function Sy(t,e,n,r){let i=xe({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function yo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Cy(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Nn(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"&&(a="defer() is not supported in actions")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new xm(t||500,s,new Error(a),!0)}function Ty(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Po(n))return n}}function u1(t){let e=typeof t=="string"?pr(t):t;return ur(xe({},e,{hash:""}))}function uR(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function wi(t){return t.type===it.deferred}function Xs(t){return t.type===it.error}function Po(t){return(t&&t.type)===it.redirect}function cR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function dR(t){return Jb.has(t)}function Yn(t){return Qb.has(t)}async function xy(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=e[s];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!a1(u,l)&&(o&&o[l.route.id])!==void 0;wi(a)&&(i||c)&&await c1(a,r,i).then(d=>{d&&(n[s]=d||n[s])})}}async function c1(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:it.data,data:t.deferredData.unwrappedData}}catch(i){return{type:it.error,error:i}}return{type:it.data,data:t.deferredData.data}}}function d1(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Iy(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Lh(t,e){let n=typeof e=="string"?pr(e).search:e.search;if(t[t.length-1].route.index&&d1(n||""))return t[t.length-1];let r=Mc(t);return r[r.length-1]}/**
 * React Router v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const hR=typeof Object.is=="function"?Object.is:fR,{useState:pR,useEffect:mR,useLayoutEffect:gR,useDebugValue:vR}=jf;function yR(t,e,n){const r=e(),[{inst:i},o]=pR({inst:{value:r,getSnapshot:e}});return gR(()=>{i.value=r,i.getSnapshot=e,sf(i)&&o({inst:i})},[t,r,e]),mR(()=>(sf(i)&&o({inst:i}),t(()=>{sf(i)&&o({inst:i})})),[t]),vR(r),r}function sf(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!hR(n,r)}catch{return!0}}function _R(t,e,n){return e()}const wR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ER=!wR,SR=ER?_R:yR,CR="useSyncExternalStore"in jf?(t=>t.useSyncExternalStore)(jf):SR,Im=A.createContext(null),bm=A.createContext(null),Xa=A.createContext(null),Lc=A.createContext(null),Gi=A.createContext({outlet:null,matches:[]}),f1=A.createContext(null);function Fh(){return Fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fh.apply(this,arguments)}function TR(t,e){let{relative:n}=e===void 0?{}:e;Ja()||me(!1);let{basename:r,navigator:i}=A.useContext(Xa),{hash:o,pathname:s,search:a}=h1(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:nr([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Ja(){return A.useContext(Lc)!=null}function Fc(){return Ja()||me(!1),A.useContext(Lc).location}function xR(){Ja()||me(!1);let{basename:t,navigator:e}=A.useContext(Xa),{matches:n}=A.useContext(Gi),{pathname:r}=Fc(),i=JSON.stringify(Mc(n).map(a=>a.pathnameBase)),o=A.useRef(!1);return A.useEffect(()=>{o.current=!0}),A.useCallback(function(a,l){if(l===void 0&&(l={}),!o.current)return;if(typeof a=="number"){e.go(a);return}let u=Tm(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:nr([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}const IR=A.createContext(null);function bR(t){let e=A.useContext(Gi).outlet;return e&&A.createElement(IR.Provider,{value:t},e)}function h1(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=A.useContext(Gi),{pathname:i}=Fc(),o=JSON.stringify(Mc(r).map(s=>s.pathnameBase));return A.useMemo(()=>Tm(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function RR(t,e){Ja()||me(!1);let{navigator:n}=A.useContext(Xa),r=A.useContext(bm),{matches:i}=A.useContext(Gi),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=Fc(),u;if(e){var c;let h=typeof e=="string"?pr(e):e;a==="/"||(c=h.pathname)!=null&&c.startsWith(a)||me(!1),u=h}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",v=vo(t,{pathname:f}),y=OR(v&&v.map(h=>Object.assign({},h,{params:Object.assign({},s,h.params),pathname:nr([a,n.encodeLocation?n.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?a:nr([a,n.encodeLocation?n.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),i,r||void 0);return e&&y?A.createElement(Lc.Provider,{value:{location:Fh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:tt.Pop}},y):y}function kR(){let t=MR(),e=r1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,o)}class PR extends A.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?A.createElement(Gi.Provider,{value:this.props.routeContext},A.createElement(f1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AR(t){let{routeContext:e,match:n,children:r}=t,i=A.useContext(Im);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Gi.Provider,{value:e},r)}function OR(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let o=r.findIndex(s=>s.route.id&&(i==null?void 0:i[s.route.id]));o>=0||me(!1),r=r.slice(0,Math.min(r.length,o+1))}return r.reduceRight((o,s,a)=>{let l=s.route.id?i==null?void 0:i[s.route.id]:null,u=null;n&&(s.route.ErrorBoundary?u=A.createElement(s.route.ErrorBoundary,null):s.route.errorElement?u=s.route.errorElement:u=A.createElement(kR,null));let c=e.concat(r.slice(0,a+1)),d=()=>{let f=o;return l?f=u:s.route.Component?f=A.createElement(s.route.Component,null):s.route.element&&(f=s.route.element),A.createElement(AR,{match:s,routeContext:{outlet:o,matches:c},children:f})};return n&&(s.route.ErrorBoundary||s.route.errorElement||a===0)?A.createElement(PR,{location:n.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var by;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(by||(by={}));var Ho;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Ho||(Ho={}));function p1(t){let e=A.useContext(bm);return e||me(!1),e}function NR(t){let e=A.useContext(Gi);return e||me(!1),e}function m1(t){let e=NR(),n=e.matches[e.matches.length-1];return n.route.id||me(!1),n.route.id}function DR(){let t=p1(Ho.UseLoaderData),e=m1(Ho.UseLoaderData);if(t.errors&&t.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return t.loaderData[e]}function MR(){var t;let e=A.useContext(f1),n=p1(Ho.UseRouteError),r=m1(Ho.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function LR(t){let{fallbackElement:e,router:n}=t,r=A.useCallback(()=>n.state,[n]),i=CR(n.subscribe,r,r),o=A.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:l=>n.navigate(l),push:(l,u,c)=>n.navigate(l,{state:u,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(l,u,c)=>n.navigate(l,{replace:!0,state:u,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[n]),s=n.basename||"/",a=A.useMemo(()=>({router:n,navigator:o,static:!1,basename:s}),[n,o,s]);return A.createElement(A.Fragment,null,A.createElement(Im.Provider,{value:a},A.createElement(bm.Provider,{value:i},A.createElement(UR,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:o},n.state.initialized?A.createElement(jR,null):e))),null)}function FR(t){return bR(t.context)}function $R(t){me(!1)}function UR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=tt.Pop,navigator:o,static:s=!1}=t;Ja()&&me(!1);let a=e.replace(/^\/*/,"/"),l=A.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=pr(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:v="default"}=r,y=A.useMemo(()=>{let h=Qa(u,a);return h==null?null:{location:{pathname:h,search:c,hash:d,state:f,key:v},navigationType:i}},[a,u,c,d,f,v,i]);return y==null?null:A.createElement(Xa.Provider,{value:l},A.createElement(Lc.Provider,{children:n,value:y}))}function jR(t){let{children:e,location:n}=t,r=A.useContext(Im),i=r&&!e?r.router.routes:$h(e);return RR(i,n)}var Ry;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Ry||(Ry={}));new Promise(()=>{});function $h(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(r,i)=>{if(!A.isValidElement(r))return;if(r.type===A.Fragment){n.push.apply(n,$h(r.props.children,e));return}r.type!==$R&&me(!1),!r.props.index||!r.props.children||me(!1);let o=[...e,i],s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=$h(r.props.children,o)),n.push(s)}),n}function zR(t){return Boolean(t.ErrorBoundary)||Boolean(t.errorElement)}/**
 * React Router DOM v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mu(){return Mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mu.apply(this,arguments)}function BR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function WR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VR(t,e){return t.button===0&&(!e||e==="_self")&&!WR(t)}const HR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function GR(t,e){return iR({basename:e==null?void 0:e.basename,history:Cb({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||KR(),routes:t,detectErrorBoundary:zR}).initialize()}function KR(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Mu({},e,{errors:YR(e.errors)})),e}function YR(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new xm(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let o=new Error(i.message);o.stack="",n[r]=o}else n[r]=i;return n}const qR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lu=A.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c}=e,d=BR(e,HR),{basename:f}=A.useContext(Xa),v,y=!1;if(typeof u=="string"&&QR.test(u)&&(v=u,qR)){let m=new URL(window.location.href),_=u.startsWith("//")?new URL(m.protocol+u):new URL(u),E=Qa(_.pathname,f);_.origin===m.origin&&E!=null?u=E+_.search+_.hash:y=!0}let h=TR(u,{relative:i}),S=XR(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i});function g(m){r&&r(m),m.defaultPrevented||S(m)}return A.createElement("a",Mu({},d,{href:v||h,onClick:y||o?r:g,ref:n,target:l}))});var ky;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(ky||(ky={}));var Py;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Py||(Py={}));function XR(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s}=e===void 0?{}:e,a=xR(),l=Fc(),u=h1(t,{relative:s});return A.useCallback(c=>{if(VR(c,n)){c.preventDefault();let d=r!==void 0?r:ur(l)===ur(u);a(t,{replace:d,state:i,preventScrollReset:o,relative:s})}},[l,a,u,r,i,n,t,o,s])}var Uh={},JR={get exports(){return Uh},set exports(t){Uh=t}},g1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Go=A;function ZR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ek=typeof Object.is=="function"?Object.is:ZR,tk=Go.useState,nk=Go.useEffect,rk=Go.useLayoutEffect,ik=Go.useDebugValue;function ok(t,e){var n=e(),r=tk({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return rk(function(){i.value=n,i.getSnapshot=e,af(i)&&o({inst:i})},[t,n,e]),nk(function(){return af(i)&&o({inst:i}),t(function(){af(i)&&o({inst:i})})},[t]),ik(n),n}function af(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ek(t,n)}catch{return!0}}function sk(t,e){return e()}var ak=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?sk:ok;g1.useSyncExternalStore=Go.useSyncExternalStore!==void 0?Go.useSyncExternalStore:ak;(function(t){t.exports=g1})(JR);var jh={},lk={get exports(){return jh},set exports(t){jh=t}},v1={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $c=A,uk=Uh;function ck(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dk=typeof Object.is=="function"?Object.is:ck,fk=uk.useSyncExternalStore,hk=$c.useRef,pk=$c.useEffect,mk=$c.useMemo,gk=$c.useDebugValue;v1.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=hk(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=mk(function(){function l(v){if(!u){if(u=!0,c=v,v=r(v),i!==void 0&&s.hasValue){var y=s.value;if(i(y,v))return d=y}return d=v}if(y=d,dk(c,v))return y;var h=r(v);return i!==void 0&&i(y,h)?y:(c=v,d=h)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=fk(t,o[0],o[1]);return pk(function(){s.hasValue=!0,s.value=a},[a]),gk(a),a};(function(t){t.exports=v1})(lk);function vk(t){t()}let y1=vk;const yk=t=>y1=t,_k=()=>y1,Qr=A.createContext(null);function _1(){return A.useContext(Qr)}const wk=()=>{throw new Error("uSES not initialized!")};let w1=wk;const Ek=t=>{w1=t},Sk=(t,e)=>t===e;function Ck(t=Qr){const e=t===Qr?_1:()=>A.useContext(t);return function(r,i=Sk){const{store:o,subscription:s,getServerState:a}=e(),l=w1(s.addNestedSub,o.getState,a||o.getState,r,i);return A.useDebugValue(l),l}}const is=Ck();function zh(){return zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zh.apply(this,arguments)}function E1(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Bh={},Tk={get exports(){return Bh},set exports(t){Bh=t}},Oe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pt=typeof Symbol=="function"&&Symbol.for,Rm=pt?Symbol.for("react.element"):60103,km=pt?Symbol.for("react.portal"):60106,Uc=pt?Symbol.for("react.fragment"):60107,jc=pt?Symbol.for("react.strict_mode"):60108,zc=pt?Symbol.for("react.profiler"):60114,Bc=pt?Symbol.for("react.provider"):60109,Wc=pt?Symbol.for("react.context"):60110,Pm=pt?Symbol.for("react.async_mode"):60111,Vc=pt?Symbol.for("react.concurrent_mode"):60111,Hc=pt?Symbol.for("react.forward_ref"):60112,Gc=pt?Symbol.for("react.suspense"):60113,xk=pt?Symbol.for("react.suspense_list"):60120,Kc=pt?Symbol.for("react.memo"):60115,Yc=pt?Symbol.for("react.lazy"):60116,Ik=pt?Symbol.for("react.block"):60121,bk=pt?Symbol.for("react.fundamental"):60117,Rk=pt?Symbol.for("react.responder"):60118,kk=pt?Symbol.for("react.scope"):60119;function tn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Rm:switch(t=t.type,t){case Pm:case Vc:case Uc:case zc:case jc:case Gc:return t;default:switch(t=t&&t.$$typeof,t){case Wc:case Hc:case Yc:case Kc:case Bc:return t;default:return e}}case km:return e}}}function S1(t){return tn(t)===Vc}Oe.AsyncMode=Pm;Oe.ConcurrentMode=Vc;Oe.ContextConsumer=Wc;Oe.ContextProvider=Bc;Oe.Element=Rm;Oe.ForwardRef=Hc;Oe.Fragment=Uc;Oe.Lazy=Yc;Oe.Memo=Kc;Oe.Portal=km;Oe.Profiler=zc;Oe.StrictMode=jc;Oe.Suspense=Gc;Oe.isAsyncMode=function(t){return S1(t)||tn(t)===Pm};Oe.isConcurrentMode=S1;Oe.isContextConsumer=function(t){return tn(t)===Wc};Oe.isContextProvider=function(t){return tn(t)===Bc};Oe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rm};Oe.isForwardRef=function(t){return tn(t)===Hc};Oe.isFragment=function(t){return tn(t)===Uc};Oe.isLazy=function(t){return tn(t)===Yc};Oe.isMemo=function(t){return tn(t)===Kc};Oe.isPortal=function(t){return tn(t)===km};Oe.isProfiler=function(t){return tn(t)===zc};Oe.isStrictMode=function(t){return tn(t)===jc};Oe.isSuspense=function(t){return tn(t)===Gc};Oe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Uc||t===Vc||t===zc||t===jc||t===Gc||t===xk||typeof t=="object"&&t!==null&&(t.$$typeof===Yc||t.$$typeof===Kc||t.$$typeof===Bc||t.$$typeof===Wc||t.$$typeof===Hc||t.$$typeof===bk||t.$$typeof===Rk||t.$$typeof===kk||t.$$typeof===Ik)};Oe.typeOf=tn;(function(t){t.exports=Oe})(Tk);var Am=Bh,Pk={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Ak={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ok={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},C1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Om={};Om[Am.ForwardRef]=Ok;Om[Am.Memo]=C1;function Ay(t){return Am.isMemo(t)?C1:Om[t.$$typeof]||Pk}var Nk=Object.defineProperty,Dk=Object.getOwnPropertyNames,Oy=Object.getOwnPropertySymbols,Mk=Object.getOwnPropertyDescriptor,Lk=Object.getPrototypeOf,Ny=Object.prototype;function T1(t,e,n){if(typeof e!="string"){if(Ny){var r=Lk(e);r&&r!==Ny&&T1(t,r,n)}var i=Dk(e);Oy&&(i=i.concat(Oy(e)));for(var o=Ay(t),s=Ay(e),a=0;a<i.length;++a){var l=i[a];if(!Ak[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var u=Mk(e,l);try{Nk(t,l,u)}catch{}}}}return t}var Fk=T1,Fu={},$k={get exports(){return Fu},set exports(t){Fu=t}},Ne={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm=Symbol.for("react.element"),Dm=Symbol.for("react.portal"),qc=Symbol.for("react.fragment"),Qc=Symbol.for("react.strict_mode"),Xc=Symbol.for("react.profiler"),Jc=Symbol.for("react.provider"),Zc=Symbol.for("react.context"),Uk=Symbol.for("react.server_context"),ed=Symbol.for("react.forward_ref"),td=Symbol.for("react.suspense"),nd=Symbol.for("react.suspense_list"),rd=Symbol.for("react.memo"),id=Symbol.for("react.lazy"),jk=Symbol.for("react.offscreen"),x1;x1=Symbol.for("react.module.reference");function hn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Nm:switch(t=t.type,t){case qc:case Xc:case Qc:case td:case nd:return t;default:switch(t=t&&t.$$typeof,t){case Uk:case Zc:case ed:case id:case rd:case Jc:return t;default:return e}}case Dm:return e}}}Ne.ContextConsumer=Zc;Ne.ContextProvider=Jc;Ne.Element=Nm;Ne.ForwardRef=ed;Ne.Fragment=qc;Ne.Lazy=id;Ne.Memo=rd;Ne.Portal=Dm;Ne.Profiler=Xc;Ne.StrictMode=Qc;Ne.Suspense=td;Ne.SuspenseList=nd;Ne.isAsyncMode=function(){return!1};Ne.isConcurrentMode=function(){return!1};Ne.isContextConsumer=function(t){return hn(t)===Zc};Ne.isContextProvider=function(t){return hn(t)===Jc};Ne.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nm};Ne.isForwardRef=function(t){return hn(t)===ed};Ne.isFragment=function(t){return hn(t)===qc};Ne.isLazy=function(t){return hn(t)===id};Ne.isMemo=function(t){return hn(t)===rd};Ne.isPortal=function(t){return hn(t)===Dm};Ne.isProfiler=function(t){return hn(t)===Xc};Ne.isStrictMode=function(t){return hn(t)===Qc};Ne.isSuspense=function(t){return hn(t)===td};Ne.isSuspenseList=function(t){return hn(t)===nd};Ne.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===qc||t===Xc||t===Qc||t===td||t===nd||t===jk||typeof t=="object"&&t!==null&&(t.$$typeof===id||t.$$typeof===rd||t.$$typeof===Jc||t.$$typeof===Zc||t.$$typeof===ed||t.$$typeof===x1||t.getModuleId!==void 0)};Ne.typeOf=hn;(function(t){t.exports=Ne})($k);function zk(){const t=_k();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!i||e===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}const Dy={notify(){},get:()=>[]};function Bk(t,e){let n,r=Dy;function i(d){return l(),r.subscribe(d)}function o(){r.notify()}function s(){c.onStateChange&&c.onStateChange()}function a(){return Boolean(n)}function l(){n||(n=e?e.addNestedSub(s):t.subscribe(s),r=zk())}function u(){n&&(n(),n=void 0,r.clear(),r=Dy)}const c={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const Wk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vk=Wk?A.useLayoutEffect:A.useEffect;function Hk({store:t,context:e,children:n,serverState:r}){const i=A.useMemo(()=>{const a=Bk(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),o=A.useMemo(()=>t.getState(),[t]);Vk(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,o]);const s=e||Qr;return we.createElement(s.Provider,{value:i},n)}function I1(t=Qr){const e=t===Qr?_1:()=>A.useContext(t);return function(){const{store:r}=e();return r}}const Gk=I1();function Kk(t=Qr){const e=t===Qr?Gk:I1(t);return function(){return e().dispatch}}const os=Kk();Ek(jh.useSyncExternalStoreWithSelector);yk(sa.unstable_batchedUpdates);function wn(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Xr(t){return!!t&&!!t[Ge]}function cr(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===nP}(t)||Array.isArray(t)||!!t[zy]||!!(!((e=t.constructor)===null||e===void 0)&&e[zy])||Mm(t)||Lm(t))}function Di(t,e,n){n===void 0&&(n=!1),ss(t)===0?(n?Object.keys:Oo)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function ss(t){var e=t[Ge];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Mm(t)?2:Lm(t)?3:0}function Ao(t,e){return ss(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Yk(t,e){return ss(t)===2?t.get(e):t[e]}function b1(t,e,n){var r=ss(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function R1(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Mm(t){return eP&&t instanceof Map}function Lm(t){return tP&&t instanceof Set}function di(t){return t.o||t.t}function Fm(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=P1(t);delete e[Ge];for(var n=Oo(e),r=0;r<n.length;r++){var i=n[r],o=e[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function $m(t,e){return e===void 0&&(e=!1),Um(t)||Xr(t)||!cr(t)||(ss(t)>1&&(t.set=t.add=t.clear=t.delete=qk),Object.freeze(t),e&&Di(t,function(n,r){return $m(r,!0)},!0)),t}function qk(){wn(2)}function Um(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Un(t){var e=Gh[t];return e||wn(18,t),e}function Qk(t,e){Gh[t]||(Gh[t]=e)}function Wh(){return xa}function lf(t,e){e&&(Un("Patches"),t.u=[],t.s=[],t.v=e)}function $u(t){Vh(t),t.p.forEach(Xk),t.p=null}function Vh(t){t===xa&&(xa=t.l)}function My(t){return xa={p:[],l:xa,h:t,m:!0,_:0}}function Xk(t){var e=t[Ge];e.i===0||e.i===1?e.j():e.O=!0}function uf(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.g||Un("ES5").S(e,t,r),r?(n[Ge].P&&($u(e),wn(4)),cr(t)&&(t=Uu(e,t),e.l||ju(e,t)),e.u&&Un("Patches").M(n[Ge].t,t,e.u,e.s)):t=Uu(e,n,[]),$u(e),e.u&&e.v(e.u,e.s),t!==k1?t:void 0}function Uu(t,e,n){if(Um(e))return e;var r=e[Ge];if(!r)return Di(e,function(a,l){return Ly(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return ju(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Fm(r.k):r.o,o=i,s=!1;r.i===3&&(o=new Set(i),i.clear(),s=!0),Di(o,function(a,l){return Ly(t,r,i,a,l,n,s)}),ju(t,i,!1),n&&t.u&&Un("Patches").N(r,n,t.u,t.s)}return r.o}function Ly(t,e,n,r,i,o,s){if(Xr(i)){var a=Uu(t,i,o&&e&&e.i!==3&&!Ao(e.R,r)?o.concat(r):void 0);if(b1(n,r,a),!Xr(a))return;t.m=!1}else s&&n.add(i);if(cr(i)&&!Um(i)){if(!t.h.D&&t._<1)return;Uu(t,i),e&&e.A.l||ju(t,i)}}function ju(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&$m(e,n)}function cf(t,e){var n=t[Ge];return(n?di(n):t)[e]}function Fy(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Tr(t){t.P||(t.P=!0,t.l&&Tr(t.l))}function df(t){t.o||(t.o=Fm(t.t))}function Hh(t,e,n){var r=Mm(e)?Un("MapSet").F(e,n):Lm(e)?Un("MapSet").T(e,n):t.g?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:Wh(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=a,u=Ia;s&&(l=[a],u=$s);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f}(e,n):Un("ES5").J(e,n);return(n?n.A:Wh()).p.push(r),r}function Jk(t){return Xr(t)||wn(22,t),function e(n){if(!cr(n))return n;var r,i=n[Ge],o=ss(n);if(i){if(!i.P&&(i.i<4||!Un("ES5").K(i)))return i.t;i.I=!0,r=$y(n,o),i.I=!1}else r=$y(n,o);return Di(r,function(s,a){i&&Yk(i.t,s)===a||b1(r,s,e(a))}),o===3?new Set(r):r}(t)}function $y(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Fm(t)}function Zk(){function t(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var l=this[Ge];return Ia.get(l,o)},set:function(l){var u=this[Ge];Ia.set(u,o,l)}},a}function e(o){for(var s=o.length-1;s>=0;s--){var a=o[s][Ge];if(!a.P)switch(a.i){case 5:r(a)&&Tr(a);break;case 4:n(a)&&Tr(a)}}}function n(o){for(var s=o.t,a=o.k,l=Oo(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Ge){var d=s[c];if(d===void 0&&!Ao(s,c))return!0;var f=a[c],v=f&&f[Ge];if(v?v.t!==d:!R1(f,d))return!0}}var y=!!s[Ge];return l.length!==Oo(s).length+(y?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var l=0;l<s.length;l++)if(!s.hasOwnProperty(l))return!0;return!1}var i={};Qk("ES5",{J:function(o,s){var a=Array.isArray(o),l=function(c,d){if(c){for(var f=Array(d.length),v=0;v<d.length;v++)Object.defineProperty(f,""+v,t(v,!0));return f}var y=P1(d);delete y[Ge];for(var h=Oo(y),S=0;S<h.length;S++){var g=h[S];y[g]=t(g,c||!!y[g].enumerable)}return Object.create(Object.getPrototypeOf(d),y)}(a,o),u={i:a?5:4,A:s?s.A:Wh(),P:!1,I:!1,R:{},l:s,t:o,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,Ge,{value:u,writable:!0}),l},S:function(o,s,a){a?Xr(s)&&s[Ge].A===o&&e(o.p):(o.u&&function l(u){if(u&&typeof u=="object"){var c=u[Ge];if(c){var d=c.t,f=c.k,v=c.R,y=c.i;if(y===4)Di(f,function(_){_!==Ge&&(d[_]!==void 0||Ao(d,_)?v[_]||l(f[_]):(v[_]=!0,Tr(c)))}),Di(d,function(_){f[_]!==void 0||Ao(f,_)||(v[_]=!1,Tr(c))});else if(y===5){if(r(c)&&(Tr(c),v.length=!0),f.length<d.length)for(var h=f.length;h<d.length;h++)v[h]=!1;else for(var S=d.length;S<f.length;S++)v[S]=!0;for(var g=Math.min(f.length,d.length),m=0;m<g;m++)f.hasOwnProperty(m)||(v[m]=!0),v[m]===void 0&&l(f[m])}}}}(o.p[0]),e(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var Uy,xa,jm=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",eP=typeof Map<"u",tP=typeof Set<"u",jy=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",k1=jm?Symbol.for("immer-nothing"):((Uy={})["immer-nothing"]=!0,Uy),zy=jm?Symbol.for("immer-draftable"):"__$immer_draftable",Ge=jm?Symbol.for("immer-state"):"__$immer_state",nP=""+Object.prototype.constructor,Oo=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,P1=Object.getOwnPropertyDescriptors||function(t){var e={};return Oo(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},Gh={},Ia={get:function(t,e){if(e===Ge)return t;var n=di(t);if(!Ao(n,e))return function(i,o,s){var a,l=Fy(o,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!cr(r)?r:r===cf(t.t,e)?(df(t),t.o[e]=Hh(t.A.h,r,t)):r},has:function(t,e){return e in di(t)},ownKeys:function(t){return Reflect.ownKeys(di(t))},set:function(t,e,n){var r=Fy(di(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=cf(di(t),e),o=i==null?void 0:i[Ge];if(o&&o.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(R1(n,i)&&(n!==void 0||Ao(t.t,e)))return!0;df(t),Tr(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return cf(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,df(t),Tr(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=di(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){wn(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){wn(12)}},$s={};Di(Ia,function(t,e){$s[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),$s.deleteProperty=function(t,e){return $s.set.call(this,t,e,void 0)},$s.set=function(t,e,n){return Ia.set.call(this,t[0],e,n,t[0])};var rP=function(){function t(n){var r=this;this.g=jy,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var l=r;return function(h){var S=this;h===void 0&&(h=a);for(var g=arguments.length,m=Array(g>1?g-1:0),_=1;_<g;_++)m[_-1]=arguments[_];return l.produce(h,function(E){var b;return(b=o).call.apply(b,[S,E].concat(m))})}}var u;if(typeof o!="function"&&wn(6),s!==void 0&&typeof s!="function"&&wn(7),cr(i)){var c=My(r),d=Hh(r,i,void 0),f=!0;try{u=o(d),f=!1}finally{f?$u(c):Vh(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(h){return lf(c,s),uf(h,c)},function(h){throw $u(c),h}):(lf(c,s),uf(u,c))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===k1&&(u=void 0),r.D&&$m(u,!0),s){var v=[],y=[];Un("Patches").M(i,u,v,y),s(v,y)}return u}wn(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(v){return i.apply(void 0,[v].concat(d))})};var s,a,l=r.produce(i,o,function(u,c){s=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,s,a]}):[l,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){cr(n)||wn(8),Xr(n)&&(n=Jk(n));var r=My(this),i=Hh(this,n,void 0);return i[Ge].C=!0,Vh(r),i},e.finishDraft=function(n,r){var i=n&&n[Ge],o=i.A;return lf(o,r),uf(void 0,o)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!jy&&wn(20),this.g=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=Un("Patches").$;return Xr(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},t}(),Jt=new rP,A1=Jt.produce;Jt.produceWithPatches.bind(Jt);Jt.setAutoFreeze.bind(Jt);Jt.setUseProxies.bind(Jt);Jt.applyPatches.bind(Jt);Jt.createDraft.bind(Jt);Jt.finishDraft.bind(Jt);function ba(t){return ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ba(t)}function iP(t,e){if(ba(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ba(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oP(t){var e=iP(t,"string");return ba(e)==="symbol"?e:String(e)}function sP(t,e,n){return e=oP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function By(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?By(Object(n),!0).forEach(function(r){sP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):By(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function It(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Vy=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ff=function(){return Math.random().toString(36).substring(7).split("").join(".")},zu={INIT:"@@redux/INIT"+ff(),REPLACE:"@@redux/REPLACE"+ff(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ff()}};function aP(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function O1(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(It(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(It(1));return n(O1)(t,e)}if(typeof t!="function")throw new Error(It(2));var i=t,o=e,s=[],a=s,l=!1;function u(){a===s&&(a=s.slice())}function c(){if(l)throw new Error(It(3));return o}function d(h){if(typeof h!="function")throw new Error(It(4));if(l)throw new Error(It(5));var S=!0;return u(),a.push(h),function(){if(S){if(l)throw new Error(It(6));S=!1,u();var m=a.indexOf(h);a.splice(m,1),s=null}}}function f(h){if(!aP(h))throw new Error(It(7));if(typeof h.type>"u")throw new Error(It(8));if(l)throw new Error(It(9));try{l=!0,o=i(o,h)}finally{l=!1}for(var S=s=a,g=0;g<S.length;g++){var m=S[g];m()}return h}function v(h){if(typeof h!="function")throw new Error(It(10));i=h,f({type:zu.REPLACE})}function y(){var h,S=d;return h={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(It(11));function _(){m.next&&m.next(c())}_();var E=S(_);return{unsubscribe:E}}},h[Vy]=function(){return this},h}return f({type:zu.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:v},r[Vy]=y,r}function lP(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:zu.INIT});if(typeof r>"u")throw new Error(It(12));if(typeof n(void 0,{type:zu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(It(13))})}function uP(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var o=Object.keys(n),s;try{lP(n)}catch(a){s=a}return function(l,u){if(l===void 0&&(l={}),s)throw s;for(var c=!1,d={},f=0;f<o.length;f++){var v=o[f],y=n[v],h=l[v],S=y(h,u);if(typeof S>"u")throw u&&u.type,new Error(It(14));d[v]=S,c=c||S!==h}return c=c||o.length!==Object.keys(l).length,c?d:l}}function Bu(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function cP(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(It(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=e.map(function(l){return l(s)});return o=Bu.apply(void 0,a)(i.dispatch),Wy(Wy({},i),{},{dispatch:o})}}}function N1(t){var e=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,t):s(a)}}};return e}var D1=N1();D1.withExtraArgument=N1;const Hy=D1;var dP=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fP=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Wu=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},hP=Object.defineProperty,pP=Object.defineProperties,mP=Object.getOwnPropertyDescriptors,Gy=Object.getOwnPropertySymbols,gP=Object.prototype.hasOwnProperty,vP=Object.prototype.propertyIsEnumerable,Ky=function(t,e,n){return e in t?hP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Ur=function(t,e){for(var n in e||(e={}))gP.call(e,n)&&Ky(t,n,e[n]);if(Gy)for(var r=0,i=Gy(e);r<i.length;r++){var n=i[r];vP.call(e,n)&&Ky(t,n,e[n])}return t},hf=function(t,e){return pP(t,mP(e))},yP=function(t,e,n){return new Promise(function(r,i){var o=function(l){try{a(n.next(l))}catch(u){i(u)}},s=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(o,s)};a((n=n.apply(t,e)).next())})},_P=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Bu:Bu.apply(null,arguments)};function wP(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var EP=function(t){dP(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Wu([void 0],n[0].concat(this)))):new(e.bind.apply(e,Wu([void 0],n.concat(this))))},e}(Array);function Kh(t){return cr(t)?A1(t,function(){}):t}function SP(t){return typeof t=="boolean"}function CP(){return function(e){return TP(e)}}function TP(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new EP;return n&&(SP(n)?r.push(Hy):r.push(Hy.withExtraArgument(n.extraArgument))),r}var xP=!0;function IP(t){var e=CP(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,s=o===void 0?e():o,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,f=d===void 0?void 0:d,v;if(typeof i=="function")v=i;else if(wP(i))v=uP(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var y=s;typeof y=="function"&&(y=y(e));var h=cP.apply(void 0,y),S=Bu;l&&(S=_P(Ur({trace:!xP},typeof l=="object"&&l)));var g=[h];Array.isArray(f)?g=Wu([h],f):typeof f=="function"&&(g=f(g));var m=S.apply(void 0,g);return O1(v,c,m)}function jr(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var o=e.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return Ur(Ur({type:t,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function M1(t){var e={},n=[],r,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=s,i},addMatcher:function(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return r=o,i}};return t(i),[e,n,r]}function bP(t){return typeof t=="function"}function RP(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?M1(e):[e,n,r],o=i[0],s=i[1],a=i[2],l;if(bP(t))l=function(){return Kh(t())};else{var u=Kh(t);l=function(){return u}}function c(d,f){d===void 0&&(d=l());var v=Wu([o[f.type]],s.filter(function(y){var h=y.matcher;return h(f)}).map(function(y){var h=y.reducer;return h}));return v.filter(function(y){return!!y}).length===0&&(v=[a]),v.reduce(function(y,h){if(h)if(Xr(y)){var S=y,g=h(S,f);return g===void 0?y:g}else{if(cr(y))return A1(y,function(m){return h(m,f)});var g=h(y,f);if(g===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return y},d)}return c.getInitialState=l,c}function kP(t,e){return t+"/"+e}function zm(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:Kh(t.initialState),r=t.reducers||{},i=Object.keys(r),o={},s={},a={};i.forEach(function(c){var d=r[c],f=kP(e,c),v,y;"reducer"in d?(v=d.reducer,y=d.prepare):v=d,o[c]=v,s[f]=v,a[c]=y?jr(f,y):jr(f)});function l(){var c=typeof t.extraReducers=="function"?M1(t.extraReducers):[t.extraReducers],d=c[0],f=d===void 0?{}:d,v=c[1],y=v===void 0?[]:v,h=c[2],S=h===void 0?void 0:h,g=Ur(Ur({},f),s);return RP(n,function(m){for(var _ in g)m.addCase(_,g[_]);for(var E=0,b=y;E<b.length;E++){var L=b[E];m.addMatcher(L.matcher,L.reducer)}S&&m.addDefaultCase(S)})}var u;return{name:e,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:o,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var PP="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",AP=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=PP[Math.random()*64|0];return e},OP=["name","message","stack","code"],pf=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),Yy=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),NP=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=OP;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}},Bm=function(){function t(e,n,r){var i=jr(e+"/fulfilled",function(u,c,d,f){return{payload:u,meta:hf(Ur({},f||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),o=jr(e+"/pending",function(u,c,d){return{payload:void 0,meta:hf(Ur({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),s=jr(e+"/rejected",function(u,c,d,f,v){return{payload:f,error:(r&&r.serializeError||NP)(u||"Rejected"),meta:hf(Ur({},v||{}),{arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,f){var v=r!=null&&r.idGenerator?r.idGenerator(u):AP(),y=new a,h;function S(m){h=m,y.abort()}var g=function(){return yP(this,null,function(){var m,_,E,b,L,D,j;return fP(this,function(oe){switch(oe.label){case 0:return oe.trys.push([0,4,,5]),b=(m=r==null?void 0:r.condition)==null?void 0:m.call(r,u,{getState:d,extra:f}),MP(b)?[4,b]:[3,2];case 1:b=oe.sent(),oe.label=2;case 2:if(b===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return L=new Promise(function(Q,he){return y.signal.addEventListener("abort",function(){return he({name:"AbortError",message:h||"Aborted"})})}),c(o(v,u,(_=r==null?void 0:r.getPendingMeta)==null?void 0:_.call(r,{requestId:v,arg:u},{getState:d,extra:f}))),[4,Promise.race([L,Promise.resolve(n(u,{dispatch:c,getState:d,extra:f,requestId:v,signal:y.signal,abort:S,rejectWithValue:function(Q,he){return new pf(Q,he)},fulfillWithValue:function(Q,he){return new Yy(Q,he)}})).then(function(Q){if(Q instanceof pf)throw Q;return Q instanceof Yy?i(Q.payload,v,u,Q.meta):i(Q,v,u)})])];case 3:return E=oe.sent(),[3,5];case 4:return D=oe.sent(),E=D instanceof pf?s(null,v,u,D.payload,D.meta):s(D,v,u),[3,5];case 5:return j=r&&!r.dispatchConditionRejection&&s.match(E)&&E.meta.condition,j||c(E),[2,E]}})})}();return Object.assign(g,{abort:S,requestId:v,arg:u,unwrap:function(){return g.then(DP)}})}}return Object.assign(l,{pending:o,rejected:s,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t}();function DP(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function MP(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Wm="listenerMiddleware";jr(Wm+"/add");jr(Wm+"/removeAll");jr(Wm+"/remove");var qy;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);Zk();const L1=zm({name:"popup",initialState:null,reducers:{popupShow:(t,e)=>e.payload}}),{popupShow:rr}=L1.actions,LP=L1.reducer,FP={auth:null,uid:null,name:null,email:null},F1=zm({name:"user",initialState:FP,reducers:{userSet:(t,e)=>({...t,...e.payload})}}),{userSet:Vu}=F1.actions,$P=F1.reducer;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W=function(t,e){if(!t)throw as(e)},as=function(t){return new Error("Firebase Database ("+$1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},UP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Vm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,v=u&63;l||(v=64,s||(f=64)),r.push(n[c],n[d],n[f],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(U1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new jP;const f=o<<2|a>>4;if(r.push(f),u!==64){const v=a<<4&240|u>>2;if(r.push(v),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j1=function(t){const e=U1(t);return Vm.encodeByteArray(e,!0)},Hu=function(t){return j1(t).replace(/\./g,"")},Gu=function(t){try{return Vm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(t){return z1(void 0,t)}function z1(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!BP(n)||(t[n]=z1(t[n],e[n]));return t}function BP(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=()=>WP().__FIREBASE_DEFAULTS__,HP=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Gu(t[1]);return e&&JSON.parse(e)},Hm=()=>{try{return VP()||HP()||GP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},B1=t=>{var e,n;return(n=(e=Hm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},KP=t=>{const e=B1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},YP=()=>{var t;return(t=Hm())===null||t===void 0?void 0:t.config},W1=t=>{var e;return(e=Hm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Hu(JSON.stringify(n)),Hu(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function QP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function V1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XP(){const t=Pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function H1(){return $1.NODE_ADMIN===!0}function JP(){try{return typeof indexedDB=="object"}catch{return!1}}function ZP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="FirebaseError";class cn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eA,Object.setPrototypeOf(this,cn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Za.prototype.create)}}class Za{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?tA(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new cn(i,a,r)}}function tA(t,e){return t.replace(nA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(t){return JSON.parse(t)}function st(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=Ra(Gu(o[0])||""),n=Ra(Gu(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},rA=function(t){const e=G1(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},iA=function(t){const e=G1(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ko(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Yh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ku(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Yu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Qy(o)&&Qy(s)){if(!Yu(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Qy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Us(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function js(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^o&(s^a),c=1518500249):(u=o^s^a,c=1859775393):d<60?(u=o&s|a&(o|s),c=2400959708):(u=o^s^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function sA(t,e){const n=new aA(t,e);return n.subscribe.bind(n)}class aA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lA(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=mf),i.error===void 0&&(i.error=mf),i.complete===void 0&&(i.complete=mf);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mf(){}function sd(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,W(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ad=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class Mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new od;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fA(e))try{this.getOrInitializeService({instanceIdentifier:fi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fi){return this.instances.has(e)}getOptions(e=fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fi){return this.component?this.component.multipleInstances?e:fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dA(t){return t===fi?void 0:t}function fA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const pA={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},mA=Me.INFO,gA={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},vA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=gA[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Km{constructor(e){this.name=e,this._logLevel=mA,this._logHandler=vA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const yA=(t,e)=>e.some(n=>t instanceof n);let Xy,Jy;function _A(){return Xy||(Xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wA(){return Jy||(Jy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K1=new WeakMap,qh=new WeakMap,Y1=new WeakMap,gf=new WeakMap,Ym=new WeakMap;function EA(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(zr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&K1.set(n,t)}).catch(()=>{}),Ym.set(e,t),e}function SA(t){if(qh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});qh.set(t,e)}let Qh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Y1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CA(t){Qh=t(Qh)}function TA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vf(this),e,...n);return Y1.set(r,e.sort?e.sort():[e]),zr(r)}:wA().includes(t)?function(...e){return t.apply(vf(this),e),zr(K1.get(this))}:function(...e){return zr(t.apply(vf(this),e))}}function xA(t){return typeof t=="function"?TA(t):(t instanceof IDBTransaction&&SA(t),yA(t,_A())?new Proxy(t,Qh):t)}function zr(t){if(t instanceof IDBRequest)return EA(t);if(gf.has(t))return gf.get(t);const e=xA(t);return e!==t&&(gf.set(t,e),Ym.set(e,t)),e}const vf=t=>Ym.get(t);function IA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=zr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(zr(s.result),l.oldVersion,l.newVersion,zr(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const bA=["get","getKey","getAll","getAllKeys","count"],RA=["put","add","delete","clear"],yf=new Map;function Zy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yf.get(e))return yf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=RA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||bA.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return yf.set(e,o),o}CA(t=>({...t,get:(e,n,r)=>Zy(e,n)||t.get(e,n,r),has:(e,n)=>!!Zy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function PA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xh="@firebase/app",e_="0.9.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new Km("@firebase/app"),AA="@firebase/app-compat",OA="@firebase/analytics-compat",NA="@firebase/analytics",DA="@firebase/app-check-compat",MA="@firebase/app-check",LA="@firebase/auth",FA="@firebase/auth-compat",$A="@firebase/database",UA="@firebase/database-compat",jA="@firebase/functions",zA="@firebase/functions-compat",BA="@firebase/installations",WA="@firebase/installations-compat",VA="@firebase/messaging",HA="@firebase/messaging-compat",GA="@firebase/performance",KA="@firebase/performance-compat",YA="@firebase/remote-config",qA="@firebase/remote-config-compat",QA="@firebase/storage",XA="@firebase/storage-compat",JA="@firebase/firestore",ZA="@firebase/firestore-compat",eO="firebase",tO="9.18.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="[DEFAULT]",nO={[Xh]:"fire-core",[AA]:"fire-core-compat",[NA]:"fire-analytics",[OA]:"fire-analytics-compat",[MA]:"fire-app-check",[DA]:"fire-app-check-compat",[LA]:"fire-auth",[FA]:"fire-auth-compat",[$A]:"fire-rtdb",[UA]:"fire-rtdb-compat",[jA]:"fire-fn",[zA]:"fire-fn-compat",[BA]:"fire-iid",[WA]:"fire-iid-compat",[VA]:"fire-fcm",[HA]:"fire-fcm-compat",[GA]:"fire-perf",[KA]:"fire-perf-compat",[YA]:"fire-rc",[qA]:"fire-rc-compat",[QA]:"fire-gcs",[XA]:"fire-gcs-compat",[JA]:"fire-fst",[ZA]:"fire-fst-compat","fire-js":"fire-js",[eO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=new Map,Zh=new Map;function rO(t,e){try{t.container.addComponent(e)}catch(n){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yo(t){const e=t.name;if(Zh.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;Zh.set(e,t);for(const n of qu.values())rO(n,t);return!0}function qm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Br=new Za("app","Firebase",iO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=tO;function q1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Br.create("bad-app-name",{appName:String(i)});if(n||(n=YP()),!n)throw Br.create("no-options");const o=qu.get(i);if(o){if(Yu(n,o.options)&&Yu(r,o.config))return o;throw Br.create("duplicate-app",{appName:i})}const s=new hA(i);for(const l of Zh.values())s.addComponent(l);const a=new oO(n,r,s);return qu.set(i,a),a}function Q1(t=Jh){const e=qu.get(t);if(!e&&t===Jh)return q1();if(!e)throw Br.create("no-app",{appName:t});return e}function Wr(t,e,n){var r;let i=(r=nO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(a.join(" "));return}Yo(new Mi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO="firebase-heartbeat-database",aO=1,ka="firebase-heartbeat-store";let _f=null;function X1(){return _f||(_f=IA(sO,aO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ka)}}}).catch(t=>{throw Br.create("idb-open",{originalErrorMessage:t.message})})),_f}async function lO(t){try{return(await X1()).transaction(ka).objectStore(ka).get(J1(t))}catch(e){if(e instanceof cn)Li.warn(e.message);else{const n=Br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Li.warn(n.message)}}}async function t_(t,e){try{const r=(await X1()).transaction(ka,"readwrite");return await r.objectStore(ka).put(e,J1(t)),r.done}catch(n){if(n instanceof cn)Li.warn(n.message);else{const r=Br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Li.warn(r.message)}}}function J1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=1024,cO=30*24*60*60*1e3;class dO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=n_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=cO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=n_(),{heartbeatsToSend:n,unsentEntries:r}=fO(this._heartbeatsCache.heartbeats),i=Hu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function n_(){return new Date().toISOString().substring(0,10)}function fO(t,e=uO){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),r_(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),r_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JP()?ZP().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await lO(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return t_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return t_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function r_(t){return Hu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(t){Yo(new Mi("platform-logger",e=>new kA(e),"PRIVATE")),Yo(new Mi("heartbeat",e=>new dO(e),"PRIVATE")),Wr(Xh,e_,t),Wr(Xh,e_,"esm2017"),Wr("fire-js","")}pO("");var mO="firebase",gO="9.18.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr(mO,gO,"app");function Qm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Z1(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vO=Z1,eS=new Za("auth","Firebase",Z1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=new Km("@firebase/auth");function iu(t,...e){i_.logLevel<=Me.ERROR&&i_.error(`Auth (${el}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t,...e){throw Xm(t,...e)}function jn(t,...e){return Xm(t,...e)}function yO(t,e,n){const r=Object.assign(Object.assign({},vO()),{[e]:n});return new Za("auth","Firebase",r).create(e,{appName:t.name})}function Xm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eS.create(t,...e)}function ue(t,e,...n){if(!t)throw Xm(e,...n)}function Jn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw iu(e),new Error(e)}function dr(t,e){t||Jn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=new Map;function Zn(t){dr(t instanceof Function,"Expected a class definition");let e=o_.get(t);return e?(dr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,o_.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t,e){const n=qm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Yu(o,e??{}))return i;Rn(i,"already-initialized")}return n.initialize({options:e})}function wO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function EO(){return s_()==="http:"||s_()==="https:"}function s_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EO()||QP()||"connection"in navigator)?navigator.onLine:!0}function CO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n){this.shortDelay=e,this.longDelay=n,dr(n>e,"Short delay should be less than long delay!"),this.isMobile=Gm()||V1()}get(){return SO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t,e){dr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=new tl(3e4,6e4);function us(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ki(t,e,n,r,i={}){return nS(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=ls(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),tS.fetch()(rS(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function nS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},TO),e);try{const i=new IO(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw $l(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw $l(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw $l(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw $l(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw yO(t,c,u);Rn(t,c)}}catch(i){if(i instanceof cn)throw i;Rn(t,"internal-error",{message:String(i)})}}async function nl(t,e,n,r,i={}){const o=await Ki(t,e,n,r,i);return"mfaPendingCredential"in o&&Rn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function rS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Jm(t.config,i):`${t.config.apiScheme}://${i}`}class IO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jn(this.auth,"network-request-failed")),xO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $l(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=jn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(t,e){return Ki(t,"POST","/v1/accounts:delete",e)}async function RO(t,e){return Ki(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kO(t,e=!1){const n=mt(t),r=await n.getIdToken(e),i=Zm(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Js(wf(i.auth_time)),issuedAtTime:Js(wf(i.iat)),expirationTime:Js(wf(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function wf(t){return Number(t)*1e3}function Zm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return iu("JWT malformed, contained fewer than 3 sections"),null;try{const i=Gu(n);return i?JSON.parse(i):(iu("Failed to decode base64 JWT payload"),null)}catch(i){return iu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function PO(t){const e=Zm(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof cn&&AO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function AO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Js(this.lastLoginAt),this.creationTime=Js(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await qo(t,RO(n,{idToken:r}));ue(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?MO(o.providerUserInfo):[],a=DO(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new iS(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function NO(t){const e=mt(t);await Qu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function MO(t){return t.map(e=>{var{providerId:n}=e,r=Qm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(t,e){const n=await nS(t,{},async()=>{const r=ls({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=rS(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",tS.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ue(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await LO(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Pa;return r&&(ue(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ue(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return Jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Qm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new OO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new iS(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await qo(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kO(this,e)}reload(){return NO(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Qu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await qo(this,bO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,v=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,y=(s=n.photoURL)!==null&&s!==void 0?s:void 0,h=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:E,isAnonymous:b,providerData:L,stsTokenManager:D}=n;ue(_&&D,e,"internal-error");const j=Pa.fromJSON(this.name,D);ue(typeof _=="string",e,"internal-error"),_r(d,e.name),_r(f,e.name),ue(typeof E=="boolean",e,"internal-error"),ue(typeof b=="boolean",e,"internal-error"),_r(v,e.name),_r(y,e.name),_r(h,e.name),_r(S,e.name),_r(g,e.name),_r(m,e.name);const oe=new xi({uid:_,auth:e,email:f,emailVerified:E,displayName:d,isAnonymous:b,photoURL:y,phoneNumber:v,tenantId:h,stsTokenManager:j,createdAt:g,lastLoginAt:m});return L&&Array.isArray(L)&&(oe.providerData=L.map(Q=>Object.assign({},Q))),S&&(oe._redirectEventId=S),oe}static async _fromIdTokenResponse(e,n,r=!1){const i=new Pa;i.updateFromServerResponse(n);const o=new xi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Qu(o),o}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oS.type="NONE";const a_=oS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t,e,n){return`firebase:${t}:${e}:${n}`}class No{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ou(this.userKey,i.apiKey,o),this.fullPersistenceKey=ou("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new No(Zn(a_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Zn(a_);const s=ou(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=xi._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new No(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new No(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cS(e))return"Blackberry";if(dS(e))return"Webos";if(eg(e))return"Safari";if((e.includes("chrome/")||aS(e))&&!e.includes("edge/"))return"Chrome";if(uS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sS(t=Pt()){return/firefox\//i.test(t)}function eg(t=Pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aS(t=Pt()){return/crios\//i.test(t)}function lS(t=Pt()){return/iemobile/i.test(t)}function uS(t=Pt()){return/android/i.test(t)}function cS(t=Pt()){return/blackberry/i.test(t)}function dS(t=Pt()){return/webos/i.test(t)}function ld(t=Pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FO(t=Pt()){var e;return ld(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $O(){return XP()&&document.documentMode===10}function fS(t=Pt()){return ld(t)||uS(t)||dS(t)||cS(t)||/windows phone/i.test(t)||lS(t)}function UO(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(t,e=[]){let n;switch(t){case"Browser":n=l_(Pt());break;case"Worker":n=`${l_(Pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${el}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u_(this),this.idTokenSubscription=new u_(this),this.beforeStateQueue=new jO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eS,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await No.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?mt(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Zn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Za("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zn(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[Zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function rl(t){return mt(t)}class u_{constructor(e){this.auth=e,this.observer=null,this.addObserver=sA(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function BO(t,e,n){const r=rl(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=pS(e),{host:s,port:a}=WO(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||VO()}function pS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function WO(t){const e=pS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:c_(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:c_(s)}}}function c_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function VO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jn("not implemented")}_getIdTokenResponse(e){return Jn("not implemented")}_linkToIdToken(e,n){return Jn("not implemented")}_getReauthenticationResolver(e){return Jn("not implemented")}}async function HO(t,e){return Ki(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(t,e){return nl(t,"POST","/v1/accounts:signInWithPassword",us(t,e))}async function mS(t,e){return Ki(t,"POST","/v1/accounts:sendOobCode",us(t,e))}async function KO(t,e){return mS(t,e)}async function YO(t,e){return mS(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(t,e){return nl(t,"POST","/v1/accounts:signInWithEmailLink",us(t,e))}async function QO(t,e){return nl(t,"POST","/v1/accounts:signInWithEmailLink",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends tg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Aa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Aa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return GO(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return qO(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return HO(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return QO(e,{idToken:n,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(t,e){return nl(t,"POST","/v1/accounts:signInWithIdp",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="http://localhost";class Fi extends tg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Qm(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Fi(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Do(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Do(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Do(e,n)}buildRequest(){const e={requestUri:XO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ls(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZO(t){const e=Us(js(t)).link,n=e?Us(js(e)).deep_link_id:null,r=Us(js(t)).deep_link_id;return(r?Us(js(r)).link:null)||r||n||e||t}class ng{constructor(e){var n,r,i,o,s,a;const l=Us(js(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=JO((i=l.mode)!==null&&i!==void 0?i:null);ue(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=ZO(e);try{return new ng(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.providerId=cs.PROVIDER_ID}static credential(e,n){return Aa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ng.parseLink(n);return ue(r,"argument-error"),Aa._fromEmailAndCode(e,r.code,r.tenantId)}}cs.PROVIDER_ID="password";cs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends gS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends il{constructor(){super("facebook.com")}static credential(e){return Fi._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends il{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fi._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ir.credential(n,r)}catch{return null}}}Ir.GOOGLE_SIGN_IN_METHOD="google.com";Ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends il{constructor(){super("github.com")}static credential(e){return Fi._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.GITHUB_SIGN_IN_METHOD="github.com";br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends il{constructor(){super("twitter.com")}static credential(e,n){return Fi._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Rr.credential(n,r)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(t,e){return nl(t,"POST","/v1/accounts:signUp",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await xi._fromIdTokenResponse(e,r,i),s=d_(r);return new $i({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=d_(r);return new $i({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function d_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends cn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Xu.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Xu(e,n,r,i)}}function vS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Xu._fromErrorAndOperation(t,o,e,r):o})}async function tN(t,e,n=!1){const r=await qo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $i._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await qo(t,vS(r,i,e,t),n);ue(o.idToken,r,"internal-error");const s=Zm(o.idToken);ue(s,r,"internal-error");const{sub:a}=s;return ue(t.uid===a,r,"user-mismatch"),$i._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Rn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yS(t,e,n=!1){const r="signIn",i=await vS(t,r,e),o=await $i._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function rN(t,e){return yS(rl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(t,e,n){var r;ue(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ue(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ue(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ue(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(t,e,n){const r=mt(t),i={requestType:"PASSWORD_RESET",email:e};n&&_S(r,i,n),await YO(r,i)}async function oN(t,e,n){const r=rl(t),i=await eN(r,{returnSecureToken:!0,email:e,password:n}),o=await $i._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}function sN(t,e,n){return rN(mt(t),cs.credential(e,n))}async function aN(t,e){const n=mt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&_S(n.auth,i,e);const{email:o}=await KO(n.auth,i);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(t,e){return Ki(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=mt(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await qo(r,lN(r.auth,o));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function cN(t,e,n,r){return mt(t).onIdTokenChanged(e,n,r)}function dN(t,e,n){return mt(t).beforeAuthStateChanged(e,n)}function fN(t,e,n,r){return mt(t).onAuthStateChanged(e,n,r)}const Ju="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ju,"1"),this.storage.removeItem(Ju),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(){const t=Pt();return eg(t)||ld(t)}const pN=1e3,mN=10;class ES extends wS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=hN()&&UO(),this.fallbackToPolling=fS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);$O()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,mN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},pN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ES.type="LOCAL";const gN=ES;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS extends wS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}SS.type="SESSION";const CS=SS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ud(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await vN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ud.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=rg("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return window}function _N(t){zn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(){return typeof zn().WorkerGlobalScope<"u"&&typeof zn().importScripts=="function"}async function wN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function SN(){return TS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="firebaseLocalStorageDb",CN=1,Zu="firebaseLocalStorage",IS="fbase_key";class ol{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cd(t,e){return t.transaction([Zu],e?"readwrite":"readonly").objectStore(Zu)}function TN(){const t=indexedDB.deleteDatabase(xS);return new ol(t).toPromise()}function tp(){const t=indexedDB.open(xS,CN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zu,{keyPath:IS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zu)?e(r):(r.close(),await TN(),e(await tp()))})})}async function f_(t,e,n){const r=cd(t,!0).put({[IS]:e,value:n});return new ol(r).toPromise()}async function xN(t,e){const n=cd(t,!1).get(e),r=await new ol(n).toPromise();return r===void 0?null:r.value}function h_(t,e){const n=cd(t,!0).delete(e);return new ol(n).toPromise()}const IN=800,bN=3;class bS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ud._getInstance(SN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wN(),!this.activeServiceWorker)return;this.sender=new yN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tp();return await f_(e,Ju,"1"),await h_(e,Ju),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>f_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>xN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>h_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=cd(i,!1).getAll();return new ol(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bS.type="LOCAL";const RN=bS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function PN(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=jn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",kN().appendChild(r)})}function AN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new tl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t,e){return e?Zn(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig extends tg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Do(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function NN(t){return yS(t.auth,new ig(t),t.bypassAuthState)}function DN(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),nN(n,new ig(t),t.bypassAuthState)}async function MN(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),tN(n,new ig(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NN;case"linkViaPopup":case"linkViaRedirect":return MN;case"reauthViaPopup":case"reauthViaRedirect":return DN;default:Rn(this.auth,"internal-error")}}resolve(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=new tl(2e3,1e4);class _o extends RS{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const e=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,LN.get())};e()}}_o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="pendingRedirect",su=new Map;class $N extends RS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=su.get(this.auth._key());if(!e){try{const r=await UN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}su.set(this.auth._key(),e)}return this.bypassAuthState||su.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UN(t,e){const n=BN(e),r=zN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function jN(t,e){su.set(t._key(),e)}function zN(t){return Zn(t._redirectPersistence)}function BN(t){return ou(FN,t.config.apiKey,t.name)}async function WN(t,e,n=!1){const r=rl(t),i=ON(r,e),s=await new $N(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=10*60*1e3;class HN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(jn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VN&&this.cachedEventUids.clear(),this.cachedEventUids.has(p_(e))}saveEventToCache(e){this.cachedEventUids.add(p_(e)),this.lastProcessedEventTime=Date.now()}}function p_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(t,e={}){return Ki(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qN=/^https?/;async function QN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await KN(t);for(const n of e)try{if(XN(n))return}catch{}Rn(t,"unauthorized-domain")}function XN(t){const e=ep(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!qN.test(n))return!1;if(YN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=new tl(3e4,6e4);function m_(){const t=zn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ZN(t){return new Promise((e,n)=>{var r,i,o;function s(){m_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{m_(),n(jn(t,"network-request-failed"))},timeout:JN.get()})}if(!((i=(r=zn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=zn().gapi)===null||o===void 0)&&o.load)s();else{const a=AN("iframefcb");return zn()[a]=()=>{gapi.load?s():n(jn(t,"network-request-failed"))},PN(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw au=null,e})}let au=null;function eD(t){return au=au||ZN(t),au}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new tl(5e3,15e3),nD="__/auth/iframe",rD="emulator/auth/iframe",iD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sD(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jm(e,rD):`https://${t.config.authDomain}/${nD}`,r={apiKey:e.apiKey,appName:t.name,v:el},i=oD.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ls(r).slice(1)}`}async function aD(t){const e=await eD(t),n=zn().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:sD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iD,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=jn(t,"network-request-failed"),a=zn().setTimeout(()=>{o(s)},tD.get());function l(){zn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uD=500,cD=600,dD="_blank",fD="http://localhost";class g_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hD(t,e,n,r=uD,i=cD){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},lD),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Pt().toLowerCase();n&&(a=aS(u)?dD:n),sS(u)&&(e=e||fD,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[v,y])=>`${f}${v}=${y},`,"");if(FO(u)&&a!=="_self")return pD(e||"",a),new g_(null);const d=window.open(e||"",a,c);ue(d,t,"popup-blocked");try{d.focus()}catch{}return new g_(d)}function pD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="__/auth/handler",gD="emulator/auth/handler";function v_(t,e,n,r,i,o){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:el,eventId:i};if(e instanceof gS){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Yh(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(o||{}))s[l]=u}if(e instanceof il){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(s.scopes=l.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${vD(t)}?${ls(a).slice(1)}`}function vD({config:t}){return t.emulator?Jm(t,gD):`https://${t.authDomain}/${mD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="webStorageSupport";class yD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CS,this._completeRedirectFn=WN,this._overrideRedirectResult=jN}async _openPopup(e,n,r,i){var o;dr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=v_(e,n,r,ep(),i);return hD(e,s,rg())}async _openRedirect(e,n,r,i){return await this._originValidation(e),_N(v_(e,n,r,ep(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(dr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await aD(e),r=new HN(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ef,{type:Ef},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Ef];s!==void 0&&n(!!s),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fS()||eg()||ld()}}const _D=yD;var y_="@firebase/auth",__="0.21.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function SD(t){Yo(new Mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:o,authDomain:s}=r.options;return((a,l)=>{ue(o&&!o.includes(":"),"invalid-api-key",{appName:a.name}),ue(!(s!=null&&s.includes(":")),"argument-error",{appName:a.name});const u={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hS(t)},c=new zO(a,l,u);return wO(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yo(new Mi("auth-internal",e=>{const n=rl(e.getProvider("auth").getImmediate());return(r=>new wD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(y_,__,ED(t)),Wr(y_,__,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=5*60,TD=W1("authIdTokenMaxAge")||CD;let w_=null;const xD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>TD)return;const i=n==null?void 0:n.token;w_!==i&&(w_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ec(t=Q1()){const e=qm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_O(t,{popupRedirectResolver:_D,persistence:[RN,gN,CS]}),r=W1("authTokenSyncURL");if(r){const o=xD(r);dN(n,o,()=>o(n.currentUser)),cN(n,s=>o(s))}const i=B1("auth");return i&&BO(n,`http://${i}`),n}SD("Browser");const E_="@firebase/database",S_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PS="";function ID(t){PS=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),st(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ra(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Vn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new bD(e)}}catch{}return new RD},Ei=AS("localStorage"),np=AS("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new Km("@firebase/database"),kD=function(){let t=1;return function(){return t++}}(),OS=function(t){const e=uA(t),n=new oA;n.update(e);const r=n.digest();return Vm.encodeByteArray(r)},sl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=sl.apply(null,r):typeof r=="object"?e+=st(r):e+=r,e+=" "}return e};let Ii=null,C_=!0;const PD=function(t,e){W(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Mo.logLevel=Me.VERBOSE,Ii=Mo.log.bind(Mo),e&&np.set("logging_enabled",!0)):typeof t=="function"?Ii=t:(Ii=null,np.remove("logging_enabled"))},Rt=function(...t){if(C_===!0&&(C_=!1,Ii===null&&np.get("logging_enabled")===!0&&PD(!0)),Ii){const e=sl.apply(null,t);Ii(e)}},al=function(t){return function(...e){Rt(t,...e)}},rp=function(...t){const e="FIREBASE INTERNAL ERROR: "+sl(...t);Mo.error(e)},fr=function(...t){const e=`FIREBASE FATAL ERROR: ${sl(...t)}`;throw Mo.error(e),new Error(e)},Vt=function(...t){const e="FIREBASE WARNING: "+sl(...t);Mo.warn(e)},AD=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},og=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},OD=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ui="[MIN_NAME]",Jr="[MAX_NAME]",ds=function(t,e){if(t===e)return 0;if(t===Ui||e===Jr)return-1;if(e===Ui||t===Jr)return 1;{const n=T_(t),r=T_(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},ND=function(t,e){return t===e?0:t<e?-1:1},Rs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+st(e))},sg=function(t){if(typeof t!="object"||t===null)return st(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=st(e[r]),n+=":",n+=sg(t[e[r]]);return n+="}",n},NS=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ht(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const DS=function(t){W(!og(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},DD=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},MD=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function LD(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const FD=new RegExp("^-?(0*)\\d{1,10}$"),$D=-2147483648,UD=2147483647,T_=function(t){if(FD.test(t)){const e=Number(t);if(e>=$D&&e<=UD)return e}return null},fs=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Vt("Exception was thrown by user callback.",n),e},Math.floor(0))}},jD=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Zs=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Vt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Rt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vt(e)}}class Lo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Lo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="5",MS="v",LS="s",FS="r",$S="f",US=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,jS="ls",zS="p",ip="ac",BS="websocket",WS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ei.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ei.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function WD(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function HS(t,e,n){W(typeof e=="string","typeof type must == string"),W(typeof n=="object","typeof params must == object");let r;if(e===BS)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===WS)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);WD(t)&&(n.ns=t.namespace);const i=[];return Ht(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.counters_={}}incrementCounter(e,n=1){Vn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return zP(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf={},Cf={};function lg(t){const e=t.toString();return Sf[e]||(Sf[e]=new VD),Sf[e]}function HD(t,e){const n=t.toString();return Cf[n]||(Cf[n]=e()),Cf[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&fs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="start",KD="close",YD="pLPCommand",qD="pRTLPCB",GS="id",KS="pw",YS="ser",QD="cb",XD="seg",JD="ts",ZD="d",e2="dframe",qS=1870,QS=30,t2=qS-QS,n2=25e3,r2=3e4;class wo{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=al(e),this.stats_=lg(n),this.urlFn=l=>(this.appCheckToken&&(l[ip]=this.appCheckToken),HS(n,WS,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new GD(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(r2)),OD(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ug((...o)=>{const[s,a,l,u,c]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===x_)this.id=a,this.password=l;else if(s===KD)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[x_]="t",r[YS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[QD]=this.scriptTagHolder.uniqueCallbackIdentifier),r[MS]=ag,this.transportSessionId&&(r[LS]=this.transportSessionId),this.lastSessionId&&(r[jS]=this.lastSessionId),this.applicationId&&(r[zS]=this.applicationId),this.appCheckToken&&(r[ip]=this.appCheckToken),typeof location<"u"&&location.hostname&&US.test(location.hostname)&&(r[FS]=$S);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wo.forceAllow_=!0}static forceDisallow(){wo.forceDisallow_=!0}static isAvailable(){return wo.forceAllow_?!0:!wo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!DD()&&!MD()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=st(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=j1(n),i=NS(r,t2);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[e2]="t",r[GS]=e,r[KS]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=st(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ug{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=kD(),window[YD+this.uniqueCallbackIdentifier]=e,window[qD+this.uniqueCallbackIdentifier]=n,this.myIFrame=ug.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Rt("frame writing exception"),a.stack&&Rt(a.stack),Rt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Rt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[GS]=this.myID,e[KS]=this.myPW,e[YS]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+QS+r.length<=qS;){const s=this.pendingSegs.shift();r=r+"&"+XD+i+"="+s.seg+"&"+JD+i+"="+s.ts+"&"+ZD+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(n2)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Rt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=16384,o2=45e3;let tc=null;typeof MozWebSocket<"u"?tc=MozWebSocket:typeof WebSocket<"u"&&(tc=WebSocket);class En{constructor(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=al(this.connId),this.stats_=lg(n),this.connURL=En.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[MS]=ag,typeof location<"u"&&location.hostname&&US.test(location.hostname)&&(s[FS]=$S),n&&(s[LS]=n),r&&(s[jS]=r),i&&(s[ip]=i),o&&(s[zS]=o),HS(e,BS,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ei.set("previous_websocket_failure",!0);try{let r;H1(),this.mySock=new tc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){En.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&tc!==null&&!En.forceDisallow_}static previouslyFailed(){return Ei.isInMemoryStorage||Ei.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ei.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ra(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(W(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=st(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=NS(n,i2);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(o2))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}En.responsesRequiredToBeHealthy=2;En.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[wo,En]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=En&&En.isAvailable();let r=n&&!En.previouslyFailed();if(e.webSocketOnly&&(n||Vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[En];else{const i=this.transports_=[];for(const o of Oa.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);Oa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Oa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=6e4,a2=5e3,l2=10*1024,u2=100*1024,Tf="t",I_="d",c2="s",b_="r",d2="e",R_="o",k_="a",P_="n",A_="p",f2="h";class h2{constructor(e,n,r,i,o,s,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=al("c:"+this.id+":"),this.transportManager_=new Oa(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Zs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>u2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>l2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Tf in e){const n=e[Tf];n===k_?this.upgradeIfSecondaryHealthy_():n===b_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===R_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Rs("t",e),r=Rs("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:A_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:k_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:P_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Rs("t",e),r=Rs("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Rs(Tf,e);if(I_ in e){const r=e[I_];if(n===f2){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===P_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===c2?this.onConnectionShutdown_(r):n===b_?this.onReset_(r):n===d2?rp("Server Error: "+r):n===R_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rp("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ag!==r&&Vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Zs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(s2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(a2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:A_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ei.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.allowedEvents_=e,this.listeners_={},W(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){W(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends JS{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Gm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new nc}getInitialEvent(e){return W(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=32,N_=768;class De{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function be(){return new De("")}function _e(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Zr(t){return t.pieces_.length-t.pieceNum_}function $e(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new De(t.pieces_,e)}function ZS(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function p2(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function eC(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function tC(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new De(e,0)}function at(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof De)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new De(n,0)}function ve(t){return t.pieceNum_>=t.pieces_.length}function Dt(t,e){const n=_e(t),r=_e(e);if(n===null)return e;if(n===r)return Dt($e(t),$e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function nC(t,e){if(Zr(t)!==Zr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Sn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Zr(t)>Zr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class m2{constructor(e,n){this.errorPrefix_=n,this.parts_=eC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ad(this.parts_[r]);rC(this)}}function g2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ad(e),rC(t)}function v2(t){const e=t.parts_.pop();t.byteLength_-=ad(e),t.parts_.length>0&&(t.byteLength_-=1)}function rC(t){if(t.byteLength_>N_)throw new Error(t.errorPrefix_+"has a key path longer than "+N_+" bytes ("+t.byteLength_+").");if(t.parts_.length>O_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+O_+") or object contains a cycle "+hi(t))}function hi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg extends JS{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new cg}getInitialEvent(e){return W(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=1e3,y2=60*5*1e3,D_=30*1e3,_2=1.3,w2=3e4,E2="server_kill",M_=3;class ir extends XS{constructor(e,n,r,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=ir.nextPersistentConnectionId_++,this.log_=al("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ks,this.maxReconnectDelay_=y2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!H1())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");cg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&nc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(st(o)),W(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new od,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),W(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,u=a.s;ir.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Vn(e,"w")){const r=Ko(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||iA(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=D_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=rA(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+st(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):rp("Unrecognized action received from server: "+st(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){W(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ks,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ks,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>w2&&(this.reconnectDelay_=ks),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*_2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ir.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},u=function(d){W(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?Rt("getToken() completed but was canceled"):(Rt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new h2(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,v=>{Vt(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(E2)},o))}catch(d){this.log_("Failed to get token: "+d),s||(this.repoInfo_.nodeAdmin&&Vt(d),l())}}}interrupt(e){Rt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Rt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Yh(this.interruptReasons_)&&(this.reconnectDelay_=ks,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>sg(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new De(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Rt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=M_&&(this.reconnectDelay_=D_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Rt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=M_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+PS.replace(/\./g,"-")]=1,Gm()?e["framework.cordova"]=1:V1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=nc.getInstance().currentlyOnline();return Yh(this.interruptReasons_)&&e}}ir.nextPersistentConnectionId_=0;ir.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ye(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ye(Ui,e),i=new ye(Ui,n);return this.compare(r,i)!==0}minPost(){return ye.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul;class iC extends dd{static get __EMPTY_NODE(){return Ul}static set __EMPTY_NODE(e){Ul=e}compare(e,n){return ds(e.name,n.name)}isDefinedOn(e){throw as("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ye.MIN}maxPost(){return new ye(Jr,Ul)}makePost(e,n){return W(typeof e=="string","KeyIndex indexValue must always be a string."),new ye(e,Ul)}toString(){return".key"}}const bi=new iC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class dt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??dt.RED,this.left=i??jt.EMPTY_NODE,this.right=o??jt.EMPTY_NODE}copy(e,n,r,i,o){return new dt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return jt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return jt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}dt.RED=!0;dt.BLACK=!1;class S2{copy(e,n,r,i,o){return this}insert(e,n,r){return new dt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class jt{constructor(e,n=jt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new jt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,dt.BLACK,null,null))}remove(e){return new jt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,dt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new jl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new jl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new jl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new jl(this.root_,null,this.comparator_,!0,e)}}jt.EMPTY_NODE=new S2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t,e){return ds(t.name,e.name)}function dg(t,e){return ds(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let op;function T2(t){op=t}const oC=function(t){return typeof t=="number"?"number:"+DS(t):"string:"+t},sC=function(t){if(t.isLeafNode()){const e=t.val();W(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Vn(e,".sv"),"Priority must be a string or number.")}else W(t===op||t.isEmpty(),"priority of unexpected type.");W(t===op||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L_;class ut{constructor(e,n=ut.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,W(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),sC(this.priorityNode_)}static set __childrenNodeConstructor(e){L_=e}static get __childrenNodeConstructor(){return L_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ut(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ut.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ve(e)?this:_e(e)===".priority"?this.priorityNode_:ut.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ut.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=_e(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(W(r!==".priority"||Zr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ut.__childrenNodeConstructor.EMPTY_NODE.updateChild($e(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+oC(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=DS(this.value_):e+=this.value_,this.lazyHash_=OS(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ut.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ut.__childrenNodeConstructor?-1:(W(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=ut.VALUE_TYPE_ORDER.indexOf(n),o=ut.VALUE_TYPE_ORDER.indexOf(r);return W(i>=0,"Unknown leaf type: "+n),W(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ut.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aC,lC;function x2(t){aC=t}function I2(t){lC=t}class b2 extends dd{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?ds(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ye.MIN}maxPost(){return new ye(Jr,new ut("[PRIORITY-POST]",lC))}makePost(e,n){const r=aC(e);return new ye(n,new ut("[PRIORITY-POST]",r))}toString(){return".priority"}}const qe=new b2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=Math.log(2);class k2{constructor(e){const n=o=>parseInt(Math.log(o)/R2,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const rc=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,f;if(c===0)return null;if(c===1)return d=t[l],f=n?n(d):d,new dt(f,d.node,dt.BLACK,null,null);{const v=parseInt(c/2,10)+l,y=i(l,v),h=i(v+1,u);return d=t[v],f=n?n(d):d,new dt(f,d.node,dt.BLACK,y,h)}},o=function(l){let u=null,c=null,d=t.length;const f=function(y,h){const S=d-y,g=d;d-=y;const m=i(S+1,g),_=t[S],E=n?n(_):_;v(new dt(E,_.node,h,null,m))},v=function(y){u?(u.left=y,u=y):(c=y,u=y)};for(let y=0;y<l.count;++y){const h=l.nextBitIsOne(),S=Math.pow(2,l.count-(y+1));h?f(S,dt.BLACK):(f(S,dt.BLACK),f(S,dt.RED))}return c},s=new k2(t.length),a=o(s);return new jt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf;const no={};class er{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return W(no&&qe,"ChildrenNode.ts has not been loaded"),xf=xf||new er({".priority":no},{".priority":qe}),xf}get(e){const n=Ko(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof jt?n:null}hasIndex(e){return Vn(this.indexSet_,e.toString())}addIndex(e,n){W(e!==bi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(ye.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=rc(r,e.getCompare()):a=no;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new er(c,u)}addToIndexes(e,n){const r=Ku(this.indexes_,(i,o)=>{const s=Ko(this.indexSet_,o);if(W(s,"Missing index implementation for "+o),i===no)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(ye.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),rc(a,s.getCompare())}else return no;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new ye(e.name,a))),l.insert(e,e.node)}});return new er(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ku(this.indexes_,i=>{if(i===no)return i;{const o=n.get(e.name);return o?i.remove(new ye(e.name,o)):i}});return new er(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ps;class de{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&sC(this.priorityNode_),this.children_.isEmpty()&&W(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ps||(Ps=new de(new jt(dg),null,er.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ps}updatePriority(e){return this.children_.isEmpty()?this:new de(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ps:n}}getChild(e){const n=_e(e);return n===null?this:this.getImmediateChild(n).getChild($e(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(W(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ye(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?Ps:this.priorityNode_;return new de(i,s,o)}}updateChild(e,n){const r=_e(e);if(r===null)return n;{W(_e(e)!==".priority"||Zr(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild($e(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(qe,(s,a)=>{n[s]=a.val(e),r++,o&&de.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+oC(this.getPriority().val())+":"),this.forEachChild(qe,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":OS(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new ye(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ye(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ye(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ye.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ye.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ll?-1:0}withIndex(e){if(e===bi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new de(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===bi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(qe),i=n.getIterator(qe);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===bi?null:this.indexMap_.get(e.toString())}}de.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class P2 extends de{constructor(){super(new jt(dg),de.EMPTY_NODE,er.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return de.EMPTY_NODE}isEmpty(){return!1}}const ll=new P2;Object.defineProperties(ye,{MIN:{value:new ye(Ui,de.EMPTY_NODE)},MAX:{value:new ye(Jr,ll)}});iC.__EMPTY_NODE=de.EMPTY_NODE;ut.__childrenNodeConstructor=de;T2(ll);I2(ll);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=!0;function ft(t,e=null){if(t===null)return de.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),W(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ut(n,ft(e))}if(!(t instanceof Array)&&A2){const n=[];let r=!1;if(Ht(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=ft(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ye(s,l)))}}),n.length===0)return de.EMPTY_NODE;const o=rc(n,C2,s=>s.name,dg);if(r){const s=rc(n,qe.getCompare());return new de(o,ft(e),new er({".priority":s},{".priority":qe}))}else return new de(o,ft(e),er.Default)}else{let n=de.EMPTY_NODE;return Ht(t,(r,i)=>{if(Vn(t,r)&&r.substring(0,1)!=="."){const o=ft(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(ft(e))}}x2(ft);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg extends dd{constructor(e){super(),this.indexPath_=e,W(!ve(e)&&_e(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?ds(e.name,n.name):o}makePost(e,n){const r=ft(e),i=de.EMPTY_NODE.updateChild(this.indexPath_,r);return new ye(n,i)}maxPost(){const e=de.EMPTY_NODE.updateChild(this.indexPath_,ll);return new ye(Jr,e)}toString(){return eC(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2 extends dd{compare(e,n){const r=e.node.compareTo(n.node);return r===0?ds(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ye.MIN}maxPost(){return ye.MAX}makePost(e,n){const r=ft(e);return new ye(n,r)}toString(){return".value"}}const uC=new O2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t){return{type:"value",snapshotNode:t}}function Qo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Na(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Da(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function N2(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){W(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Na(n,a)):W(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Qo(n,r)):s.trackChildChange(Da(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(qe,(i,o)=>{n.hasChild(i)||r.trackChildChange(Na(i,o))}),n.isLeafNode()||n.forEachChild(qe,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Da(i,o,s))}else r.trackChildChange(Qo(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?de.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.indexedFilter_=new hg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ma.getStartPost_(e),this.endPost_=Ma.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new ye(n,r))||(r=de.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=de.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(de.EMPTY_NODE);const o=this;return n.forEachChild(qe,(s,a)=>{o.matches(new ye(s,a))||(i=i.updateImmediateChild(s,de.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ma(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new ye(n,r))||(r=de.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=de.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=de.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(de.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,de.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const d=this.index_.getCompare();s=(f,v)=>d(v,f)}else s=this.index_.getCompare();const a=e;W(a.numChildren()===this.limit_,"");const l=new ye(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const v=f==null?1:s(f,l);if(c&&!r.isEmpty()&&v>=0)return o!=null&&o.trackChildChange(Da(n,r,d)),a.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(Na(n,d));const h=a.updateImmediateChild(n,de.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o!=null&&o.trackChildChange(Qo(f.name,f.node)),h.updateImmediateChild(f.name,f.node)):h}}else return r.isEmpty()?e:c&&s(u,l)>=0?(o!=null&&(o.trackChildChange(Na(u.name,u.node)),o.trackChildChange(Qo(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,de.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return W(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return W(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ui}hasEnd(){return this.endSet_}getIndexEndValue(){return W(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return W(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Jr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return W(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===qe}copy(){const e=new pg;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function M2(t){return t.loadsAllData()?new hg(t.getIndex()):t.hasLimit()?new D2(t):new Ma(t)}function L2(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function F2(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function $2(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function U2(t,e){const n=t.copy();return n.index_=e,n}function F_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===qe?n="$priority":t.index_===uC?n="$value":t.index_===bi?n="$key":(W(t.index_ instanceof fg,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=st(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=st(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+st(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=st(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+st(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function $_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==qe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends XS{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=al("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(W(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=ic.getListenId_(e,r),a={};this.listens_[s]=a;const l=F_(e._queryParams);this.restRequest_(o+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(o,d,!1,r),Ko(this.listens_,s)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=ic.getListenId_(e,n);delete this.listens_[r]}get(e){const n=F_(e._queryParams),r=e._path.toString(),i=new od;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ls(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ra(a.responseText)}catch{Vt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Vt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.rootNode_=de.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(){return{value:null,children:new Map}}function dC(t,e,n){if(ve(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=_e(e);t.children.has(r)||t.children.set(r,oc());const i=t.children.get(r);e=$e(e),dC(i,e,n)}}function sp(t,e,n){t.value!==null?n(e,t.value):z2(t,(r,i)=>{const o=new De(e.toString()+"/"+r);sp(i,o,n)})}function z2(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ht(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=10*1e3,W2=30*1e3,V2=5*60*1e3;class H2{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new B2(e);const r=U_+(W2-U_)*Math.random();Zs(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ht(e,(i,o)=>{o>0&&Vn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Zs(this.reportStats_.bind(this),Math.floor(Math.random()*2*V2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Cn||(Cn={}));function fC(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function mg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function gg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Cn.ACK_USER_WRITE,this.source=fC()}operationForChild(e){if(ve(this.path)){if(this.affectedTree.value!=null)return W(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new De(e));return new sc(be(),n,this.revert)}}else return W(_e(this.path)===e,"operationForChild called for unrelated child."),new sc($e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n){this.source=e,this.path=n,this.type=Cn.LISTEN_COMPLETE}operationForChild(e){return ve(this.path)?new La(this.source,be()):new La(this.source,$e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Cn.OVERWRITE}operationForChild(e){return ve(this.path)?new ji(this.source,be(),this.snap.getImmediateChild(e)):new ji(this.source,$e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Cn.MERGE}operationForChild(e){if(ve(this.path)){const n=this.children.subtree(new De(e));return n.isEmpty()?null:n.value?new ji(this.source,be(),n.value):new Fa(this.source,be(),n)}else return W(_e(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Fa(this.source,$e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ve(e))return this.isFullyInitialized()&&!this.filtered_;const n=_e(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function K2(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(N2(s.childName,s.snapshotNode))}),As(t,i,"child_removed",e,r,n),As(t,i,"child_added",e,r,n),As(t,i,"child_moved",o,r,n),As(t,i,"child_changed",e,r,n),As(t,i,"value",e,r,n),i}function As(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>q2(t,a,l)),s.forEach(a=>{const l=Y2(t,a,o);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function Y2(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function q2(t,e,n){if(e.childName==null||n.childName==null)throw as("Should only compare child_ events.");const r=new ye(e.childName,e.snapshotNode),i=new ye(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t,e){return{eventCache:t,serverCache:e}}function ea(t,e,n,r){return fd(new ei(e,n,r),t.serverCache)}function hC(t,e,n,r){return fd(t.eventCache,new ei(e,n,r))}function ac(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function zi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If;const Q2=()=>(If||(If=new jt(ND)),If);class We{constructor(e,n=Q2()){this.value=e,this.children=n}static fromObject(e){let n=new We(null);return Ht(e,(r,i)=>{n=n.set(new De(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:be(),value:this.value};if(ve(e))return null;{const r=_e(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue($e(e),n);return o!=null?{path:at(new De(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ve(e))return this;{const n=_e(e),r=this.children.get(n);return r!==null?r.subtree($e(e)):new We(null)}}set(e,n){if(ve(e))return new We(n,this.children);{const r=_e(e),o=(this.children.get(r)||new We(null)).set($e(e),n),s=this.children.insert(r,o);return new We(this.value,s)}}remove(e){if(ve(e))return this.children.isEmpty()?new We(null):new We(null,this.children);{const n=_e(e),r=this.children.get(n);if(r){const i=r.remove($e(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new We(null):new We(this.value,o)}else return this}}get(e){if(ve(e))return this.value;{const n=_e(e),r=this.children.get(n);return r?r.get($e(e)):null}}setTree(e,n){if(ve(e))return n;{const r=_e(e),o=(this.children.get(r)||new We(null)).setTree($e(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new We(this.value,s)}}fold(e){return this.fold_(be(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(at(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,be(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ve(e))return null;{const o=_e(e),s=this.children.get(o);return s?s.findOnPath_($e(e),at(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,be(),n)}foreachOnPath_(e,n,r){if(ve(e))return this;{this.value&&r(n,this.value);const i=_e(e),o=this.children.get(i);return o?o.foreachOnPath_($e(e),at(n,i),r):new We(null)}}foreach(e){this.foreach_(be(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(at(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.writeTree_=e}static empty(){return new In(new We(null))}}function ta(t,e,n){if(ve(e))return new In(new We(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=Dt(i,e);return o=o.updateChild(s,n),new In(t.writeTree_.set(i,o))}else{const i=new We(n),o=t.writeTree_.setTree(e,i);return new In(o)}}}function j_(t,e,n){let r=t;return Ht(n,(i,o)=>{r=ta(r,at(e,i),o)}),r}function z_(t,e){if(ve(e))return In.empty();{const n=t.writeTree_.setTree(e,new We(null));return new In(n)}}function ap(t,e){return Yi(t,e)!=null}function Yi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Dt(n.path,e)):null}function B_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(qe,(r,i)=>{e.push(new ye(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ye(r,i.value))}),e}function Vr(t,e){if(ve(e))return t;{const n=Yi(t,e);return n!=null?new In(new We(n)):new In(t.writeTree_.subtree(e))}}function lp(t){return t.writeTree_.isEmpty()}function Xo(t,e){return pC(be(),t.writeTree_,e)}function pC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(W(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=pC(at(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(at(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(t,e){return yC(e,t)}function X2(t,e,n,r,i){W(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ta(t.visibleWrites,e,n)),t.lastWriteId=r}function J2(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Z2(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);W(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&eM(a,r.path)?i=!1:Sn(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return tM(t),!0;if(r.snap)t.visibleWrites=z_(t.visibleWrites,r.path);else{const a=r.children;Ht(a,l=>{t.visibleWrites=z_(t.visibleWrites,at(r.path,l))})}return!0}else return!1}function eM(t,e){if(t.snap)return Sn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Sn(at(t.path,n),e))return!0;return!1}function tM(t){t.visibleWrites=mC(t.allWrites,nM,be()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function nM(t){return t.visible}function mC(t,e,n){let r=In.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)Sn(n,s)?(a=Dt(n,s),r=ta(r,a,o.snap)):Sn(s,n)&&(a=Dt(s,n),r=ta(r,be(),o.snap.getChild(a)));else if(o.children){if(Sn(n,s))a=Dt(n,s),r=j_(r,a,o.children);else if(Sn(s,n))if(a=Dt(s,n),ve(a))r=j_(r,be(),o.children);else{const l=Ko(o.children,_e(a));if(l){const u=l.getChild($e(a));r=ta(r,be(),u)}}}else throw as("WriteRecord should have .snap or .children")}}return r}function gC(t,e,n,r,i){if(!r&&!i){const o=Yi(t.visibleWrites,e);if(o!=null)return o;{const s=Vr(t.visibleWrites,e);if(lp(s))return n;if(n==null&&!ap(s,be()))return null;{const a=n||de.EMPTY_NODE;return Xo(s,a)}}}else{const o=Vr(t.visibleWrites,e);if(!i&&lp(o))return n;if(!i&&n==null&&!ap(o,be()))return null;{const s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Sn(u.path,e)||Sn(e,u.path))},a=mC(t.allWrites,s,e),l=n||de.EMPTY_NODE;return Xo(a,l)}}}function rM(t,e,n){let r=de.EMPTY_NODE;const i=Yi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(qe,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=Vr(t.visibleWrites,e);return n.forEachChild(qe,(s,a)=>{const l=Xo(Vr(o,new De(s)),a);r=r.updateImmediateChild(s,l)}),B_(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=Vr(t.visibleWrites,e);return B_(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function iM(t,e,n,r,i){W(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=at(e,n);if(ap(t.visibleWrites,o))return null;{const s=Vr(t.visibleWrites,o);return lp(s)?i.getChild(n):Xo(s,i.getChild(n))}}function oM(t,e,n,r){const i=at(e,n),o=Yi(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=Vr(t.visibleWrites,i);return Xo(s,r.getNode().getImmediateChild(n))}else return null}function sM(t,e){return Yi(t.visibleWrites,e)}function aM(t,e,n,r,i,o,s){let a;const l=Vr(t.visibleWrites,e),u=Yi(l,be());if(u!=null)a=u;else if(n!=null)a=Xo(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let v=f.getNext();for(;v&&c.length<i;)d(v,r)!==0&&c.push(v),v=f.getNext();return c}else return[]}function lM(){return{visibleWrites:In.empty(),allWrites:[],lastWriteId:-1}}function lc(t,e,n,r){return gC(t.writeTree,t.treePath,e,n,r)}function vg(t,e){return rM(t.writeTree,t.treePath,e)}function W_(t,e,n,r){return iM(t.writeTree,t.treePath,e,n,r)}function uc(t,e){return sM(t.writeTree,at(t.treePath,e))}function uM(t,e,n,r,i,o){return aM(t.writeTree,t.treePath,e,n,r,i,o)}function yg(t,e,n){return oM(t.writeTree,t.treePath,e,n)}function vC(t,e){return yC(at(t.treePath,e),t.writeTree)}function yC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;W(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),W(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Da(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Na(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Qo(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Da(r,e.snapshotNode,i.oldSnap));else throw as("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const _C=new dM;class _g{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ei(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return yg(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:zi(this.viewCache_),o=uM(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t){return{filter:t}}function hM(t,e){W(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),W(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function pM(t,e,n,r,i){const o=new cM;let s,a;if(n.type===Cn.OVERWRITE){const u=n;u.source.fromUser?s=up(t,e,u.path,u.snap,r,i,o):(W(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!ve(u.path),s=cc(t,e,u.path,u.snap,r,i,a,o))}else if(n.type===Cn.MERGE){const u=n;u.source.fromUser?s=gM(t,e,u.path,u.children,r,i,o):(W(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=cp(t,e,u.path,u.children,r,i,a,o))}else if(n.type===Cn.ACK_USER_WRITE){const u=n;u.revert?s=_M(t,e,u.path,r,i,o):s=vM(t,e,u.path,u.affectedTree,r,i,o)}else if(n.type===Cn.LISTEN_COMPLETE)s=yM(t,e,n.path,r,o);else throw as("Unknown operation type: "+n.type);const l=o.getChanges();return mM(e,s,l),{viewCache:s,changes:l}}function mM(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=ac(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(cC(ac(e)))}}function wC(t,e,n,r,i,o){const s=e.eventCache;if(uc(r,n)!=null)return e;{let a,l;if(ve(n))if(W(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=zi(e),c=u instanceof de?u:de.EMPTY_NODE,d=vg(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const u=lc(r,zi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=_e(n);if(u===".priority"){W(Zr(n)===1,"Can't have a priority with additional path components");const c=s.getNode();l=e.serverCache.getNode();const d=W_(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=s.getNode()}else{const c=$e(n);let d;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();const f=W_(r,n,s.getNode(),l);f!=null?d=s.getNode().getImmediateChild(u).updateChild(c,f):d=s.getNode().getImmediateChild(u)}else d=yg(r,u,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),u,d,c,i,o):a=s.getNode()}}return ea(e,a,s.isFullyInitialized()||ve(n),t.filter.filtersNodes())}}function cc(t,e,n,r,i,o,s,a){const l=e.serverCache;let u;const c=s?t.filter:t.filter.getIndexedFilter();if(ve(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),v,null)}else{const v=_e(n);if(!l.isCompleteForPath(n)&&Zr(n)>1)return e;const y=$e(n),S=l.getNode().getImmediateChild(v).updateChild(y,r);v===".priority"?u=c.updatePriority(l.getNode(),S):u=c.updateChild(l.getNode(),v,S,y,_C,null)}const d=hC(e,u,l.isFullyInitialized()||ve(n),c.filtersNodes()),f=new _g(i,d,o);return wC(t,d,n,i,f,a)}function up(t,e,n,r,i,o,s){const a=e.eventCache;let l,u;const c=new _g(i,e,o);if(ve(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=ea(e,u,!0,t.filter.filtersNodes());else{const d=_e(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=ea(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=$e(n),v=a.getNode().getImmediateChild(d);let y;if(ve(f))y=r;else{const h=c.getCompleteChild(d);h!=null?ZS(f)===".priority"&&h.getChild(tC(f)).isEmpty()?y=h:y=h.updateChild(f,r):y=de.EMPTY_NODE}if(v.equals(y))l=e;else{const h=t.filter.updateChild(a.getNode(),d,y,f,c,s);l=ea(e,h,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function V_(t,e){return t.eventCache.isCompleteForChild(e)}function gM(t,e,n,r,i,o,s){let a=e;return r.foreach((l,u)=>{const c=at(n,l);V_(e,_e(c))&&(a=up(t,a,c,u,i,o,s))}),r.foreach((l,u)=>{const c=at(n,l);V_(e,_e(c))||(a=up(t,a,c,u,i,o,s))}),a}function H_(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function cp(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;ve(n)?u=r:u=new We(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const v=e.serverCache.getNode().getImmediateChild(d),y=H_(t,v,f);l=cc(t,l,new De(d),y,i,o,s,a)}}),u.children.inorderTraversal((d,f)=>{const v=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!v){const y=e.serverCache.getNode().getImmediateChild(d),h=H_(t,y,f);l=cc(t,l,new De(d),h,i,o,s,a)}}),l}function vM(t,e,n,r,i,o,s){if(uc(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ve(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return cc(t,e,n,l.getNode().getChild(n),i,o,a,s);if(ve(n)){let u=new We(null);return l.getNode().forEachChild(bi,(c,d)=>{u=u.set(new De(c),d)}),cp(t,e,n,u,i,o,a,s)}else return e}else{let u=new We(null);return r.foreach((c,d)=>{const f=at(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),cp(t,e,n,u,i,o,a,s)}}function yM(t,e,n,r,i){const o=e.serverCache,s=hC(e,o.getNode(),o.isFullyInitialized()||ve(n),o.isFiltered());return wC(t,s,n,r,_C,i)}function _M(t,e,n,r,i,o){let s;if(uc(r,n)!=null)return e;{const a=new _g(r,e,i),l=e.eventCache.getNode();let u;if(ve(n)||_e(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=lc(r,zi(e));else{const d=e.serverCache.getNode();W(d instanceof de,"serverChildren would be complete if leaf node"),c=vg(r,d)}c=c,u=t.filter.updateFullNode(l,c,o)}else{const c=_e(n);let d=yg(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,$e(n),a,o):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,de.EMPTY_NODE,$e(n),a,o):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=lc(r,zi(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||uc(r,be())!=null,ea(e,u,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new hg(r.getIndex()),o=M2(r);this.processor_=fM(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(de.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(de.EMPTY_NODE,a.getNode(),null),c=new ei(l,s.isFullyInitialized(),i.filtersNodes()),d=new ei(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=fd(d,c),this.eventGenerator_=new G2(this.query_)}get query(){return this.query_}}function EM(t){return t.viewCache_.serverCache.getNode()}function SM(t){return ac(t.viewCache_)}function CM(t,e){const n=zi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ve(e)&&!n.getImmediateChild(_e(e)).isEmpty())?n.getChild(e):null}function G_(t){return t.eventRegistrations_.length===0}function TM(t,e){t.eventRegistrations_.push(e)}function K_(t,e,n){const r=[];if(n){W(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Y_(t,e,n,r){e.type===Cn.MERGE&&e.source.queryId!==null&&(W(zi(t.viewCache_),"We should always have a full cache before handling merges"),W(ac(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=pM(t.processor_,i,e,n,r);return hM(t.processor_,o.viewCache),W(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,EC(t,o.changes,o.viewCache.eventCache.getNode(),null)}function xM(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(qe,(o,s)=>{r.push(Qo(o,s))}),n.isFullyInitialized()&&r.push(cC(n.getNode())),EC(t,r,n.getNode(),e)}function EC(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return K2(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc;class SC{constructor(){this.views=new Map}}function IM(t){W(!dc,"__referenceConstructor has already been defined"),dc=t}function bM(){return W(dc,"Reference.ts has not been loaded"),dc}function RM(t){return t.views.size===0}function wg(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return W(o!=null,"SyncTree gave us an op for an invalid query."),Y_(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(Y_(s,e,n,r));return o}}function CC(t,e,n,r,i){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=lc(n,i?r:null),l=!1;a?l=!0:r instanceof de?(a=vg(n,r),l=!1):(a=de.EMPTY_NODE,l=!1);const u=fd(new ei(a,l,!1),new ei(r,i,!1));return new wM(e,u)}return s}function kM(t,e,n,r,i,o){const s=CC(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),TM(s,n),xM(s,n)}function PM(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=ti(t);if(i==="default")for(const[l,u]of t.views.entries())s=s.concat(K_(u,n,r)),G_(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{const l=t.views.get(i);l&&(s=s.concat(K_(l,n,r)),G_(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!ti(t)&&o.push(new(bM())(e._repo,e._path)),{removed:o,events:s}}function TC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Hr(t,e){let n=null;for(const r of t.views.values())n=n||CM(r,e);return n}function xC(t,e){if(e._queryParams.loadsAllData())return pd(t);{const r=e._queryIdentifier;return t.views.get(r)}}function IC(t,e){return xC(t,e)!=null}function ti(t){return pd(t)!=null}function pd(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc;function AM(t){W(!fc,"__referenceConstructor has already been defined"),fc=t}function OM(){return W(fc,"Reference.ts has not been loaded"),fc}let NM=1;class q_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new We(null),this.pendingWriteTree_=lM(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function bC(t,e,n,r,i){return X2(t.pendingWriteTree_,e,n,r,i),i?cl(t,new ji(fC(),e,n)):[]}function Si(t,e,n=!1){const r=J2(t.pendingWriteTree_,e);if(Z2(t.pendingWriteTree_,e)){let o=new We(null);return r.snap!=null?o=o.set(be(),!0):Ht(r.children,s=>{o=o.set(new De(s),!0)}),cl(t,new sc(r.path,o,n))}else return[]}function ul(t,e,n){return cl(t,new ji(mg(),e,n))}function DM(t,e,n){const r=We.fromObject(n);return cl(t,new Fa(mg(),e,r))}function MM(t,e){return cl(t,new La(mg(),e))}function LM(t,e,n){const r=Sg(t,n);if(r){const i=Cg(r),o=i.path,s=i.queryId,a=Dt(o,e),l=new La(gg(s),a);return Tg(t,o,l)}else return[]}function RC(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&(e._queryIdentifier==="default"||IC(s,e))){const l=PM(s,e,n,r);RM(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,v)=>ti(v));if(c&&!d){const f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){const v=jM(f);for(let y=0;y<v.length;++y){const h=v[y],S=h.query,g=OC(t,h);t.listenProvider_.startListening(na(S),$a(t,S),g.hashFn,g.onComplete)}}}!d&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(na(e),null):u.forEach(f=>{const v=t.queryToTagMap.get(md(f));t.listenProvider_.stopListening(na(f),v)}))}zM(t,u)}return a}function kC(t,e,n,r){const i=Sg(t,r);if(i!=null){const o=Cg(i),s=o.path,a=o.queryId,l=Dt(s,e),u=new ji(gg(a),l,n);return Tg(t,s,u)}else return[]}function FM(t,e,n,r){const i=Sg(t,r);if(i){const o=Cg(i),s=o.path,a=o.queryId,l=Dt(s,e),u=We.fromObject(n),c=new Fa(gg(a),l,u);return Tg(t,s,c)}else return[]}function $M(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,v)=>{const y=Dt(f,i);o=o||Hr(v,y),s=s||ti(v)});let a=t.syncPointTree_.get(i);a?(s=s||ti(a),o=o||Hr(a,be())):(a=new SC,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=de.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((v,y)=>{const h=Hr(y,be());h&&(o=o.updateImmediateChild(v,h))}));const u=IC(a,e);if(!u&&!e._queryParams.loadsAllData()){const f=md(e);W(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const v=BM();t.queryToTagMap.set(f,v),t.tagToQueryMap.set(v,f)}const c=hd(t.pendingWriteTree_,i);let d=kM(a,e,n,c,o,l);if(!u&&!s&&!r){const f=xC(a,e);d=d.concat(WM(t,e,f))}return d}function Eg(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=Dt(s,e),u=Hr(a,l);if(u)return u});return gC(i,e,o,n,!0)}function UM(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=Dt(u,n);r=r||Hr(c,d)});let i=t.syncPointTree_.get(n);i?r=r||Hr(i,be()):(i=new SC,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=r!=null,s=o?new ei(r,!0,!1):null,a=hd(t.pendingWriteTree_,e._path),l=CC(i,e,a,o?s.getNode():de.EMPTY_NODE,o);return SM(l)}function cl(t,e){return PC(e,t.syncPointTree_,null,hd(t.pendingWriteTree_,be()))}function PC(t,e,n,r){if(ve(t.path))return AC(t,e,n,r);{const i=e.get(be());n==null&&i!=null&&(n=Hr(i,be()));let o=[];const s=_e(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,c=vC(r,s);o=o.concat(PC(a,l,u,c))}return i&&(o=o.concat(wg(i,t,r,n))),o}}function AC(t,e,n,r){const i=e.get(be());n==null&&i!=null&&(n=Hr(i,be()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=vC(r,s),c=t.operationForChild(s);c&&(o=o.concat(AC(c,a,l,u)))}),i&&(o=o.concat(wg(i,t,r,n))),o}function OC(t,e){const n=e.query,r=$a(t,n);return{hashFn:()=>(EM(e)||de.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?LM(t,n._path,r):MM(t,n._path);{const o=LD(i,n);return RC(t,n,null,o)}}}}function $a(t,e){const n=md(e);return t.queryToTagMap.get(n)}function md(t){return t._path.toString()+"$"+t._queryIdentifier}function Sg(t,e){return t.tagToQueryMap.get(e)}function Cg(t){const e=t.indexOf("$");return W(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new De(t.substr(0,e))}}function Tg(t,e,n){const r=t.syncPointTree_.get(e);W(r,"Missing sync point for query tag that we're tracking");const i=hd(t.pendingWriteTree_,e);return wg(r,n,i,null)}function jM(t){return t.fold((e,n,r)=>{if(n&&ti(n))return[pd(n)];{let i=[];return n&&(i=TC(n)),Ht(r,(o,s)=>{i=i.concat(s)}),i}})}function na(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(OM())(t._repo,t._path):t}function zM(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=md(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function BM(){return NM++}function WM(t,e,n){const r=e._path,i=$a(t,e),o=OC(t,n),s=t.listenProvider_.startListening(na(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)W(!ti(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!ve(u)&&c&&ti(c))return[pd(c).query];{let f=[];return c&&(f=f.concat(TC(c).map(v=>v.query))),Ht(d,(v,y)=>{f=f.concat(y)}),f}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(na(c),$a(t,c))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new xg(n)}node(){return this.node_}}class Ig{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=at(this.path_,e);return new Ig(this.syncTree_,n)}node(){return Eg(this.syncTree_,this.path_)}}const VM=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Q_=function(t,e,n){if(!t||typeof t!="object")return t;if(W(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return HM(t[".sv"],e,n);if(typeof t[".sv"]=="object")return GM(t[".sv"],e);W(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},HM=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:W(!1,"Unexpected server value: "+t)}},GM=function(t,e,n){t.hasOwnProperty("increment")||W(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&W(!1,"Unexpected increment value: "+r);const i=e.node();if(W(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},KM=function(t,e,n,r){return bg(e,new Ig(n,t),r)},NC=function(t,e,n){return bg(t,new xg(e),n)};function bg(t,e,n){const r=t.getPriority().val(),i=Q_(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=Q_(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new ut(a,ft(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new ut(i))),s.forEachChild(qe,(a,l)=>{const u=bg(l,e.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function kg(t,e){let n=e instanceof De?e:new De(e),r=t,i=_e(n);for(;i!==null;){const o=Ko(r.node.children,i)||{children:{},childCount:0};r=new Rg(i,r,o),n=$e(n),i=_e(n)}return r}function hs(t){return t.node.value}function DC(t,e){t.node.value=e,dp(t)}function MC(t){return t.node.childCount>0}function YM(t){return hs(t)===void 0&&!MC(t)}function gd(t,e){Ht(t.node.children,(n,r)=>{e(new Rg(n,t,r))})}function LC(t,e,n,r){n&&!r&&e(t),gd(t,i=>{LC(i,e,!0,r)}),n&&r&&e(t)}function qM(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function dl(t){return new De(t.parent===null?t.name:dl(t.parent)+"/"+t.name)}function dp(t){t.parent!==null&&QM(t.parent,t.name,t)}function QM(t,e,n){const r=YM(n),i=Vn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,dp(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,dp(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=/[\[\].#$\/\u0000-\u001F\u007F]/,JM=/[\[\].#$\u0000-\u001F\u007F]/,bf=10*1024*1024,Pg=function(t){return typeof t=="string"&&t.length!==0&&!XM.test(t)},FC=function(t){return typeof t=="string"&&t.length!==0&&!JM.test(t)},ZM=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),FC(t)},X_=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!og(t)||t&&typeof t=="object"&&Vn(t,".sv")},vd=function(t,e,n,r){r&&e===void 0||Ag(sd(t,"value"),e,n)},Ag=function(t,e,n){const r=n instanceof De?new m2(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+hi(r));if(typeof e=="function")throw new Error(t+"contains a function "+hi(r)+" with contents = "+e.toString());if(og(e))throw new Error(t+"contains "+e.toString()+" "+hi(r));if(typeof e=="string"&&e.length>bf/3&&ad(e)>bf)throw new Error(t+"contains a string greater than "+bf+" utf8 bytes "+hi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Ht(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Pg(s)))throw new Error(t+" contains an invalid key ("+s+") "+hi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);g2(r,s),Ag(t,a,r),v2(r)}),i&&o)throw new Error(t+' contains ".value" child '+hi(r)+" in addition to actual children.")}},eL=function(t,e,n,r){if(!(r&&n===void 0)&&!Pg(n))throw new Error(sd(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Og=function(t,e,n,r){if(!(r&&n===void 0)&&!FC(n))throw new Error(sd(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},tL=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Og(t,e,n,r)},nL=function(t,e){if(_e(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},rL=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Pg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!ZM(n))throw new Error(sd(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function $C(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!nC(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Wn(t,e,n){$C(t,n),oL(t,r=>Sn(r,e)||Sn(e,r))}function oL(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(sL(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function sL(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ii&&Rt("event: "+n.toString()),fs(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL="repo_interrupt",lL=25;class uL{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new iL,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=oc(),this.transactionQueueTree_=new Rg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function cL(t,e,n){if(t.stats_=lg(t.repoInfo_),t.forceRestClient_||jD())t.server_=new ic(t.repoInfo_,(r,i,o,s)=>{J_(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Z_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{st(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ir(t.repoInfo_,e,(r,i,o,s)=>{J_(t,r,i,o,s)},r=>{Z_(t,r)},r=>{fL(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=HD(t.repoInfo_,()=>new H2(t.stats_,t.server_)),t.infoData_=new j2,t.infoSyncTree_=new q_({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=ul(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Dg(t,"connected",!1),t.serverSyncTree_=new q_({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);Wn(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function dL(t){const n=t.infoData_.getNode(new De(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ng(t){return VM({timestamp:dL(t)})}function J_(t,e,n,r,i){t.dataUpdateCount++;const o=new De(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=Ku(n,u=>ft(u));s=FM(t.serverSyncTree_,o,l,i)}else{const l=ft(n);s=kC(t.serverSyncTree_,o,l,i)}else if(r){const l=Ku(n,u=>ft(u));s=DM(t.serverSyncTree_,o,l)}else{const l=ft(n);s=ul(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=_d(t,o)),Wn(t.eventQueue_,a,s)}function Z_(t,e){Dg(t,"connected",e),e===!1&&mL(t)}function fL(t,e){Ht(e,(n,r)=>{Dg(t,n,r)})}function Dg(t,e,n){const r=new De("/.info/"+e),i=ft(n);t.infoData_.updateSnapshot(r,i);const o=ul(t.infoSyncTree_,r,i);Wn(t.eventQueue_,r,o)}function UC(t){return t.nextWriteId_++}function hL(t,e,n){const r=UM(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const o=ft(i).withIndex(e._queryParams.getIndex());$M(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=ul(t.serverSyncTree_,e._path,o);else{const a=$a(t.serverSyncTree_,e);s=kC(t.serverSyncTree_,e._path,o,a)}return Wn(t.eventQueue_,e._path,s),RC(t.serverSyncTree_,e,n,null,!0),o},i=>(yd(t,"get for query "+st(e)+" failed: "+i),Promise.reject(new Error(i))))}function pL(t,e,n,r,i){yd(t,"set",{path:e.toString(),value:n,priority:r});const o=Ng(t),s=ft(n,r),a=Eg(t.serverSyncTree_,e),l=NC(s,a,o),u=UC(t),c=bC(t.serverSyncTree_,e,l,u,!0);$C(t.eventQueue_,c),t.server_.put(e.toString(),s.val(!0),(f,v)=>{const y=f==="ok";y||Vt("set at "+e+" failed: "+f);const h=Si(t.serverSyncTree_,u,!y);Wn(t.eventQueue_,e,h),vL(t,i,f,v)});const d=VC(t,e);_d(t,d),Wn(t.eventQueue_,d,[])}function mL(t){yd(t,"onDisconnectEvents");const e=Ng(t),n=oc();sp(t.onDisconnect_,be(),(i,o)=>{const s=KM(i,o,t.serverSyncTree_,e);dC(n,i,s)});let r=[];sp(n,be(),(i,o)=>{r=r.concat(ul(t.serverSyncTree_,i,o));const s=VC(t,i);_d(t,s)}),t.onDisconnect_=oc(),Wn(t.eventQueue_,be(),r)}function gL(t){t.persistentConnection_&&t.persistentConnection_.interrupt(aL)}function yd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Rt(n,...e)}function vL(t,e,n,r){e&&fs(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function jC(t,e,n){return Eg(t.serverSyncTree_,e,n)||de.EMPTY_NODE}function Mg(t,e=t.transactionQueueTree_){if(e||wd(t,e),hs(e)){const n=BC(t,e);W(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&yL(t,dl(e),n)}else MC(e)&&gd(e,n=>{Mg(t,n)})}function yL(t,e,n){const r=n.map(u=>u.currentWriteId),i=jC(t,e,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const c=n[u];W(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Dt(e,c.path);o=o.updateChild(d,c.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,u=>{yd(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(Si(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();wd(t,kg(t.transactionQueueTree_,e)),Mg(t,t.transactionQueueTree_),Wn(t.eventQueue_,e,c);for(let f=0;f<d.length;f++)fs(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Vt("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}_d(t,e)}},s)}function _d(t,e){const n=zC(t,e),r=dl(n),i=BC(t,n);return _L(t,i,r),r}function _L(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Dt(n,l.path);let c=!1,d;if(W(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(Si(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=lL)c=!0,d="maxretry",i=i.concat(Si(t.serverSyncTree_,l.currentWriteId,!0));else{const f=jC(t,l.path,s);l.currentInputSnapshot=f;const v=e[a].update(f.val());if(v!==void 0){Ag("transaction failed: Data returned ",v,l.path);let y=ft(v);typeof v=="object"&&v!=null&&Vn(v,".priority")||(y=y.updatePriority(f.getPriority()));const S=l.currentWriteId,g=Ng(t),m=NC(y,f,g);l.currentOutputSnapshotRaw=y,l.currentOutputSnapshotResolved=m,l.currentWriteId=UC(t),s.splice(s.indexOf(S),1),i=i.concat(bC(t.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally)),i=i.concat(Si(t.serverSyncTree_,S,!0))}else c=!0,d="nodata",i=i.concat(Si(t.serverSyncTree_,l.currentWriteId,!0))}Wn(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}wd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)fs(r[a]);Mg(t,t.transactionQueueTree_)}function zC(t,e){let n,r=t.transactionQueueTree_;for(n=_e(e);n!==null&&hs(r)===void 0;)r=kg(r,n),e=$e(e),n=_e(e);return r}function BC(t,e){const n=[];return WC(t,e,n),n.sort((r,i)=>r.order-i.order),n}function WC(t,e,n){const r=hs(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);gd(e,i=>{WC(t,i,n)})}function wd(t,e){const n=hs(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,DC(e,n.length>0?n:void 0)}gd(e,r=>{wd(t,r)})}function VC(t,e){const n=dl(zC(t,e)),r=kg(t.transactionQueueTree_,e);return qM(r,i=>{Rf(t,i)}),Rf(t,r),LC(r,i=>{Rf(t,i)}),n}function Rf(t,e){const n=hs(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(W(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(W(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Si(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?DC(e,void 0):n.length=o+1,Wn(t.eventQueue_,dl(e),i);for(let s=0;s<r.length;s++)fs(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function EL(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Vt(`Invalid query segment '${n}' in query '${t}'`)}return e}const e0=function(t,e){const n=SL(t),r=n.namespace;n.domain==="firebase.com"&&fr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&fr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||AD();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new VS(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new De(n.pathString)}},SL=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=wL(t.substring(c,d)));const f=EL(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const v=e.slice(0,u);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),n=e.substring(y+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+st(this.snapshot.exportVal())}}class TL{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return W(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ve(this._path)?null:ZS(this._path)}get ref(){return new mr(this._repo,this._path)}get _queryIdentifier(){const e=$_(this._queryParams),n=sg(e);return n==="{}"?"default":n}get _queryObject(){return $_(this._queryParams)}isEqual(e){if(e=mt(e),!(e instanceof qi))return!1;const n=this._repo===e._repo,r=nC(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+p2(this._path)}}function IL(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Lg(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===bi){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Ui)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Jr)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===qe){if(e!=null&&!X_(e)||n!=null&&!X_(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(W(t.getIndex()instanceof fg||t.getIndex()===uC,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function HC(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class mr extends qi{constructor(e,n){super(e,n,new pg,!1)}get parent(){const e=tC(this._path);return e===null?null:new mr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ua{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new De(e),r=fp(this.ref,e);return new Ua(this._node.getChild(n),r,qe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Ua(i,fp(this.ref,r),qe)))}hasChild(e){const n=new De(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ps(t,e){return t=mt(t),t._checkNotDeleted("ref"),e!==void 0?fp(t._root,e):t._root}function fp(t,e){return t=mt(t),_e(t._path)===null?tL("child","path",e,!1):Og("child","path",e,!1),new mr(t._repo,at(t._path,e))}function bL(t,e){t=mt(t),nL("set",t._path),vd("set",e,t._path,!1);const n=new od;return pL(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function fl(t){t=mt(t);const e=new xL(()=>{}),n=new Fg(e);return hL(t._repo,t,n).then(r=>new Ua(r,new mr(t._repo,t._path),t._queryParams.getIndex()))}class Fg{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new CL("value",this,new Ua(e.snapshotNode,new mr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new TL(this,e,n):null}matches(e){return e instanceof Fg?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class hl{}class RL extends hl{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){vd("endAt",this._value,e._path,!0);const n=$2(e._queryParams,this._value,this._key);if(HC(n),Lg(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new qi(e._repo,e._path,n,e._orderByCalled)}}class kL extends hl{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){vd("startAt",this._value,e._path,!0);const n=F2(e._queryParams,this._value,this._key);if(HC(n),Lg(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new qi(e._repo,e._path,n,e._orderByCalled)}}class PL extends hl{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new qi(e._repo,e._path,L2(e._queryParams,this._limit),e._orderByCalled)}}function AL(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new PL(t)}class OL extends hl{constructor(e){super(),this._path=e}_apply(e){IL(e,"orderByChild");const n=new De(this._path);if(ve(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new fg(n),i=U2(e._queryParams,r);return Lg(i),new qi(e._repo,e._path,i,!0)}}function NL(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Og("orderByChild","path",t,!1),new OL(t)}class DL extends hl{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(vd("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new RL(this._value,this._key)._apply(new kL(this._value,this._key)._apply(e))}}function ML(t,e){return eL("equalTo","key",e,!0),new DL(t,e)}function Ed(t,...e){let n=mt(t);for(const r of e)n=r._apply(n);return n}IM(mr);AM(mr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL="FIREBASE_DATABASE_EMULATOR_HOST",hp={};let FL=!1;function $L(t,e,n,r){t.repoInfo_=new VS(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function UL(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||fr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Rt("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=e0(o,i),a=s.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[LL]),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=e0(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const c=i&&l?new Lo(Lo.OWNER):new BD(t.name,t.options,e);rL("Invalid Firebase Database URL",s),ve(s.path)||fr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=zL(a,t,c,new zD(t.name,n));return new BL(d,t)}function jL(t,e){const n=hp[e];(!n||n[t.key]!==t)&&fr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),gL(t),delete n[t.key]}function zL(t,e,n,r){let i=hp[e.name];i||(i={},hp[e.name]=i);let o=i[t.toURLString()];return o&&fr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new uL(t,FL,n,r),i[t.toURLString()]=o,o}class BL{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(cL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new mr(this._repo,be())),this._rootInternal}_delete(){return this._rootInternal!==null&&(jL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&fr("Cannot call "+e+" on a deleted database.")}}function WL(t=Q1(),e){const n=qm(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=KP("database");r&&VL(n,...r)}return n}function VL(t,e,n,r={}){t=mt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&fr("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&fr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Lo(Lo.OWNER);else if(r.mockUserToken){const s=typeof r.mockUserToken=="string"?r.mockUserToken:qP(r.mockUserToken,t.app.options.projectId);o=new Lo(s)}$L(i,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t){ID(el),Yo(new Mi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return UL(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Wr(E_,S_,t),Wr(E_,S_,"esm2017")}ir.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ir.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};HL();q1({apiKey:"AIzaSyBKpiqsPJCrZr8sSvhdgzYUgTs3qGEOacA",authDomain:"shop-860f7.firebaseapp.com",databaseURL:"https://shop-860f7-default-rtdb.firebaseio.com",projectId:"shop-860f7",storageBucket:"shop-860f7.appspot.com",messagingSenderId:"757856082793",appId:"1:757856082793:web:9592a351144bf65acdbbf8",measurementId:"G-BT5DR6FHFM"});const GL=ec(),ms=WL();fN(GL,t=>{t?Bn.dispatch(Vu({auth:!0,uid:t.uid,name:t.displayName,email:t.email})):Bn.dispatch(Vu({auth:!1})),Bn.dispatch(pp())});const KL=async()=>fl(Ed(ps(ms,"products"),AL(10))).then(t=>t==null?void 0:t.val()),YL=async t=>fl(Ed(ps(ms,`products/${t}`))).then(e=>e==null?void 0:e.val()),qL=async t=>fl(Ed(ps(ms,"products"),NL("subtitle"),ML(t))).then(e=>e==null?void 0:e.val()),QL=async t=>{const e=t.replaceAll(" ","").toLowerCase();return fl(Ed(ps(ms,`bands/${e}`))).then(n=>n==null?void 0:n.val())},XL=async t=>fl(ps(ms,`carts/${t}`)).then(e=>e==null?void 0:e.val()),JL=async(t,e)=>bL(ps(ms,`carts/${t}`),e),$g=async()=>{const t=Bn.getState();t.user.auth&&t.user.uid?await JL(t.user.uid,{products:t.cart.products}):localStorage.setItem("cartProducts",JSON.stringify(t.cart.products))},kf=t=>{t.status="loading"},Pf=t=>{t.status="ready"},ZL={status:null,products:{}},GC=zm({name:"cart",initialState:ZL,reducers:{set:(t,e)=>{t.products=e.payload},add:(t,e)=>{if(t.products[e.payload])t.products[e.payload].count++;else{const n={count:1};t.products[e.payload]=n}},remove:(t,e)=>{var n;((n=t.products[e.payload])==null?void 0:n.count)>1?t.products[e.payload].count--:delete t.products[e.payload]}},extraReducers:t=>{t.addCase(pp.pending,kf),t.addCase(pp.fulfilled,Pf),t.addCase(n0.pending,kf),t.addCase(n0.fulfilled,Pf),t.addCase(r0.pending,kf),t.addCase(r0.fulfilled,Pf)}}),{set:t0,add:eF,remove:tF}=GC.actions,nF=GC.reducer,pp=Bm("cart/initCart",async()=>{var n;const t=Bn.getState(),e=JSON.parse(localStorage.getItem("cartProducts")||"{}");if(t.user.auth&&t.user.uid){const i={...((n=await XL(t.user.uid))==null?void 0:n.products)||{},...e};Bn.dispatch(t0(i)),localStorage.removeItem("cartProducts"),await $g()}else Bn.dispatch(t0(e))}),n0=Bm("cart/addToCart",async t=>{Bn.dispatch(eF(t)),await $g()}),r0=Bm("cart/removeFromCart",async t=>{Bn.dispatch(tF(t)),await $g()}),Bn=IP({reducer:{popup:LP,user:$P,cart:nF}});function rF(t){function e(z,p,F,re,k){for(var w=0,C=0,x=0,T=0,O,M,G=0,I=0,K,pe=K=O=0,ce=0,Te=0,Et=0,R=0,Y=F.length,Z=Y-1,X,B="",se="",je="",At="",P;ce<Y;){if(M=F.charCodeAt(ce),ce===Z&&C+T+x+w!==0&&(C!==0&&(M=C===47?10:47),T=x=w=0,Y++,Z++),C+T+x+w===0){if(ce===Z&&(0<Te&&(B=B.replace(f,"")),0<B.trim().length)){switch(M){case 32:case 9:case 59:case 13:case 10:break;default:B+=F.charAt(ce)}M=59}switch(M){case 123:for(B=B.trim(),O=B.charCodeAt(0),K=1,R=++ce;ce<Y;){switch(M=F.charCodeAt(ce)){case 123:K++;break;case 125:K--;break;case 47:switch(M=F.charCodeAt(ce+1)){case 42:case 47:e:{for(pe=ce+1;pe<Z;++pe)switch(F.charCodeAt(pe)){case 47:if(M===42&&F.charCodeAt(pe-1)===42&&ce+2!==pe){ce=pe+1;break e}break;case 10:if(M===47){ce=pe+1;break e}}ce=pe}}break;case 91:M++;case 40:M++;case 34:case 39:for(;ce++<Z&&F.charCodeAt(ce)!==M;);}if(K===0)break;ce++}switch(K=F.substring(R,ce),O===0&&(O=(B=B.replace(d,"").trim()).charCodeAt(0)),O){case 64:switch(0<Te&&(B=B.replace(f,"")),M=B.charCodeAt(1),M){case 100:case 109:case 115:case 45:Te=p;break;default:Te=wt}if(K=e(p,Te,K,M,k+1),R=K.length,0<V&&(Te=n(wt,B,Et),P=a(3,K,Te,p,ke,Ce,R,M,k,re),B=Te.join(""),P!==void 0&&(R=(K=P.trim()).length)===0&&(M=0,K="")),0<R)switch(M){case 115:B=B.replace(L,s);case 100:case 109:case 45:K=B+"{"+K+"}";break;case 107:B=B.replace(m,"$1 $2"),K=B+"{"+K+"}",K=He===1||He===2&&o("@"+K,3)?"@-webkit-"+K+"@"+K:"@"+K;break;default:K=B+K,re===112&&(K=(se+=K,""))}else K="";break;default:K=e(p,n(p,B,Et),K,re,k+1)}je+=K,K=Et=Te=pe=O=0,B="",M=F.charCodeAt(++ce);break;case 125:case 59:if(B=(0<Te?B.replace(f,""):B).trim(),1<(R=B.length))switch(pe===0&&(O=B.charCodeAt(0),O===45||96<O&&123>O)&&(R=(B=B.replace(" ",":")).length),0<V&&(P=a(1,B,p,z,ke,Ce,se.length,re,k,re))!==void 0&&(R=(B=P.trim()).length)===0&&(B="\0\0"),O=B.charCodeAt(0),M=B.charCodeAt(1),O){case 0:break;case 64:if(M===105||M===99){At+=B+F.charAt(ce);break}default:B.charCodeAt(R-1)!==58&&(se+=i(B,O,M,B.charCodeAt(2)))}Et=Te=pe=O=0,B="",M=F.charCodeAt(++ce)}}switch(M){case 13:case 10:C===47?C=0:1+O===0&&re!==107&&0<B.length&&(Te=1,B+="\0"),0<V*ee&&a(0,B,p,z,ke,Ce,se.length,re,k,re),Ce=1,ke++;break;case 59:case 125:if(C+T+x+w===0){Ce++;break}default:switch(Ce++,X=F.charAt(ce),M){case 9:case 32:if(T+w+C===0)switch(G){case 44:case 58:case 9:case 32:X="";break;default:M!==32&&(X=" ")}break;case 0:X="\\0";break;case 12:X="\\f";break;case 11:X="\\v";break;case 38:T+C+w===0&&(Te=Et=1,X="\f"+X);break;case 108:if(T+C+w+Le===0&&0<pe)switch(ce-pe){case 2:G===112&&F.charCodeAt(ce-3)===58&&(Le=G);case 8:I===111&&(Le=I)}break;case 58:T+C+w===0&&(pe=ce);break;case 44:C+x+T+w===0&&(Te=1,X+="\r");break;case 34:case 39:C===0&&(T=T===M?0:T===0?M:T);break;case 91:T+C+x===0&&w++;break;case 93:T+C+x===0&&w--;break;case 41:T+C+w===0&&x--;break;case 40:if(T+C+w===0){if(O===0)switch(2*G+3*I){case 533:break;default:O=1}x++}break;case 64:C+x+T+w+pe+K===0&&(K=1);break;case 42:case 47:if(!(0<T+w+x))switch(C){case 0:switch(2*M+3*F.charCodeAt(ce+1)){case 235:C=47;break;case 220:R=ce,C=42}break;case 42:M===47&&G===42&&R+2!==ce&&(F.charCodeAt(R+2)===33&&(se+=F.substring(R,ce+1)),X="",C=0)}}C===0&&(B+=X)}I=G,G=M,ce++}if(R=se.length,0<R){if(Te=p,0<V&&(P=a(2,se,Te,z,ke,Ce,R,re,k,re),P!==void 0&&(se=P).length===0))return At+se+je;if(se=Te.join(",")+"{"+se+"}",He*Le!==0){switch(He!==2||o(se,2)||(Le=0),Le){case 111:se=se.replace(E,":-moz-$1")+se;break;case 112:se=se.replace(_,"::-webkit-input-$1")+se.replace(_,"::-moz-$1")+se.replace(_,":-ms-input-$1")+se}Le=0}}return At+se+je}function n(z,p,F){var re=p.trim().split(S);p=re;var k=re.length,w=z.length;switch(w){case 0:case 1:var C=0;for(z=w===0?"":z[0]+" ";C<k;++C)p[C]=r(z,p[C],F).trim();break;default:var x=C=0;for(p=[];C<k;++C)for(var T=0;T<w;++T)p[x++]=r(z[T]+" ",re[C],F).trim()}return p}function r(z,p,F){var re=p.charCodeAt(0);switch(33>re&&(re=(p=p.trim()).charCodeAt(0)),re){case 38:return p.replace(g,"$1"+z.trim());case 58:return z.trim()+p.replace(g,"$1"+z.trim());default:if(0<1*F&&0<p.indexOf("\f"))return p.replace(g,(z.charCodeAt(0)===58?"":"$1")+z.trim())}return z+p}function i(z,p,F,re){var k=z+";",w=2*p+3*F+4*re;if(w===944){z=k.indexOf(":",9)+1;var C=k.substring(z,k.length-1).trim();return C=k.substring(0,z).trim()+C+";",He===1||He===2&&o(C,1)?"-webkit-"+C+C:C}if(He===0||He===2&&!o(k,1))return k;switch(w){case 1015:return k.charCodeAt(10)===97?"-webkit-"+k+k:k;case 951:return k.charCodeAt(3)===116?"-webkit-"+k+k:k;case 963:return k.charCodeAt(5)===110?"-webkit-"+k+k:k;case 1009:if(k.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+k+k;case 978:return"-webkit-"+k+"-moz-"+k+k;case 1019:case 983:return"-webkit-"+k+"-moz-"+k+"-ms-"+k+k;case 883:if(k.charCodeAt(8)===45)return"-webkit-"+k+k;if(0<k.indexOf("image-set(",11))return k.replace(he,"$1-webkit-$2")+k;break;case 932:if(k.charCodeAt(4)===45)switch(k.charCodeAt(5)){case 103:return"-webkit-box-"+k.replace("-grow","")+"-webkit-"+k+"-ms-"+k.replace("grow","positive")+k;case 115:return"-webkit-"+k+"-ms-"+k.replace("shrink","negative")+k;case 98:return"-webkit-"+k+"-ms-"+k.replace("basis","preferred-size")+k}return"-webkit-"+k+"-ms-"+k+k;case 964:return"-webkit-"+k+"-ms-flex-"+k+k;case 1023:if(k.charCodeAt(8)!==99)break;return C=k.substring(k.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+C+"-webkit-"+k+"-ms-flex-pack"+C+k;case 1005:return y.test(k)?k.replace(v,":-webkit-")+k.replace(v,":-moz-")+k:k;case 1e3:switch(C=k.substring(13).trim(),p=C.indexOf("-")+1,C.charCodeAt(0)+C.charCodeAt(p)){case 226:C=k.replace(b,"tb");break;case 232:C=k.replace(b,"tb-rl");break;case 220:C=k.replace(b,"lr");break;default:return k}return"-webkit-"+k+"-ms-"+C+k;case 1017:if(k.indexOf("sticky",9)===-1)break;case 975:switch(p=(k=z).length-10,C=(k.charCodeAt(p)===33?k.substring(0,p):k).substring(z.indexOf(":",7)+1).trim(),w=C.charCodeAt(0)+(C.charCodeAt(7)|0)){case 203:if(111>C.charCodeAt(8))break;case 115:k=k.replace(C,"-webkit-"+C)+";"+k;break;case 207:case 102:k=k.replace(C,"-webkit-"+(102<w?"inline-":"")+"box")+";"+k.replace(C,"-webkit-"+C)+";"+k.replace(C,"-ms-"+C+"box")+";"+k}return k+";";case 938:if(k.charCodeAt(5)===45)switch(k.charCodeAt(6)){case 105:return C=k.replace("-items",""),"-webkit-"+k+"-webkit-box-"+C+"-ms-flex-"+C+k;case 115:return"-webkit-"+k+"-ms-flex-item-"+k.replace(j,"")+k;default:return"-webkit-"+k+"-ms-flex-line-pack"+k.replace("align-content","").replace(j,"")+k}break;case 973:case 989:if(k.charCodeAt(3)!==45||k.charCodeAt(4)===122)break;case 931:case 953:if(Q.test(z)===!0)return(C=z.substring(z.indexOf(":")+1)).charCodeAt(0)===115?i(z.replace("stretch","fill-available"),p,F,re).replace(":fill-available",":stretch"):k.replace(C,"-webkit-"+C)+k.replace(C,"-moz-"+C.replace("fill-",""))+k;break;case 962:if(k="-webkit-"+k+(k.charCodeAt(5)===102?"-ms-"+k:"")+k,F+re===211&&k.charCodeAt(13)===105&&0<k.indexOf("transform",10))return k.substring(0,k.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+k}return k}function o(z,p){var F=z.indexOf(p===1?":":"{"),re=z.substring(0,p!==3?F:10);return F=z.substring(F+1,z.length-1),q(p!==2?re:re.replace(oe,"$1"),F,p)}function s(z,p){var F=i(p,p.charCodeAt(0),p.charCodeAt(1),p.charCodeAt(2));return F!==p+";"?F.replace(D," or ($1)").substring(4):"("+p+")"}function a(z,p,F,re,k,w,C,x,T,O){for(var M=0,G=p,I;M<V;++M)switch(I=Je[M].call(c,z,G,F,re,k,w,C,x,T,O)){case void 0:case!1:case!0:case null:break;default:G=I}if(G!==p)return G}function l(z){switch(z){case void 0:case null:V=Je.length=0;break;default:if(typeof z=="function")Je[V++]=z;else if(typeof z=="object")for(var p=0,F=z.length;p<F;++p)l(z[p]);else ee=!!z|0}return l}function u(z){return z=z.prefix,z!==void 0&&(q=null,z?typeof z!="function"?He=1:(He=2,q=z):He=0),u}function c(z,p){var F=z;if(33>F.charCodeAt(0)&&(F=F.trim()),Se=F,F=[Se],0<V){var re=a(-1,p,F,F,ke,Ce,0,0,0,0);re!==void 0&&typeof re=="string"&&(p=re)}var k=e(wt,F,p,0,0);return 0<V&&(re=a(-2,k,F,F,ke,Ce,k.length,0,0,0),re!==void 0&&(k=re)),Se="",Le=0,Ce=ke=1,k}var d=/^\0+/g,f=/[\0\r\f]/g,v=/: */g,y=/zoo|gra/,h=/([,: ])(transform)/g,S=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,_=/::(place)/g,E=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,L=/\(\s*(.*)\s*\)/g,D=/([\s\S]*?);/g,j=/-self|flex-/g,oe=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Q=/stretch|:\s*\w+\-(?:conte|avail)/,he=/([^-])(image-set\()/,Ce=1,ke=1,Le=0,He=1,wt=[],Je=[],V=0,q=null,ee=0,Se="";return c.use=l,c.set=u,t!==void 0&&u(t),c}var iF={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function oF(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var sF=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i0=oF(function(t){return sF.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function Ln(){return(Ln=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var o0=function(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n},mp=function(t){return t!==null&&typeof t=="object"&&(t.toString?t.toString():Object.prototype.toString.call(t))==="[object Object]"&&!Fu.typeOf(t)},hc=Object.freeze([]),Gr=Object.freeze({});function ja(t){return typeof t=="function"}function s0(t){return t.displayName||t.name||"Component"}function Ug(t){return t&&typeof t.styledComponentId=="string"}var Jo=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",jg=typeof window<"u"&&"HTMLElement"in window,aF=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""?{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY:!1)),lF={};function pl(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var uF=function(){function t(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var e=t.prototype;return e.indexOfGroup=function(n){for(var r=0,i=0;i<n;i++)r+=this.groupSizes[i];return r},e.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var i=this.groupSizes,o=i.length,s=o;n>=s;)(s<<=1)<0&&pl(16,""+n);this.groupSizes=new Uint32Array(s),this.groupSizes.set(i),this.length=s;for(var a=o;a<s;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(n+1),u=0,c=r.length;u<c;u++)this.tag.insertRule(l,r[u])&&(this.groupSizes[n]++,l++)},e.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],i=this.indexOfGroup(n),o=i+r;this.groupSizes[n]=0;for(var s=i;s<o;s++)this.tag.deleteRule(i)}},e.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var i=this.groupSizes[n],o=this.indexOfGroup(n),s=o+i,a=o;a<s;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},t}(),lu=new Map,pc=new Map,ra=1,zl=function(t){if(lu.has(t))return lu.get(t);for(;pc.has(ra);)ra++;var e=ra++;return lu.set(t,e),pc.set(e,t),e},cF=function(t){return pc.get(t)},dF=function(t,e){e>=ra&&(ra=e+1),lu.set(t,e),pc.set(e,t)},fF="style["+Jo+'][data-styled-version="5.3.8"]',hF=new RegExp("^"+Jo+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),pF=function(t,e,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&t.registerName(e,r)},mF=function(t,e){for(var n=(e.textContent||"").split(`/*!sc*/
`),r=[],i=0,o=n.length;i<o;i++){var s=n[i].trim();if(s){var a=s.match(hF);if(a){var l=0|parseInt(a[1],10),u=a[2];l!==0&&(dF(u,l),pF(t,u,a[3]),t.getTag().insertRules(l,r)),r.length=0}else r.push(s)}}},gF=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},KC=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){for(var l=a.childNodes,u=l.length;u>=0;u--){var c=l[u];if(c&&c.nodeType===1&&c.hasAttribute(Jo))return c}}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(Jo,"active"),r.setAttribute("data-styled-version","5.3.8");var s=gF();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},vF=function(){function t(n){var r=this.element=KC(n);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var o=document.styleSheets,s=0,a=o.length;s<a;s++){var l=o[s];if(l.ownerNode===i)return l}pl(17)}(r),this.length=0}var e=t.prototype;return e.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},e.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},e.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},t}(),yF=function(){function t(n){var r=this.element=KC(n);this.nodes=r.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(n,r){if(n<=this.length&&n>=0){var i=document.createTextNode(r),o=this.nodes[n];return this.element.insertBefore(i,o||null),this.length++,!0}return!1},e.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},e.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},t}(),_F=function(){function t(n){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},e.deleteRule=function(n){this.rules.splice(n,1),this.length--},e.getRule=function(n){return n<this.length?this.rules[n]:""},t}(),a0=jg,wF={isServer:!jg,useCSSOMInjection:!aF},mc=function(){function t(n,r,i){n===void 0&&(n=Gr),r===void 0&&(r={}),this.options=Ln({},wF,{},n),this.gs=r,this.names=new Map(i),this.server=!!n.isServer,!this.server&&jg&&a0&&(a0=!1,function(o){for(var s=document.querySelectorAll(fF),a=0,l=s.length;a<l;a++){var u=s[a];u&&u.getAttribute(Jo)!=="active"&&(mF(o,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}t.registerId=function(n){return zl(n)};var e=t.prototype;return e.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new t(Ln({},this.options,{},n),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,o=r.useCSSOMInjection,s=r.target,n=i?new _F(s):o?new vF(s):new yF(s),new uF(n)));var n,r,i,o,s},e.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},e.registerName=function(n,r){if(zl(n),this.names.has(n))this.names.get(n).add(r);else{var i=new Set;i.add(r),this.names.set(n,i)}},e.insertRules=function(n,r,i){this.registerName(n,r),this.getTag().insertRules(zl(n),i)},e.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},e.clearRules=function(n){this.getTag().clearGroup(zl(n)),this.clearNames(n)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(n){for(var r=n.getTag(),i=r.length,o="",s=0;s<i;s++){var a=cF(s);if(a!==void 0){var l=n.names.get(a),u=r.getGroup(s);if(l&&u&&l.size){var c=Jo+".g"+s+'[id="'+a+'"]',d="";l!==void 0&&l.forEach(function(f){f.length>0&&(d+=f+",")}),o+=""+u+c+'{content:"'+d+`"}/*!sc*/
`}}}return o}(this)},t}(),EF=/(a)(d)/gi,l0=function(t){return String.fromCharCode(t+(t>25?39:97))};function gp(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=l0(e%52)+n;return(l0(e%52)+n).replace(EF,"$1-$2")}var Eo=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},YC=function(t){return Eo(5381,t)};function qC(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(ja(n)&&!Ug(n))return!1}return!0}var SF=YC("5.3.8"),CF=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&qC(e),this.componentId=n,this.baseHash=Eo(SF,n),this.baseStyle=r,mc.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.componentId,o=[];if(this.baseStyle&&o.push(this.baseStyle.generateAndInjectStyles(e,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(i,this.staticRulesId))o.push(this.staticRulesId);else{var s=Bi(this.rules,e,n,r).join(""),a=gp(Eo(this.baseHash,s)>>>0);if(!n.hasNameForId(i,a)){var l=r(s,"."+a,void 0,i);n.insertRules(i,a,l)}o.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=Eo(this.baseHash,r.hash),d="",f=0;f<u;f++){var v=this.rules[f];if(typeof v=="string")d+=v;else if(v){var y=Bi(v,e,n,r),h=Array.isArray(y)?y.join(""):y;c=Eo(c,h+f),d+=h}}if(d){var S=gp(c>>>0);if(!n.hasNameForId(i,S)){var g=r(d,"."+S,void 0,i);n.insertRules(i,S,g)}o.push(S)}}return o.join(" ")},t}(),TF=/^\s*\/\/.*$/gm,xF=[":","[",".","#"];function IF(t){var e,n,r,i,o=t===void 0?Gr:t,s=o.options,a=s===void 0?Gr:s,l=o.plugins,u=l===void 0?hc:l,c=new rF(a),d=[],f=function(h){function S(g){if(g)try{h(g+"}")}catch{}}return function(g,m,_,E,b,L,D,j,oe,Q){switch(g){case 1:if(oe===0&&m.charCodeAt(0)===64)return h(m+";"),"";break;case 2:if(j===0)return m+"/*|*/";break;case 3:switch(j){case 102:case 112:return h(_[0]+m),"";default:return m+(Q===0?"/*|*/":"")}case-2:m.split("/*|*/}").forEach(S)}}}(function(h){d.push(h)}),v=function(h,S,g){return S===0&&xF.indexOf(g[n.length])!==-1||g.match(i)?h:"."+e};function y(h,S,g,m){m===void 0&&(m="&");var _=h.replace(TF,""),E=S&&g?g+" "+S+" { "+_+" }":_;return e=m,n=S,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),c(g||!S?"":S,E)}return c.use([].concat(u,[function(h,S,g){h===2&&g.length&&g[0].lastIndexOf(n)>0&&(g[0]=g[0].replace(r,v))},f,function(h){if(h===-2){var S=d;return d=[],S}}])),y.hash=u.length?u.reduce(function(h,S){return S.name||pl(15),Eo(h,S.name)},5381).toString():"",y}var QC=we.createContext();QC.Consumer;var XC=we.createContext(),bF=(XC.Consumer,new mc),vp=IF();function JC(){return A.useContext(QC)||bF}function ZC(){return A.useContext(XC)||vp}var RF=function(){function t(e,n){var r=this;this.inject=function(i,o){o===void 0&&(o=vp);var s=r.name+o.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,o(r.rules,s,"@keyframes"))},this.toString=function(){return pl(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=n}return t.prototype.getName=function(e){return e===void 0&&(e=vp),this.name+e.hash},t}(),kF=/([A-Z])/,PF=/([A-Z])/g,AF=/^ms-/,OF=function(t){return"-"+t.toLowerCase()};function u0(t){return kF.test(t)?t.replace(PF,OF).replace(AF,"-ms-"):t}var c0=function(t){return t==null||t===!1||t===""};function Bi(t,e,n,r){if(Array.isArray(t)){for(var i,o=[],s=0,a=t.length;s<a;s+=1)(i=Bi(t[s],e,n,r))!==""&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}if(c0(t))return"";if(Ug(t))return"."+t.styledComponentId;if(ja(t)){if(typeof(u=t)!="function"||u.prototype&&u.prototype.isReactComponent||!e)return t;var l=t(e);return Bi(l,e,n,r)}var u;return t instanceof RF?n?(t.inject(n,r),t.getName(r)):t:mp(t)?function c(d,f){var v,y,h=[];for(var S in d)d.hasOwnProperty(S)&&!c0(d[S])&&(Array.isArray(d[S])&&d[S].isCss||ja(d[S])?h.push(u0(S)+":",d[S],";"):mp(d[S])?h.push.apply(h,c(d[S],S)):h.push(u0(S)+": "+(v=S,(y=d[S])==null||typeof y=="boolean"||y===""?"":typeof y!="number"||y===0||v in iF?String(y).trim():y+"px")+";"));return f?[f+" {"].concat(h,["}"]):h}(t):t.toString()}var d0=function(t){return Array.isArray(t)&&(t.isCss=!0),t};function eT(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return ja(t)||mp(t)?d0(Bi(o0(hc,[t].concat(n)))):n.length===0&&t.length===1&&typeof t[0]=="string"?t:d0(Bi(o0(t,n)))}var tT=function(t,e,n){return n===void 0&&(n=Gr),t.theme!==n.theme&&t.theme||e||n.theme},NF=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,DF=/(^-|-$)/g;function Af(t){return t.replace(NF,"-").replace(DF,"")}var nT=function(t){return gp(YC(t)>>>0)};function Bl(t){return typeof t=="string"&&!0}var yp=function(t){return typeof t=="function"||typeof t=="object"&&t!==null&&!Array.isArray(t)},MF=function(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"};function LF(t,e,n){var r=t[n];yp(e)&&yp(r)?rT(r,e):t[n]=e}function rT(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i];if(yp(s))for(var a in s)MF(a)&&LF(t,s[a],a)}return t}var zg=we.createContext();zg.Consumer;var Of={};function iT(t,e,n){var r=Ug(t),i=!Bl(t),o=e.attrs,s=o===void 0?hc:o,a=e.componentId,l=a===void 0?function(m,_){var E=typeof m!="string"?"sc":Af(m);Of[E]=(Of[E]||0)+1;var b=E+"-"+nT("5.3.8"+E+Of[E]);return _?_+"-"+b:b}(e.displayName,e.parentComponentId):a,u=e.displayName,c=u===void 0?function(m){return Bl(m)?"styled."+m:"Styled("+s0(m)+")"}(t):u,d=e.displayName&&e.componentId?Af(e.displayName)+"-"+e.componentId:e.componentId||l,f=r&&t.attrs?Array.prototype.concat(t.attrs,s).filter(Boolean):s,v=e.shouldForwardProp;r&&t.shouldForwardProp&&(v=e.shouldForwardProp?function(m,_,E){return t.shouldForwardProp(m,_,E)&&e.shouldForwardProp(m,_,E)}:t.shouldForwardProp);var y,h=new CF(n,d,r?t.componentStyle:void 0),S=h.isStatic&&s.length===0,g=function(m,_){return function(E,b,L,D){var j=E.attrs,oe=E.componentStyle,Q=E.defaultProps,he=E.foldedComponentIds,Ce=E.shouldForwardProp,ke=E.styledComponentId,Le=E.target,He=function(re,k,w){re===void 0&&(re=Gr);var C=Ln({},k,{theme:re}),x={};return w.forEach(function(T){var O,M,G,I=T;for(O in ja(I)&&(I=I(C)),I)C[O]=x[O]=O==="className"?(M=x[O],G=I[O],M&&G?M+" "+G:M||G):I[O]}),[C,x]}(tT(b,A.useContext(zg),Q)||Gr,b,j),wt=He[0],Je=He[1],V=function(re,k,w,C){var x=JC(),T=ZC(),O=k?re.generateAndInjectStyles(Gr,x,T):re.generateAndInjectStyles(w,x,T);return O}(oe,D,wt),q=L,ee=Je.$as||b.$as||Je.as||b.as||Le,Se=Bl(ee),z=Je!==b?Ln({},b,{},Je):b,p={};for(var F in z)F[0]!=="$"&&F!=="as"&&(F==="forwardedAs"?p.as=z[F]:(Ce?Ce(F,i0,ee):!Se||i0(F))&&(p[F]=z[F]));return b.style&&Je.style!==b.style&&(p.style=Ln({},b.style,{},Je.style)),p.className=Array.prototype.concat(he,ke,V!==ke?V:null,b.className,Je.className).filter(Boolean).join(" "),p.ref=q,A.createElement(ee,p)}(y,m,_,S)};return g.displayName=c,(y=we.forwardRef(g)).attrs=f,y.componentStyle=h,y.displayName=c,y.shouldForwardProp=v,y.foldedComponentIds=r?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):hc,y.styledComponentId=d,y.target=r?t.target:t,y.withComponent=function(m){var _=e.componentId,E=function(L,D){if(L==null)return{};var j,oe,Q={},he=Object.keys(L);for(oe=0;oe<he.length;oe++)j=he[oe],D.indexOf(j)>=0||(Q[j]=L[j]);return Q}(e,["componentId"]),b=_&&_+"-"+(Bl(m)?m:Af(s0(m)));return iT(m,Ln({},E,{attrs:f,componentId:b}),n)},Object.defineProperty(y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(m){this._foldedDefaultProps=r?rT({},t.defaultProps,m):m}}),y.toString=function(){return"."+y.styledComponentId},i&&Fk(y,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),y}var _p=function(t){return function e(n,r,i){if(i===void 0&&(i=Gr),!Fu.isValidElementType(r))return pl(1,String(r));var o=function(){return n(r,i,eT.apply(void 0,arguments))};return o.withConfig=function(s){return e(n,r,Ln({},i,{},s))},o.attrs=function(s){return e(n,r,Ln({},i,{attrs:Array.prototype.concat(i.attrs,s).filter(Boolean)}))},o}(iT,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(t){_p[t]=_p(t)});var FF=function(){function t(n,r){this.rules=n,this.componentId=r,this.isStatic=qC(n),mc.registerId(this.componentId+1)}var e=t.prototype;return e.createStyles=function(n,r,i,o){var s=o(Bi(this.rules,r,i,o).join(""),""),a=this.componentId+n;i.insertRules(a,a,s)},e.removeStyles=function(n,r){r.clearRules(this.componentId+n)},e.renderStyles=function(n,r,i,o){n>2&&mc.registerId(this.componentId+n),this.removeStyles(n,i),this.createStyles(n,r,i,o)},t}();function $F(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=eT.apply(void 0,[t].concat(n)),o="sc-global-"+nT(JSON.stringify(i)),s=new FF(i,o);function a(u){var c=JC(),d=ZC(),f=A.useContext(zg),v=A.useRef(c.allocateGSInstance(o)).current;return c.server&&l(v,u,c,f,d),A.useLayoutEffect(function(){if(!c.server)return l(v,u,c,f,d),function(){return s.removeStyles(v,c)}},[v,u,c,f,d]),null}function l(u,c,d,f,v){if(s.isStatic)s.renderStyles(u,lF,d,v);else{var y=Ln({},c,{theme:tT(c,f,a.defaultProps)});s.renderStyles(u,y,d,v)}}return we.memo(a)}const fe=_p,UF=fe(Lu)`
  text-decoration: none;
  transition: background-color 0.2s;
  &:hover {
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 5px;
  }
`,jF=fe.img`
  max-width: 100%;
`,zF=fe.div`
  font-family: "Roboto";
  color: #222;
  font-size: 14px;
  display: grid;
  padding: 0 10px 10px 10px;
`,BF=fe.span`
  font-size: 24px;
  font-weight: bold;
`,WF=fe.span`
  font-size: 16px;
  font-weight: bold;
  text-transform: uppercase;
  color: #d9d9d9;
`,VF=fe.p`
  margin: 0;
`,HF=fe.span`
  margin-top: 10px;
`,Os=({id:t,product:e})=>Pe(UF,{to:`products/${t}`,children:[H(jF,{src:"/jewel-case-cd-black.png"}),Pe(zF,{children:[H(BF,{children:e.title}),H(WF,{children:e.subtitle}),Pe(HF,{children:[e.price,""]}),H(VF,{children:e.options})]})]}),GF=fe.main``,KF=fe.section`
  box-sizing: border-box;
  display: grid;
  align-content: start;
  grid-template-columns: repeat(5, 1fr);
  padding: 0 20px;
`,YF=()=>{const[t,e]=A.useState({});return A.useEffect(()=>{(async()=>{const r=await KL();e(r)})()},[]),H(GF,{children:Pe(KF,{children:[Object.entries(t).map(([n,r])=>H(Os,{id:n,product:r},n)),Object.entries(t).map(([n,r])=>H(Os,{id:n,product:r},n)),Object.entries(t).map(([n,r])=>H(Os,{id:n,product:r},n)),Object.entries(t).map(([n,r])=>H(Os,{id:n,product:r},n)),Object.entries(t).map(([n,r])=>H(Os,{id:n,product:r},n))]})})},qF=()=>H("div",{children:"Error"}),QF=function(){function t(w,C,x){return Math.max(w,Math.min(C,x))}function e(w){return{_:w,loadContentsOf:function(C){p=this._.gl,this._.loadContentsOf(C)},destroy:function(){p=this._.gl,this._.destroy()}}}function n(w){return e(re.fromElement(w))}function r(w,C){var x=p.UNSIGNED_BYTE;if(p.getExtension("OES_texture_float")&&p.getExtension("OES_texture_float_linear")){var T=new re(100,100,p.RGBA,p.FLOAT);try{T.drawTo(function(){x=p.FLOAT})}catch{}T.destroy()}this._.texture&&this._.texture.destroy(),this._.spareTexture&&this._.spareTexture.destroy(),this.width=w,this.height=C,this._.texture=new re(w,C,p.RGBA,x),this._.spareTexture=new re(w,C,p.RGBA,x),this._.extraTexture=this._.extraTexture||new re(0,0,p.RGBA,x),this._.flippedShader=this._.flippedShader||new F(null,"uniform sampler2D texture;varying vec2 texCoord;void main(){gl_FragColor=texture2D(texture,vec2(texCoord.x,1.0-texCoord.y));}"),this._.isInitialized=!0}function i(w,C,x){return this._.isInitialized&&w._.width==this.width&&w._.height==this.height||r.call(this,C||w._.width,x||w._.height),w._.use(),this._.texture.drawTo(function(){F.getDefaultShader().drawRect()}),this}function o(){return this._.texture.use(),this._.flippedShader.drawRect(),this}function s(w,C,x,T){(x||this._.texture).use(),this._.spareTexture.drawTo(function(){w.uniforms(C).drawRect()}),this._.spareTexture.swapWith(T||this._.texture)}function a(w){return w.parentNode.insertBefore(this,w),w.parentNode.removeChild(w),this}function l(){var w=new re(this._.texture.width,this._.texture.height,p.RGBA,p.UNSIGNED_BYTE);return this._.texture.use(),w.drawTo(function(){F.getDefaultShader().drawRect()}),e(w)}function u(){var w=this._.texture.width,C=this._.texture.height,x=new Uint8Array(4*w*C);return this._.texture.drawTo(function(){p.readPixels(0,0,w,C,p.RGBA,p.UNSIGNED_BYTE,x)}),x}function c(w){return function(){return p=this._.gl,w.apply(this,arguments)}}function d(w,C,x,T,O,M,G,I){var Et=x-O,K=T-M,Te=G-O,pe=I-M;O=w-x+O-G,M=C-T+M-I;var ce=Et*pe-Te*K,Te=(O*pe-Te*M)/ce,Et=(Et*M-O*K)/ce;return[x-w+Te*x,T-C+Te*T,Te,G-w+Et*G,I-C+Et*I,Et,w,C,1]}function f(w){var C=w[0],x=w[1],T=w[2],O=w[3],M=w[4],G=w[5],I=w[6],K=w[7];w=w[8];var pe=C*M*w-C*G*K-x*O*w+x*G*I+T*O*K-T*M*I;return[(M*w-G*K)/pe,(T*K-x*w)/pe,(x*G-T*M)/pe,(G*I-O*w)/pe,(C*w-T*I)/pe,(T*O-C*G)/pe,(O*K-M*I)/pe,(x*I-C*K)/pe,(C*M-x*O)/pe]}function v(w){var C=w.length;this.xa=[],this.ya=[],this.u=[],this.y2=[],w.sort(function(M,G){return M[0]-G[0]});for(var x=0;x<C;x++)this.xa.push(w[x][0]),this.ya.push(w[x][1]);for(this.u[0]=0,this.y2[0]=0,x=1;x<C-1;++x){w=this.xa[x+1]-this.xa[x-1];var T=(this.xa[x]-this.xa[x-1])/w,O=T*this.y2[x-1]+2;this.y2[x]=(T-1)/O,this.u[x]=(6*((this.ya[x+1]-this.ya[x])/(this.xa[x+1]-this.xa[x])-(this.ya[x]-this.ya[x-1])/(this.xa[x]-this.xa[x-1]))/w-T*this.u[x-1])/O}for(this.y2[C-1]=0,x=C-2;0<=x;--x)this.y2[x]=this.y2[x]*this.y2[x+1]+this.u[x]}function y(w,C){return new F(null,w+"uniform sampler2D texture;uniform vec2 texSize;varying vec2 texCoord;void main(){vec2 coord=texCoord*texSize;"+C+"gl_FragColor=texture2D(texture,coord/texSize);vec2 clampedCoord=clamp(coord,vec2(0.0),texSize);if(coord!=clampedCoord){gl_FragColor.a*=max(0.0,1.0-length(coord-clampedCoord));}}")}function h(w,C){return p.brightnessContrast=p.brightnessContrast||new F(null,"uniform sampler2D texture;uniform float brightness;uniform float contrast;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);color.rgb+=brightness;if(contrast>0.0){color.rgb=(color.rgb-0.5)/(1.0-contrast)+0.5;}else{color.rgb=(color.rgb-0.5)*(1.0+contrast)+0.5;}gl_FragColor=color;}"),s.call(this,p.brightnessContrast,{brightness:t(-1,w,1),contrast:t(-1,C,1)}),this}function S(w){w=new v(w);for(var C=[],x=0;256>x;x++)C.push(t(0,Math.floor(256*w.interpolate(x/255)),255));return C}function g(w,C,x){w=S(w),arguments.length==1?C=x=w:(C=S(C),x=S(x));for(var T=[],O=0;256>O;O++)T.splice(T.length,0,w[O],C[O],x[O],255);return this._.extraTexture.initFromBytes(256,1,T),this._.extraTexture.use(1),p.curves=p.curves||new F(null,"uniform sampler2D texture;uniform sampler2D map;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);color.r=texture2D(map,vec2(color.r)).r;color.g=texture2D(map,vec2(color.g)).g;color.b=texture2D(map,vec2(color.b)).b;gl_FragColor=color;}"),p.curves.textures({map:1}),s.call(this,p.curves,{}),this}function m(w){p.denoise=p.denoise||new F(null,"uniform sampler2D texture;uniform float exponent;uniform float strength;uniform vec2 texSize;varying vec2 texCoord;void main(){vec4 center=texture2D(texture,texCoord);vec4 color=vec4(0.0);float total=0.0;for(float x=-4.0;x<=4.0;x+=1.0){for(float y=-4.0;y<=4.0;y+=1.0){vec4 sample=texture2D(texture,texCoord+vec2(x,y)/texSize);float weight=1.0-abs(dot(sample.rgb-center.rgb,vec3(0.25)));weight=pow(weight,exponent);color+=sample*weight;total+=weight;}}gl_FragColor=color/total;}");for(var C=0;2>C;C++)s.call(this,p.denoise,{exponent:Math.max(0,w),texSize:[this.width,this.height]});return this}function _(w,C){return p.hueSaturation=p.hueSaturation||new F(null,"uniform sampler2D texture;uniform float hue;uniform float saturation;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);float angle=hue*3.14159265;float s=sin(angle),c=cos(angle);vec3 weights=(vec3(2.0*c,-sqrt(3.0)*s-c,sqrt(3.0)*s-c)+1.0)/3.0;float len=length(color.rgb);color.rgb=vec3(dot(color.rgb,weights.xyz),dot(color.rgb,weights.zxy),dot(color.rgb,weights.yzx));float average=(color.r+color.g+color.b)/3.0;if(saturation>0.0){color.rgb+=(average-color.rgb)*(1.0-1.0/(1.001-saturation));}else{color.rgb+=(average-color.rgb)*(-saturation);}gl_FragColor=color;}"),s.call(this,p.hueSaturation,{hue:t(-1,w,1),saturation:t(-1,C,1)}),this}function E(w){return p.noise=p.noise||new F(null,"uniform sampler2D texture;uniform float amount;varying vec2 texCoord;float rand(vec2 co){return fract(sin(dot(co.xy,vec2(12.9898,78.233)))*43758.5453);}void main(){vec4 color=texture2D(texture,texCoord);float diff=(rand(texCoord)-0.5)*amount;color.r+=diff;color.g+=diff;color.b+=diff;gl_FragColor=color;}"),s.call(this,p.noise,{amount:t(0,w,1)}),this}function b(w){return p.sepia=p.sepia||new F(null,"uniform sampler2D texture;uniform float amount;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);float r=color.r;float g=color.g;float b=color.b;color.r=min(1.0,(r*(1.0-(0.607*amount)))+(g*(0.769*amount))+(b*(0.189*amount)));color.g=min(1.0,(r*0.349*amount)+(g*(1.0-(0.314*amount)))+(b*0.168*amount));color.b=min(1.0,(r*0.272*amount)+(g*0.534*amount)+(b*(1.0-(0.869*amount))));gl_FragColor=color;}"),s.call(this,p.sepia,{amount:t(0,w,1)}),this}function L(w,C){return p.unsharpMask=p.unsharpMask||new F(null,"uniform sampler2D blurredTexture;uniform sampler2D originalTexture;uniform float strength;uniform float threshold;varying vec2 texCoord;void main(){vec4 blurred=texture2D(blurredTexture,texCoord);vec4 original=texture2D(originalTexture,texCoord);gl_FragColor=mix(blurred,original,1.0+strength);}"),this._.extraTexture.ensureFormat(this._.texture),this._.texture.use(),this._.extraTexture.drawTo(function(){F.getDefaultShader().drawRect()}),this._.extraTexture.use(1),this.triangleBlur(w),p.unsharpMask.textures({originalTexture:1}),s.call(this,p.unsharpMask,{strength:C}),this._.extraTexture.unuse(1),this}function D(w){return p.vibrance=p.vibrance||new F(null,"uniform sampler2D texture;uniform float amount;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);float average=(color.r+color.g+color.b)/3.0;float mx=max(color.r,max(color.g,color.b));float amt=(mx-average)*(-amount*3.0);color.rgb=mix(color.rgb,vec3(mx),amt);gl_FragColor=color;}"),s.call(this,p.vibrance,{amount:t(-1,w,1)}),this}function j(w,C){return p.vignette=p.vignette||new F(null,"uniform sampler2D texture;uniform float size;uniform float amount;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);float dist=distance(texCoord,vec2(0.5,0.5));color.rgb*=smoothstep(0.8,size*0.799,dist*(amount+size));gl_FragColor=color;}"),s.call(this,p.vignette,{size:t(0,w,1),amount:t(0,C,1)}),this}function oe(w,C,x){p.lensBlurPrePass=p.lensBlurPrePass||new F(null,"uniform sampler2D texture;uniform float power;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);color=pow(color,vec4(power));gl_FragColor=vec4(color);}");var T="uniform sampler2D texture0;uniform sampler2D texture1;uniform vec2 delta0;uniform vec2 delta1;uniform float power;varying vec2 texCoord;"+k+"vec4 sample(vec2 delta){float offset=random(vec3(delta,151.7182),0.0);vec4 color=vec4(0.0);float total=0.0;for(float t=0.0;t<=30.0;t++){float percent=(t+offset)/30.0;color+=texture2D(texture0,texCoord+delta*percent);total+=1.0;}return color/total;}";p.lensBlur0=p.lensBlur0||new F(null,T+"void main(){gl_FragColor=sample(delta0);}"),p.lensBlur1=p.lensBlur1||new F(null,T+"void main(){gl_FragColor=(sample(delta0)+sample(delta1))*0.5;}"),p.lensBlur2=p.lensBlur2||new F(null,T+"void main(){vec4 color=(sample(delta0)+2.0*texture2D(texture1,texCoord))/3.0;gl_FragColor=pow(color,vec4(power));}").textures({texture1:1});for(var T=[],O=0;3>O;O++){var M=x+2*O*Math.PI/3;T.push([w*Math.sin(M)/this.width,w*Math.cos(M)/this.height])}return w=Math.pow(10,t(-1,C,1)),s.call(this,p.lensBlurPrePass,{power:w}),this._.extraTexture.ensureFormat(this._.texture),s.call(this,p.lensBlur0,{delta0:T[0]},this._.texture,this._.extraTexture),s.call(this,p.lensBlur1,{delta0:T[1],delta1:T[2]},this._.extraTexture,this._.extraTexture),s.call(this,p.lensBlur0,{delta0:T[1]}),this._.extraTexture.use(1),s.call(this,p.lensBlur2,{power:1/w,delta0:T[2]}),this}function Q(w,C,x,T,O,M){p.tiltShift=p.tiltShift||new F(null,"uniform sampler2D texture;uniform float blurRadius;uniform float gradientRadius;uniform vec2 start;uniform vec2 end;uniform vec2 delta;uniform vec2 texSize;varying vec2 texCoord;"+k+"void main(){vec4 color=vec4(0.0);float total=0.0;float offset=random(vec3(12.9898,78.233,151.7182),0.0);vec2 normal=normalize(vec2(start.y-end.y,end.x-start.x));float radius=smoothstep(0.0,1.0,abs(dot(texCoord*texSize-start,normal))/gradientRadius)*blurRadius;for(float t=-30.0;t<=30.0;t++){float percent=(t+offset-0.5)/30.0;float weight=1.0-abs(percent);vec4 sample=texture2D(texture,texCoord+delta/texSize*percent*radius);sample.rgb*=sample.a;color+=sample*weight;total+=weight;}gl_FragColor=color/total;gl_FragColor.rgb/=gl_FragColor.a+0.00001;}");var G=x-w,I=T-C,K=Math.sqrt(G*G+I*I);return s.call(this,p.tiltShift,{blurRadius:O,gradientRadius:M,start:[w,C],end:[x,T],delta:[G/K,I/K],texSize:[this.width,this.height]}),s.call(this,p.tiltShift,{blurRadius:O,gradientRadius:M,start:[w,C],end:[x,T],delta:[-I/K,G/K],texSize:[this.width,this.height]}),this}function he(w){return p.triangleBlur=p.triangleBlur||new F(null,"uniform sampler2D texture;uniform vec2 delta;varying vec2 texCoord;"+k+"void main(){vec4 color=vec4(0.0);float total=0.0;float offset=random(vec3(12.9898,78.233,151.7182),0.0);for(float t=-30.0;t<=30.0;t++){float percent=(t+offset-0.5)/30.0;float weight=1.0-abs(percent);vec4 sample=texture2D(texture,texCoord+delta*percent);sample.rgb*=sample.a;color+=sample*weight;total+=weight;}gl_FragColor=color/total;gl_FragColor.rgb/=gl_FragColor.a+0.00001;}"),s.call(this,p.triangleBlur,{delta:[w/this.width,0]}),s.call(this,p.triangleBlur,{delta:[0,w/this.height]}),this}function Ce(w,C,x){return p.zoomBlur=p.zoomBlur||new F(null,"uniform sampler2D texture;uniform vec2 center;uniform float strength;uniform vec2 texSize;varying vec2 texCoord;"+k+"void main(){vec4 color=vec4(0.0);float total=0.0;vec2 toCenter=center-texCoord*texSize;float offset=random(vec3(12.9898,78.233,151.7182),0.0);for(float t=0.0;t<=40.0;t++){float percent=(t+offset)/40.0;float weight=4.0*(percent-percent*percent);vec4 sample=texture2D(texture,texCoord+toCenter*percent*strength/texSize);sample.rgb*=sample.a;color+=sample*weight;total+=weight;}gl_FragColor=color/total;gl_FragColor.rgb/=gl_FragColor.a+0.00001;}"),s.call(this,p.zoomBlur,{center:[w,C],strength:x,texSize:[this.width,this.height]}),this}function ke(w,C,x,T){return p.colorHalftone=p.colorHalftone||new F(null,"uniform sampler2D texture;uniform vec2 center;uniform float angle;uniform float scale;uniform vec2 texSize;varying vec2 texCoord;float pattern(float angle){float s=sin(angle),c=cos(angle);vec2 tex=texCoord*texSize-center;vec2 point=vec2(c*tex.x-s*tex.y,s*tex.x+c*tex.y)*scale;return(sin(point.x)*sin(point.y))*4.0;}void main(){vec4 color=texture2D(texture,texCoord);vec3 cmy=1.0-color.rgb;float k=min(cmy.x,min(cmy.y,cmy.z));cmy=(cmy-k)/(1.0-k);cmy=clamp(cmy*10.0-3.0+vec3(pattern(angle+0.26179),pattern(angle+1.30899),pattern(angle)),0.0,1.0);k=clamp(k*10.0-5.0+pattern(angle+0.78539),0.0,1.0);gl_FragColor=vec4(1.0-cmy-k,color.a);}"),s.call(this,p.colorHalftone,{center:[w,C],angle:x,scale:Math.PI/T,texSize:[this.width,this.height]}),this}function Le(w,C,x,T){return p.dotScreen=p.dotScreen||new F(null,"uniform sampler2D texture;uniform vec2 center;uniform float angle;uniform float scale;uniform vec2 texSize;varying vec2 texCoord;float pattern(){float s=sin(angle),c=cos(angle);vec2 tex=texCoord*texSize-center;vec2 point=vec2(c*tex.x-s*tex.y,s*tex.x+c*tex.y)*scale;return(sin(point.x)*sin(point.y))*4.0;}void main(){vec4 color=texture2D(texture,texCoord);float average=(color.r+color.g+color.b)/3.0;gl_FragColor=vec4(vec3(average*10.0-5.0+pattern()),color.a);}"),s.call(this,p.dotScreen,{center:[w,C],angle:x,scale:Math.PI/T,texSize:[this.width,this.height]}),this}function He(w){return p.edgeWork1=p.edgeWork1||new F(null,"uniform sampler2D texture;uniform vec2 delta;varying vec2 texCoord;"+k+"void main(){vec2 color=vec2(0.0);vec2 total=vec2(0.0);float offset=random(vec3(12.9898,78.233,151.7182),0.0);for(float t=-30.0;t<=30.0;t++){float percent=(t+offset-0.5)/30.0;float weight=1.0-abs(percent);vec3 sample=texture2D(texture,texCoord+delta*percent).rgb;float average=(sample.r+sample.g+sample.b)/3.0;color.x+=average*weight;total.x+=weight;if(abs(t)<15.0){weight=weight*2.0-1.0;color.y+=average*weight;total.y+=weight;}}gl_FragColor=vec4(color/total,0.0,1.0);}"),p.edgeWork2=p.edgeWork2||new F(null,"uniform sampler2D texture;uniform vec2 delta;varying vec2 texCoord;"+k+"void main(){vec2 color=vec2(0.0);vec2 total=vec2(0.0);float offset=random(vec3(12.9898,78.233,151.7182),0.0);for(float t=-30.0;t<=30.0;t++){float percent=(t+offset-0.5)/30.0;float weight=1.0-abs(percent);vec2 sample=texture2D(texture,texCoord+delta*percent).xy;color.x+=sample.x*weight;total.x+=weight;if(abs(t)<15.0){weight=weight*2.0-1.0;color.y+=sample.y*weight;total.y+=weight;}}float c=clamp(10000.0*(color.y/total.y-color.x/total.x)+0.5,0.0,1.0);gl_FragColor=vec4(c,c,c,1.0);}"),s.call(this,p.edgeWork1,{delta:[w/this.width,0]}),s.call(this,p.edgeWork2,{delta:[0,w/this.height]}),this}function wt(w,C,x){return p.hexagonalPixelate=p.hexagonalPixelate||new F(null,"uniform sampler2D texture;uniform vec2 center;uniform float scale;uniform vec2 texSize;varying vec2 texCoord;void main(){vec2 tex=(texCoord*texSize-center)/scale;tex.y/=0.866025404;tex.x-=tex.y*0.5;vec2 a;if(tex.x+tex.y-floor(tex.x)-floor(tex.y)<1.0)a=vec2(floor(tex.x),floor(tex.y));else a=vec2(ceil(tex.x),ceil(tex.y));vec2 b=vec2(ceil(tex.x),floor(tex.y));vec2 c=vec2(floor(tex.x),ceil(tex.y));vec3 TEX=vec3(tex.x,tex.y,1.0-tex.x-tex.y);vec3 A=vec3(a.x,a.y,1.0-a.x-a.y);vec3 B=vec3(b.x,b.y,1.0-b.x-b.y);vec3 C=vec3(c.x,c.y,1.0-c.x-c.y);float alen=length(TEX-A);float blen=length(TEX-B);float clen=length(TEX-C);vec2 choice;if(alen<blen){if(alen<clen)choice=a;else choice=c;}else{if(blen<clen)choice=b;else choice=c;}choice.x+=choice.y*0.5;choice.y*=0.866025404;choice*=scale/texSize;gl_FragColor=texture2D(texture,choice+center/texSize);}"),s.call(this,p.hexagonalPixelate,{center:[w,C],scale:x,texSize:[this.width,this.height]}),this}function Je(w){return p.ink=p.ink||new F(null,"uniform sampler2D texture;uniform float strength;uniform vec2 texSize;varying vec2 texCoord;void main(){vec2 dx=vec2(1.0/texSize.x,0.0);vec2 dy=vec2(0.0,1.0/texSize.y);vec4 color=texture2D(texture,texCoord);float bigTotal=0.0;float smallTotal=0.0;vec3 bigAverage=vec3(0.0);vec3 smallAverage=vec3(0.0);for(float x=-2.0;x<=2.0;x+=1.0){for(float y=-2.0;y<=2.0;y+=1.0){vec3 sample=texture2D(texture,texCoord+dx*x+dy*y).rgb;bigAverage+=sample;bigTotal+=1.0;if(abs(x)+abs(y)<2.0){smallAverage+=sample;smallTotal+=1.0;}}}vec3 edge=max(vec3(0.0),bigAverage/bigTotal-smallAverage/smallTotal);gl_FragColor=vec4(color.rgb-dot(edge,edge)*strength*100000.0,color.a);}"),s.call(this,p.ink,{strength:w*w*w*w*w,texSize:[this.width,this.height]}),this}function V(w,C,x,T){return p.bulgePinch=p.bulgePinch||y("uniform float radius;uniform float strength;uniform vec2 center;","coord-=center;float distance=length(coord);if(distance<radius){float percent=distance/radius;if(strength>0.0){coord*=mix(1.0,smoothstep(0.0,radius/distance,percent),strength*0.75);}else{coord*=mix(1.0,pow(percent,1.0+strength*0.75)*radius/distance,1.0-percent);}}coord+=center;"),s.call(this,p.bulgePinch,{radius:x,strength:t(-1,T,1),center:[w,C],texSize:[this.width,this.height]}),this}function q(w,C,x){if(p.matrixWarp=p.matrixWarp||y("uniform mat3 matrix;uniform bool useTextureSpace;","if(useTextureSpace)coord=coord/texSize*2.0-1.0;vec3 warp=matrix*vec3(coord,1.0);coord=warp.xy/warp.z;if(useTextureSpace)coord=(coord*0.5+0.5)*texSize;"),w=Array.prototype.concat.apply([],w),w.length==4)w=[w[0],w[1],0,w[2],w[3],0,0,0,1];else if(w.length!=9)throw"can only warp with 2x2 or 3x3 matrix";return s.call(this,p.matrixWarp,{matrix:C?f(w):w,texSize:[this.width,this.height],useTextureSpace:x|0}),this}function ee(w,C){var T=d.apply(null,C),x=d.apply(null,w),T=f(T);return this.matrixWarp([T[0]*x[0]+T[1]*x[3]+T[2]*x[6],T[0]*x[1]+T[1]*x[4]+T[2]*x[7],T[0]*x[2]+T[1]*x[5]+T[2]*x[8],T[3]*x[0]+T[4]*x[3]+T[5]*x[6],T[3]*x[1]+T[4]*x[4]+T[5]*x[7],T[3]*x[2]+T[4]*x[5]+T[5]*x[8],T[6]*x[0]+T[7]*x[3]+T[8]*x[6],T[6]*x[1]+T[7]*x[4]+T[8]*x[7],T[6]*x[2]+T[7]*x[5]+T[8]*x[8]])}function Se(w,C,x,T){return p.swirl=p.swirl||y("uniform float radius;uniform float angle;uniform vec2 center;","coord-=center;float distance=length(coord);if(distance<radius){float percent=(radius-distance)/radius;float theta=percent*percent*angle;float s=sin(theta);float c=cos(theta);coord=vec2(coord.x*c-coord.y*s,coord.x*s+coord.y*c);}coord+=center;"),s.call(this,p.swirl,{radius:x,center:[w,C],angle:T,texSize:[this.width,this.height]}),this}var z={};(function(){function w(I){if(!I.getExtension("OES_texture_float"))return!1;var K=I.createFramebuffer(),pe=I.createTexture();I.bindTexture(I.TEXTURE_2D,pe),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MAG_FILTER,I.NEAREST),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MIN_FILTER,I.NEAREST),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_S,I.CLAMP_TO_EDGE),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_T,I.CLAMP_TO_EDGE),I.texImage2D(I.TEXTURE_2D,0,I.RGBA,1,1,0,I.RGBA,I.UNSIGNED_BYTE,null),I.bindFramebuffer(I.FRAMEBUFFER,K),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,pe,0),K=I.createTexture(),I.bindTexture(I.TEXTURE_2D,K),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MAG_FILTER,I.LINEAR),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MIN_FILTER,I.LINEAR),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_S,I.CLAMP_TO_EDGE),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_T,I.CLAMP_TO_EDGE),I.texImage2D(I.TEXTURE_2D,0,I.RGBA,2,2,0,I.RGBA,I.FLOAT,new Float32Array([2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]));var pe=I.createProgram(),ce=I.createShader(I.VERTEX_SHADER),Te=I.createShader(I.FRAGMENT_SHADER);return I.shaderSource(ce,"attribute vec2 vertex;void main(){gl_Position=vec4(vertex,0.0,1.0);}"),I.shaderSource(Te,"uniform sampler2D texture;void main(){gl_FragColor=texture2D(texture,vec2(0.5));}"),I.compileShader(ce),I.compileShader(Te),I.attachShader(pe,ce),I.attachShader(pe,Te),I.linkProgram(pe),ce=I.createBuffer(),I.bindBuffer(I.ARRAY_BUFFER,ce),I.bufferData(I.ARRAY_BUFFER,new Float32Array([0,0]),I.STREAM_DRAW),I.enableVertexAttribArray(0),I.vertexAttribPointer(0,2,I.FLOAT,!1,0,0),ce=new Uint8Array(4),I.useProgram(pe),I.viewport(0,0,1,1),I.bindTexture(I.TEXTURE_2D,K),I.drawArrays(I.POINTS,0,1),I.readPixels(0,0,1,1,I.RGBA,I.UNSIGNED_BYTE,ce),ce[0]===127||ce[0]===128}function C(){}function x(I){return I==="OES_texture_float_linear"?(this.$OES_texture_float_linear$===void 0&&Object.defineProperty(this,"$OES_texture_float_linear$",{enumerable:!1,configurable:!1,writable:!1,value:new C}),I=this.$OES_texture_float_linear$):I=M.call(this,I),I}function T(){var I=G.call(this);return I.indexOf("OES_texture_float_linear")===-1&&I.push("OES_texture_float_linear"),I}try{var O=document.createElement("canvas").getContext("experimental-webgl")}catch{}if(O&&O.getSupportedExtensions().indexOf("OES_texture_float_linear")===-1&&w(O)){var M=WebGLRenderingContext.prototype.getExtension,G=WebGLRenderingContext.prototype.getSupportedExtensions;WebGLRenderingContext.prototype.getExtension=x,WebGLRenderingContext.prototype.getSupportedExtensions=T}})();var p;z.canvas=function(){var w=document.createElement("canvas");try{p=w.getContext("experimental-webgl",{premultipliedAlpha:!1})}catch{p=null}if(!p)throw"This browser does not support WebGL";return w._={gl:p,isInitialized:!1,texture:null,spareTexture:null,flippedShader:null},w.texture=c(n),w.draw=c(i),w.update=c(o),w.replace=c(a),w.contents=c(l),w.getPixelArray=c(u),w.brightnessContrast=c(h),w.hexagonalPixelate=c(wt),w.hueSaturation=c(_),w.colorHalftone=c(ke),w.triangleBlur=c(he),w.unsharpMask=c(L),w.perspective=c(ee),w.matrixWarp=c(q),w.bulgePinch=c(V),w.tiltShift=c(Q),w.dotScreen=c(Le),w.edgeWork=c(He),w.lensBlur=c(oe),w.zoomBlur=c(Ce),w.noise=c(E),w.denoise=c(m),w.curves=c(g),w.swirl=c(Se),w.ink=c(Je),w.vignette=c(j),w.vibrance=c(D),w.sepia=c(b),w},z.splineInterpolate=S;var F=function(){function w(O,M){var G=p.createShader(O);if(p.shaderSource(G,M),p.compileShader(G),!p.getShaderParameter(G,p.COMPILE_STATUS))throw"compile error: "+p.getShaderInfoLog(G);return G}function C(O,M){if(this.texCoordAttribute=this.vertexAttribute=null,this.program=p.createProgram(),O=O||x,M=M||T,M="precision highp float;"+M,p.attachShader(this.program,w(p.VERTEX_SHADER,O)),p.attachShader(this.program,w(p.FRAGMENT_SHADER,M)),p.linkProgram(this.program),!p.getProgramParameter(this.program,p.LINK_STATUS))throw"link error: "+p.getProgramInfoLog(this.program)}var x="attribute vec2 vertex;attribute vec2 _texCoord;varying vec2 texCoord;void main(){texCoord=_texCoord;gl_Position=vec4(vertex*2.0-1.0,0.0,1.0);}",T="uniform sampler2D texture;varying vec2 texCoord;void main(){gl_FragColor=texture2D(texture,texCoord);}";return C.prototype.destroy=function(){p.deleteProgram(this.program),this.program=null},C.prototype.uniforms=function(O){p.useProgram(this.program);for(var M in O)if(O.hasOwnProperty(M)){var G=p.getUniformLocation(this.program,M);if(G!==null){var I=O[M];if(Object.prototype.toString.call(I)=="[object Array]")switch(I.length){case 1:p.uniform1fv(G,new Float32Array(I));break;case 2:p.uniform2fv(G,new Float32Array(I));break;case 3:p.uniform3fv(G,new Float32Array(I));break;case 4:p.uniform4fv(G,new Float32Array(I));break;case 9:p.uniformMatrix3fv(G,!1,new Float32Array(I));break;case 16:p.uniformMatrix4fv(G,!1,new Float32Array(I));break;default:throw`dont't know how to load uniform "`+M+'" of length '+I.length}else if(Object.prototype.toString.call(I)=="[object Number]")p.uniform1f(G,I);else throw'attempted to set uniform "'+M+'" to invalid value '+(I||"undefined").toString()}}return this},C.prototype.textures=function(O){p.useProgram(this.program);for(var M in O)O.hasOwnProperty(M)&&p.uniform1i(p.getUniformLocation(this.program,M),O[M]);return this},C.prototype.drawRect=function(O,M,G,I){var K=p.getParameter(p.VIEWPORT);M=M!==void 0?(M-K[1])/K[3]:0,O=O!==void 0?(O-K[0])/K[2]:0,G=G!==void 0?(G-K[0])/K[2]:1,I=I!==void 0?(I-K[1])/K[3]:1,p.vertexBuffer==null&&(p.vertexBuffer=p.createBuffer()),p.bindBuffer(p.ARRAY_BUFFER,p.vertexBuffer),p.bufferData(p.ARRAY_BUFFER,new Float32Array([O,M,O,I,G,M,G,I]),p.STATIC_DRAW),p.texCoordBuffer==null&&(p.texCoordBuffer=p.createBuffer(),p.bindBuffer(p.ARRAY_BUFFER,p.texCoordBuffer),p.bufferData(p.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),p.STATIC_DRAW)),this.vertexAttribute==null&&(this.vertexAttribute=p.getAttribLocation(this.program,"vertex"),p.enableVertexAttribArray(this.vertexAttribute)),this.texCoordAttribute==null&&(this.texCoordAttribute=p.getAttribLocation(this.program,"_texCoord"),p.enableVertexAttribArray(this.texCoordAttribute)),p.useProgram(this.program),p.bindBuffer(p.ARRAY_BUFFER,p.vertexBuffer),p.vertexAttribPointer(this.vertexAttribute,2,p.FLOAT,!1,0,0),p.bindBuffer(p.ARRAY_BUFFER,p.texCoordBuffer),p.vertexAttribPointer(this.texCoordAttribute,2,p.FLOAT,!1,0,0),p.drawArrays(p.TRIANGLE_STRIP,0,4)},C.getDefaultShader=function(){return p.defaultShader=p.defaultShader||new C,p.defaultShader},C}();v.prototype.interpolate=function(w){for(var C=0,x=this.ya.length-1;1<x-C;){var T=x+C>>1;this.xa[T]>w?x=T:C=T}var T=this.xa[x]-this.xa[C],O=(this.xa[x]-w)/T;return w=(w-this.xa[C])/T,O*this.ya[C]+w*this.ya[x]+((O*O*O-O)*this.y2[C]+(w*w*w-w)*this.y2[x])*T*T/6};var re=function(){function w(T,O,M,G){this.gl=p,this.id=p.createTexture(),this.width=T,this.height=O,this.format=M,this.type=G,p.bindTexture(p.TEXTURE_2D,this.id),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE),T&&O&&p.texImage2D(p.TEXTURE_2D,0,this.format,T,O,0,this.format,this.type,null)}function C(T){return x==null&&(x=document.createElement("canvas")),x.width=T.width,x.height=T.height,T=x.getContext("2d"),T.clearRect(0,0,x.width,x.height),T}w.fromElement=function(T){var O=new w(0,0,p.RGBA,p.UNSIGNED_BYTE);return O.loadContentsOf(T),O},w.prototype.loadContentsOf=function(T){this.width=T.width||T.videoWidth,this.height=T.height||T.videoHeight,p.bindTexture(p.TEXTURE_2D,this.id),p.texImage2D(p.TEXTURE_2D,0,this.format,this.format,this.type,T)},w.prototype.initFromBytes=function(T,O,M){this.width=T,this.height=O,this.format=p.RGBA,this.type=p.UNSIGNED_BYTE,p.bindTexture(p.TEXTURE_2D,this.id),p.texImage2D(p.TEXTURE_2D,0,p.RGBA,T,O,0,p.RGBA,this.type,new Uint8Array(M))},w.prototype.destroy=function(){p.deleteTexture(this.id),this.id=null},w.prototype.use=function(T){p.activeTexture(p.TEXTURE0+(T||0)),p.bindTexture(p.TEXTURE_2D,this.id)},w.prototype.unuse=function(T){p.activeTexture(p.TEXTURE0+(T||0)),p.bindTexture(p.TEXTURE_2D,null)},w.prototype.ensureFormat=function(T,O,M,G){if(arguments.length==1){var I=arguments[0];T=I.width,O=I.height,M=I.format,G=I.type}(T!=this.width||O!=this.height||M!=this.format||G!=this.type)&&(this.width=T,this.height=O,this.format=M,this.type=G,p.bindTexture(p.TEXTURE_2D,this.id),p.texImage2D(p.TEXTURE_2D,0,this.format,T,O,0,this.format,this.type,null))},w.prototype.drawTo=function(T){if(p.framebuffer=p.framebuffer||p.createFramebuffer(),p.bindFramebuffer(p.FRAMEBUFFER,p.framebuffer),p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,this.id,0),p.checkFramebufferStatus(p.FRAMEBUFFER)!==p.FRAMEBUFFER_COMPLETE)throw Error("incomplete framebuffer");p.viewport(0,0,this.width,this.height),T(),p.bindFramebuffer(p.FRAMEBUFFER,null)};var x=null;return w.prototype.fillUsingCanvas=function(T){return T(C(this)),this.format=p.RGBA,this.type=p.UNSIGNED_BYTE,p.bindTexture(p.TEXTURE_2D,this.id),p.texImage2D(p.TEXTURE_2D,0,p.RGBA,p.RGBA,p.UNSIGNED_BYTE,x),this},w.prototype.toImage=function(T){this.use(),F.getDefaultShader().drawRect();var O=4*this.width*this.height,M=new Uint8Array(O),G=C(this),I=G.createImageData(this.width,this.height);p.readPixels(0,0,this.width,this.height,p.RGBA,p.UNSIGNED_BYTE,M);for(var K=0;K<O;K++)I.data[K]=M[K];G.putImageData(I,0,0),T.src=x.toDataURL()},w.prototype.swapWith=function(T){var O;O=T.id,T.id=this.id,this.id=O,O=T.width,T.width=this.width,this.width=O,O=T.height,T.height=this.height,this.height=O,O=T.format,T.format=this.format,this.format=O},w}(),k="float random(vec3 scale,float seed){return fract(sin(dot(gl_FragCoord.xyz+seed,scale))*43758.5453+seed);}";return z}(),XF=fe.main`
  width: 100%;
  max-width: 1560px;
  margin: 0 auto;
`,JF=fe.canvas`
  background: white;
`,ZF=()=>{const[t,e]=A.useState("");return Pe(XF,{children:[H(JF,{width:"612",height:"612"}),H("input",{type:"file",onChange:r=>{const i=r.target.files[0],o=new FileReader;o.addEventListener("load",s=>{var u;if(!((u=s.target)!=null&&u.result)||typeof s.target.result!="string")return console.log("error");const a=QF.canvas(),l=document.createElement("img");l.src=s.target.result,l.onload=()=>{const c=a.texture(l);a.draw(c).perspective([0,0,1200,0,1200,1200,0,1200],[118,491,699,247,1110,598,487,916]).update(),document.body.append(a)}}),o.readAsDataURL(i)}}),H("img",{src:t,id:"image"})]})};function wp(t,e){return wp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wp(t,e)}function Bg(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,wp(t,e)}function e3(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function t3(t,e){t.classList?t.classList.add(e):e3(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function f0(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function n3(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=f0(t.className,e):t.setAttribute("class",f0(t.className&&t.className.baseVal||"",e))}const h0={disabled:!1},Wg=we.createContext(null);var oT=function(e){return e.scrollTop},zs="unmounted",pi="exited",an="entering",Mn="entered",za="exiting",gr=function(t){Bg(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=pi,o.appearStatus=an):l=Mn:r.unmountOnExit||r.mountOnEnter?l=zs:l=pi,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===zs?{status:pi}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==an&&s!==Mn&&(o=an):(s===an||s===Mn)&&(o=za)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===an){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Fl.findDOMNode(this);s&&oT(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===pi&&this.setState({status:zs})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Fl.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!s||h0.disabled){this.safeSetState({status:Mn},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:an},function(){o.props.onEntering(u,c),o.onTransitionEnd(f,function(){o.safeSetState({status:Mn},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Fl.findDOMNode(this);if(!o||h0.disabled){this.safeSetState({status:pi},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:za},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:pi},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Fl.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===zs)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=E1(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return we.createElement(Wg.Provider,{value:null},typeof s=="function"?s(i,a):we.cloneElement(we.Children.only(s),a))},e}(we.Component);gr.contextType=Wg;gr.propTypes={};function ro(){}gr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ro,onEntering:ro,onEntered:ro,onExit:ro,onExiting:ro,onExited:ro};gr.UNMOUNTED=zs;gr.EXITED=pi;gr.ENTERING=an;gr.ENTERED=Mn;gr.EXITING=za;const r3=gr;var i3=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return t3(e,r)})},Nf=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return n3(e,r)})},Vg=function(t){Bg(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var u=r.resolveArguments(a,l),c=u[0],d=u[1];r.removeClasses(c,"exit"),r.addClass(c,d?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var u=r.resolveArguments(a,l),c=u[0],d=u[1],f=d?"appear":"enter";r.addClass(c,f,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var u=r.resolveArguments(a,l),c=u[0],d=u[1],f=d?"appear":"enter";r.removeClasses(c,f),r.addClass(c,f,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),u=l[0];r.removeClasses(u,"appear"),r.removeClasses(u,"enter"),r.addClass(u,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),u=l[0];r.addClass(u,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),u=l[0];r.removeClasses(u,"exit"),r.addClass(u,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,u=typeof l=="string",c=u&&l?l+"-":"",d=u?""+c+a:l[a],f=u?d+"-active":l[a+"Active"],v=u?d+"-done":l[a+"Done"];return{baseClassName:d,activeClassName:f,doneClassName:v}},r}var n=e.prototype;return n.addClass=function(i,o,s){var a=this.getClassNames(o)[s+"ClassName"],l=this.getClassNames("enter"),u=l.doneClassName;o==="appear"&&s==="done"&&u&&(a+=" "+u),s==="active"&&i&&oT(i),a&&(this.appliedClasses[o][s]=a,i3(i,a))},n.removeClasses=function(i,o){var s=this.appliedClasses[o],a=s.base,l=s.active,u=s.done;this.appliedClasses[o]={},a&&Nf(i,a),l&&Nf(i,l),u&&Nf(i,u)},n.render=function(){var i=this.props;i.classNames;var o=E1(i,["classNames"]);return we.createElement(r3,zh({},o,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(we.Component);Vg.defaultProps={classNames:""};Vg.propTypes={};const p0=Vg;var Wl,Vl;function o3(t,e){return!(t===e||we.isValidElement(t)&&we.isValidElement(e)&&t.key!=null&&t.key===e.key)}var Zo={out:"out-in",in:"in-out"},gc=function(e,n,r){return function(){var i;e.props[n]&&(i=e.props)[n].apply(i,arguments),r()}},s3=(Wl={},Wl[Zo.out]=function(t){var e=t.current,n=t.changeState;return we.cloneElement(e,{in:!1,onExited:gc(e,"onExited",function(){n(an,null)})})},Wl[Zo.in]=function(t){var e=t.current,n=t.changeState,r=t.children;return[e,we.cloneElement(r,{in:!0,onEntered:gc(r,"onEntered",function(){n(an)})})]},Wl),a3=(Vl={},Vl[Zo.out]=function(t){var e=t.children,n=t.changeState;return we.cloneElement(e,{in:!0,onEntered:gc(e,"onEntered",function(){n(Mn,we.cloneElement(e,{in:!0}))})})},Vl[Zo.in]=function(t){var e=t.current,n=t.children,r=t.changeState;return[we.cloneElement(e,{in:!1,onExited:gc(e,"onExited",function(){r(Mn,we.cloneElement(n,{in:!0}))})}),we.cloneElement(n,{in:!0})]},Vl),Hg=function(t){Bg(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.state={status:Mn,current:null},r.appeared=!1,r.changeState=function(a,l){l===void 0&&(l=r.state.current),r.setState({status:a,current:l})},r}var n=e.prototype;return n.componentDidMount=function(){this.appeared=!0},e.getDerivedStateFromProps=function(i,o){return i.children==null?{current:null}:o.status===an&&i.mode===Zo.in?{status:an}:o.current&&o3(o.current,i.children)?{status:za}:{current:we.cloneElement(i.children,{in:!0})}},n.render=function(){var i=this.props,o=i.children,s=i.mode,a=this.state,l=a.status,u=a.current,c={children:o,current:u,changeState:this.changeState,status:l},d;switch(l){case an:d=a3[s](c);break;case za:d=s3[s](c);break;case Mn:d=u}return we.createElement(Wg.Provider,{value:{isMounting:!this.appeared}},d)},e}(we.Component);Hg.propTypes={};Hg.defaultProps={mode:Zo.out};const l3=Hg,u3=()=>H("span",{style:{color:"white",fontSize:"20px"},children:"Loading..."}),Sd=fe.input`
  padding: 8px 16px;
  border: 1px solid gray;
  background: white;
  z-index: 10;
  width: 100%;
  box-sizing: border-box;
  &.error {
    border: 1px solid red;
  }
  &[type="submit"] {
    background: transparent;
    cursor: pointer;
  }
`,vc=fe.button`
  padding: 8px 16px;
  border: 1px solid gray;
  background: white;
  cursor: pointer;
`,sT=fe.div`
  display: grid;
  background: white;
  padding: 20px 20px;
  width: 500px;
`,aT=fe.span`
  font-size: 24px;
`,uu=fe.span`
  margin-top: 20px;
  & ~ & {
    margin-top: 10px;
  }
`,lT=fe(vc)`
  justify-self: center;
  min-width: 100px;
  margin-top: 20px;
`,c3=()=>{const t=os(),e=is(n=>n.user);return Pe(sT,{children:[H(aT,{children:" !"}),Pe(uu,{children:["   ",e.email,"     ."]}),H(uu,{children:",       .       ."}),H(uu,{children:"   !"}),H(lT,{onClick:()=>t(rr(null)),children:"OK"})]})},d3=()=>{const t=os(),e=is(n=>n.user);return Pe(sT,{children:[H(aT,{children:" !"}),Pe(uu,{children:["   ",e.email,"    , ,       "]}),H(lT,{onClick:()=>t(rr("FormAuth")),children:"OK"})]})};var m0=Array.isArray,g0=Object.keys,f3=Object.prototype.hasOwnProperty,h3=typeof Element<"u";function Ep(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=m0(t),r=m0(e),i,o,s;if(n&&r){if(o=t.length,o!=e.length)return!1;for(i=o;i--!==0;)if(!Ep(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var u=t instanceof RegExp,c=e instanceof RegExp;if(u!=c)return!1;if(u&&c)return t.toString()==e.toString();var d=g0(t);if(o=d.length,o!==g0(e).length)return!1;for(i=o;i--!==0;)if(!f3.call(e,d[i]))return!1;if(h3&&t instanceof Element&&e instanceof Element)return t===e;for(i=o;i--!==0;)if(s=d[i],!(s==="_owner"&&t.$$typeof)&&!Ep(t[s],e[s]))return!1;return!0}return t!==t&&e!==e}var mi=function(e,n){try{return Ep(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}},p3=function(e){return m3(e)&&!g3(e)};function m3(t){return!!t&&typeof t=="object"}function g3(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||_3(t)}var v3=typeof Symbol=="function"&&Symbol.for,y3=v3?Symbol.for("react.element"):60103;function _3(t){return t.$$typeof===y3}function w3(t){return Array.isArray(t)?[]:{}}function yc(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Ba(w3(t),t,e):t}function E3(t,e,n){return t.concat(e).map(function(r){return yc(r,n)})}function S3(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=yc(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=yc(e[i],n):r[i]=Ba(t[i],e[i],n)}),r}function Ba(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||E3,n.isMergeableObject=n.isMergeableObject||p3;var r=Array.isArray(e),i=Array.isArray(t),o=r===i;return o?r?n.arrayMerge(t,e,n):S3(t,e,n):yc(e,n)}Ba.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return Ba(r,i,n)},{})};var Sp=Ba,C3=typeof global=="object"&&global&&global.Object===Object&&global;const uT=C3;var T3=typeof self=="object"&&self&&self.Object===Object&&self,x3=uT||T3||Function("return this")();const Hn=x3;var I3=Hn.Symbol;const ni=I3;var cT=Object.prototype,b3=cT.hasOwnProperty,R3=cT.toString,Ns=ni?ni.toStringTag:void 0;function k3(t){var e=b3.call(t,Ns),n=t[Ns];try{t[Ns]=void 0;var r=!0}catch{}var i=R3.call(t);return r&&(e?t[Ns]=n:delete t[Ns]),i}var P3=Object.prototype,A3=P3.toString;function O3(t){return A3.call(t)}var N3="[object Null]",D3="[object Undefined]",v0=ni?ni.toStringTag:void 0;function Qi(t){return t==null?t===void 0?D3:N3:v0&&v0 in Object(t)?k3(t):O3(t)}function dT(t,e){return function(n){return t(e(n))}}var M3=dT(Object.getPrototypeOf,Object);const Gg=M3;function Xi(t){return t!=null&&typeof t=="object"}var L3="[object Object]",F3=Function.prototype,$3=Object.prototype,fT=F3.toString,U3=$3.hasOwnProperty,j3=fT.call(Object);function y0(t){if(!Xi(t)||Qi(t)!=L3)return!1;var e=Gg(t);if(e===null)return!0;var n=U3.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&fT.call(n)==j3}function z3(){this.__data__=[],this.size=0}function hT(t,e){return t===e||t!==t&&e!==e}function Cd(t,e){for(var n=t.length;n--;)if(hT(t[n][0],e))return n;return-1}var B3=Array.prototype,W3=B3.splice;function V3(t){var e=this.__data__,n=Cd(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():W3.call(e,n,1),--this.size,!0}function H3(t){var e=this.__data__,n=Cd(e,t);return n<0?void 0:e[n][1]}function G3(t){return Cd(this.__data__,t)>-1}function K3(t,e){var n=this.__data__,r=Cd(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function vr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vr.prototype.clear=z3;vr.prototype.delete=V3;vr.prototype.get=H3;vr.prototype.has=G3;vr.prototype.set=K3;function Y3(){this.__data__=new vr,this.size=0}function q3(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Q3(t){return this.__data__.get(t)}function X3(t){return this.__data__.has(t)}function ml(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var J3="[object AsyncFunction]",Z3="[object Function]",e$="[object GeneratorFunction]",t$="[object Proxy]";function pT(t){if(!ml(t))return!1;var e=Qi(t);return e==Z3||e==e$||e==J3||e==t$}var n$=Hn["__core-js_shared__"];const Df=n$;var _0=function(){var t=/[^.]+$/.exec(Df&&Df.keys&&Df.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function r$(t){return!!_0&&_0 in t}var i$=Function.prototype,o$=i$.toString;function Ji(t){if(t!=null){try{return o$.call(t)}catch{}try{return t+""}catch{}}return""}var s$=/[\\^$.*+?()[\]{}|]/g,a$=/^\[object .+?Constructor\]$/,l$=Function.prototype,u$=Object.prototype,c$=l$.toString,d$=u$.hasOwnProperty,f$=RegExp("^"+c$.call(d$).replace(s$,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h$(t){if(!ml(t)||r$(t))return!1;var e=pT(t)?f$:a$;return e.test(Ji(t))}function p$(t,e){return t==null?void 0:t[e]}function Zi(t,e){var n=p$(t,e);return h$(n)?n:void 0}var m$=Zi(Hn,"Map");const Wa=m$;var g$=Zi(Object,"create");const Va=g$;function v$(){this.__data__=Va?Va(null):{},this.size=0}function y$(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var _$="__lodash_hash_undefined__",w$=Object.prototype,E$=w$.hasOwnProperty;function S$(t){var e=this.__data__;if(Va){var n=e[t];return n===_$?void 0:n}return E$.call(e,t)?e[t]:void 0}var C$=Object.prototype,T$=C$.hasOwnProperty;function x$(t){var e=this.__data__;return Va?e[t]!==void 0:T$.call(e,t)}var I$="__lodash_hash_undefined__";function b$(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Va&&e===void 0?I$:e,this}function Wi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Wi.prototype.clear=v$;Wi.prototype.delete=y$;Wi.prototype.get=S$;Wi.prototype.has=x$;Wi.prototype.set=b$;function R$(){this.size=0,this.__data__={hash:new Wi,map:new(Wa||vr),string:new Wi}}function k$(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Td(t,e){var n=t.__data__;return k$(e)?n[typeof e=="string"?"string":"hash"]:n.map}function P$(t){var e=Td(this,t).delete(t);return this.size-=e?1:0,e}function A$(t){return Td(this,t).get(t)}function O$(t){return Td(this,t).has(t)}function N$(t,e){var n=Td(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function si(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}si.prototype.clear=R$;si.prototype.delete=P$;si.prototype.get=A$;si.prototype.has=O$;si.prototype.set=N$;var D$=200;function M$(t,e){var n=this.__data__;if(n instanceof vr){var r=n.__data__;if(!Wa||r.length<D$-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new si(r)}return n.set(t,e),this.size=n.size,this}function gs(t){var e=this.__data__=new vr(t);this.size=e.size}gs.prototype.clear=Y3;gs.prototype.delete=q3;gs.prototype.get=Q3;gs.prototype.has=X3;gs.prototype.set=M$;function L$(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var F$=function(){try{var t=Zi(Object,"defineProperty");return t({},"",{}),t}catch{}}();const w0=F$;function mT(t,e,n){e=="__proto__"&&w0?w0(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var $$=Object.prototype,U$=$$.hasOwnProperty;function gT(t,e,n){var r=t[e];(!(U$.call(t,e)&&hT(r,n))||n===void 0&&!(e in t))&&mT(t,e,n)}function xd(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?mT(n,a,l):gT(n,a,l)}return n}function j$(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var z$="[object Arguments]";function E0(t){return Xi(t)&&Qi(t)==z$}var vT=Object.prototype,B$=vT.hasOwnProperty,W$=vT.propertyIsEnumerable,V$=E0(function(){return arguments}())?E0:function(t){return Xi(t)&&B$.call(t,"callee")&&!W$.call(t,"callee")};const H$=V$;var G$=Array.isArray;const gl=G$;function K$(){return!1}var yT=typeof Yt=="object"&&Yt&&!Yt.nodeType&&Yt,S0=yT&&typeof qt=="object"&&qt&&!qt.nodeType&&qt,Y$=S0&&S0.exports===yT,C0=Y$?Hn.Buffer:void 0,q$=C0?C0.isBuffer:void 0,Q$=q$||K$;const _T=Q$;var X$=9007199254740991,J$=/^(?:0|[1-9]\d*)$/;function Z$(t,e){var n=typeof t;return e=e??X$,!!e&&(n=="number"||n!="symbol"&&J$.test(t))&&t>-1&&t%1==0&&t<e}var eU=9007199254740991;function wT(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=eU}var tU="[object Arguments]",nU="[object Array]",rU="[object Boolean]",iU="[object Date]",oU="[object Error]",sU="[object Function]",aU="[object Map]",lU="[object Number]",uU="[object Object]",cU="[object RegExp]",dU="[object Set]",fU="[object String]",hU="[object WeakMap]",pU="[object ArrayBuffer]",mU="[object DataView]",gU="[object Float32Array]",vU="[object Float64Array]",yU="[object Int8Array]",_U="[object Int16Array]",wU="[object Int32Array]",EU="[object Uint8Array]",SU="[object Uint8ClampedArray]",CU="[object Uint16Array]",TU="[object Uint32Array]",Be={};Be[gU]=Be[vU]=Be[yU]=Be[_U]=Be[wU]=Be[EU]=Be[SU]=Be[CU]=Be[TU]=!0;Be[tU]=Be[nU]=Be[pU]=Be[rU]=Be[mU]=Be[iU]=Be[oU]=Be[sU]=Be[aU]=Be[lU]=Be[uU]=Be[cU]=Be[dU]=Be[fU]=Be[hU]=!1;function xU(t){return Xi(t)&&wT(t.length)&&!!Be[Qi(t)]}function Kg(t){return function(e){return t(e)}}var ET=typeof Yt=="object"&&Yt&&!Yt.nodeType&&Yt,ia=ET&&typeof qt=="object"&&qt&&!qt.nodeType&&qt,IU=ia&&ia.exports===ET,Mf=IU&&uT.process,bU=function(){try{var t=ia&&ia.require&&ia.require("util").types;return t||Mf&&Mf.binding&&Mf.binding("util")}catch{}}();const es=bU;var T0=es&&es.isTypedArray,RU=T0?Kg(T0):xU;const kU=RU;var PU=Object.prototype,AU=PU.hasOwnProperty;function ST(t,e){var n=gl(t),r=!n&&H$(t),i=!n&&!r&&_T(t),o=!n&&!r&&!i&&kU(t),s=n||r||i||o,a=s?j$(t.length,String):[],l=a.length;for(var u in t)(e||AU.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Z$(u,l)))&&a.push(u);return a}var OU=Object.prototype;function Yg(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||OU;return t===n}var NU=dT(Object.keys,Object);const DU=NU;var MU=Object.prototype,LU=MU.hasOwnProperty;function FU(t){if(!Yg(t))return DU(t);var e=[];for(var n in Object(t))LU.call(t,n)&&n!="constructor"&&e.push(n);return e}function CT(t){return t!=null&&wT(t.length)&&!pT(t)}function qg(t){return CT(t)?ST(t):FU(t)}function $U(t,e){return t&&xd(e,qg(e),t)}function UU(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var jU=Object.prototype,zU=jU.hasOwnProperty;function BU(t){if(!ml(t))return UU(t);var e=Yg(t),n=[];for(var r in t)r=="constructor"&&(e||!zU.call(t,r))||n.push(r);return n}function Qg(t){return CT(t)?ST(t,!0):BU(t)}function WU(t,e){return t&&xd(e,Qg(e),t)}var TT=typeof Yt=="object"&&Yt&&!Yt.nodeType&&Yt,x0=TT&&typeof qt=="object"&&qt&&!qt.nodeType&&qt,VU=x0&&x0.exports===TT,I0=VU?Hn.Buffer:void 0,b0=I0?I0.allocUnsafe:void 0;function HU(t,e){if(e)return t.slice();var n=t.length,r=b0?b0(n):new t.constructor(n);return t.copy(r),r}function xT(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function GU(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function IT(){return[]}var KU=Object.prototype,YU=KU.propertyIsEnumerable,R0=Object.getOwnPropertySymbols,qU=R0?function(t){return t==null?[]:(t=Object(t),GU(R0(t),function(e){return YU.call(t,e)}))}:IT;const Xg=qU;function QU(t,e){return xd(t,Xg(t),e)}function bT(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var XU=Object.getOwnPropertySymbols,JU=XU?function(t){for(var e=[];t;)bT(e,Xg(t)),t=Gg(t);return e}:IT;const RT=JU;function ZU(t,e){return xd(t,RT(t),e)}function kT(t,e,n){var r=e(t);return gl(t)?r:bT(r,n(t))}function e4(t){return kT(t,qg,Xg)}function t4(t){return kT(t,Qg,RT)}var n4=Zi(Hn,"DataView");const Cp=n4;var r4=Zi(Hn,"Promise");const Tp=r4;var i4=Zi(Hn,"Set");const xp=i4;var o4=Zi(Hn,"WeakMap");const Ip=o4;var k0="[object Map]",s4="[object Object]",P0="[object Promise]",A0="[object Set]",O0="[object WeakMap]",N0="[object DataView]",a4=Ji(Cp),l4=Ji(Wa),u4=Ji(Tp),c4=Ji(xp),d4=Ji(Ip),gi=Qi;(Cp&&gi(new Cp(new ArrayBuffer(1)))!=N0||Wa&&gi(new Wa)!=k0||Tp&&gi(Tp.resolve())!=P0||xp&&gi(new xp)!=A0||Ip&&gi(new Ip)!=O0)&&(gi=function(t){var e=Qi(t),n=e==s4?t.constructor:void 0,r=n?Ji(n):"";if(r)switch(r){case a4:return N0;case l4:return k0;case u4:return P0;case c4:return A0;case d4:return O0}return e});const Jg=gi;var f4=Object.prototype,h4=f4.hasOwnProperty;function p4(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&h4.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var m4=Hn.Uint8Array;const D0=m4;function Zg(t){var e=new t.constructor(t.byteLength);return new D0(e).set(new D0(t)),e}function g4(t,e){var n=e?Zg(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var v4=/\w*$/;function y4(t){var e=new t.constructor(t.source,v4.exec(t));return e.lastIndex=t.lastIndex,e}var M0=ni?ni.prototype:void 0,L0=M0?M0.valueOf:void 0;function _4(t){return L0?Object(L0.call(t)):{}}function w4(t,e){var n=e?Zg(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var E4="[object Boolean]",S4="[object Date]",C4="[object Map]",T4="[object Number]",x4="[object RegExp]",I4="[object Set]",b4="[object String]",R4="[object Symbol]",k4="[object ArrayBuffer]",P4="[object DataView]",A4="[object Float32Array]",O4="[object Float64Array]",N4="[object Int8Array]",D4="[object Int16Array]",M4="[object Int32Array]",L4="[object Uint8Array]",F4="[object Uint8ClampedArray]",$4="[object Uint16Array]",U4="[object Uint32Array]";function j4(t,e,n){var r=t.constructor;switch(e){case k4:return Zg(t);case E4:case S4:return new r(+t);case P4:return g4(t,n);case A4:case O4:case N4:case D4:case M4:case L4:case F4:case $4:case U4:return w4(t,n);case C4:return new r;case T4:case b4:return new r(t);case x4:return y4(t);case I4:return new r;case R4:return _4(t)}}var F0=Object.create,z4=function(){function t(){}return function(e){if(!ml(e))return{};if(F0)return F0(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const B4=z4;function W4(t){return typeof t.constructor=="function"&&!Yg(t)?B4(Gg(t)):{}}var V4="[object Map]";function H4(t){return Xi(t)&&Jg(t)==V4}var $0=es&&es.isMap,G4=$0?Kg($0):H4;const K4=G4;var Y4="[object Set]";function q4(t){return Xi(t)&&Jg(t)==Y4}var U0=es&&es.isSet,Q4=U0?Kg(U0):q4;const X4=Q4;var J4=1,Z4=2,ej=4,PT="[object Arguments]",tj="[object Array]",nj="[object Boolean]",rj="[object Date]",ij="[object Error]",AT="[object Function]",oj="[object GeneratorFunction]",sj="[object Map]",aj="[object Number]",OT="[object Object]",lj="[object RegExp]",uj="[object Set]",cj="[object String]",dj="[object Symbol]",fj="[object WeakMap]",hj="[object ArrayBuffer]",pj="[object DataView]",mj="[object Float32Array]",gj="[object Float64Array]",vj="[object Int8Array]",yj="[object Int16Array]",_j="[object Int32Array]",wj="[object Uint8Array]",Ej="[object Uint8ClampedArray]",Sj="[object Uint16Array]",Cj="[object Uint32Array]",Fe={};Fe[PT]=Fe[tj]=Fe[hj]=Fe[pj]=Fe[nj]=Fe[rj]=Fe[mj]=Fe[gj]=Fe[vj]=Fe[yj]=Fe[_j]=Fe[sj]=Fe[aj]=Fe[OT]=Fe[lj]=Fe[uj]=Fe[cj]=Fe[dj]=Fe[wj]=Fe[Ej]=Fe[Sj]=Fe[Cj]=!0;Fe[ij]=Fe[AT]=Fe[fj]=!1;function cu(t,e,n,r,i,o){var s,a=e&J4,l=e&Z4,u=e&ej;if(n&&(s=i?n(t,r,i,o):n(t)),s!==void 0)return s;if(!ml(t))return t;var c=gl(t);if(c){if(s=p4(t),!a)return xT(t,s)}else{var d=Jg(t),f=d==AT||d==oj;if(_T(t))return HU(t,a);if(d==OT||d==PT||f&&!i){if(s=l||f?{}:W4(t),!a)return l?ZU(t,WU(s,t)):QU(t,$U(s,t))}else{if(!Fe[d])return i?t:{};s=j4(t,d,a)}}o||(o=new gs);var v=o.get(t);if(v)return v;o.set(t,s),X4(t)?t.forEach(function(S){s.add(cu(S,e,n,S,t,o))}):K4(t)&&t.forEach(function(S,g){s.set(g,cu(S,e,n,g,t,o))});var y=u?l?t4:e4:l?Qg:qg,h=c?void 0:y(t);return L$(h||t,function(S,g){h&&(g=S,S=t[g]),gT(s,g,cu(S,e,n,g,t,o))}),s}var Tj=4;function j0(t){return cu(t,Tj)}function NT(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var xj="[object Symbol]";function ev(t){return typeof t=="symbol"||Xi(t)&&Qi(t)==xj}var Ij="Expected a function";function tv(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Ij);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(tv.Cache||si),n}tv.Cache=si;var bj=500;function Rj(t){var e=tv(t,function(r){return n.size===bj&&n.clear(),r}),n=e.cache;return e}var kj=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pj=/\\(\\)?/g,Aj=Rj(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(kj,function(n,r,i,o){e.push(i?o.replace(Pj,"$1"):r||n)}),e});const Oj=Aj;var Nj=1/0;function Dj(t){if(typeof t=="string"||ev(t))return t;var e=t+"";return e=="0"&&1/t==-Nj?"-0":e}var Mj=1/0,z0=ni?ni.prototype:void 0,B0=z0?z0.toString:void 0;function DT(t){if(typeof t=="string")return t;if(gl(t))return NT(t,DT)+"";if(ev(t))return B0?B0.call(t):"";var e=t+"";return e=="0"&&1/t==-Mj?"-0":e}function Lj(t){return t==null?"":DT(t)}function MT(t){return gl(t)?NT(t,Dj):ev(t)?[t]:xT(Oj(Lj(t)))}var Fj=!0;function $j(t,e){if(!Fj){if(t)return;var n="Warning: "+e;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}function gt(){return gt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gt.apply(this,arguments)}function LT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var gn=function(e){return typeof e=="function"},Id=function(e){return e!==null&&typeof e=="object"},Uj=function(e){return String(Math.floor(Number(e)))===e},Lf=function(e){return Object.prototype.toString.call(e)==="[object String]"},Ff=function(e){return Id(e)&&gn(e.then)};function rn(t,e,n,r){r===void 0&&(r=0);for(var i=MT(e);t&&r<i.length;)t=t[i[r++]];return t===void 0?n:t}function Ri(t,e,n){for(var r=j0(t),i=r,o=0,s=MT(e);o<s.length-1;o++){var a=s[o],l=rn(t,s.slice(0,o+1));if(l&&(Id(l)||Array.isArray(l)))i=i[a]=j0(l);else{var u=s[o+1];i=i[a]=Uj(u)&&Number(u)>=0?[]:{}}}return(o===0?t:i)[s[o]]===n?t:(n===void 0?delete i[s[o]]:i[s[o]]=n,o===0&&n===void 0&&delete r[s[o]],r)}function FT(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,o=Object.keys(t);i<o.length;i++){var s=o[i],a=t[s];Id(a)?n.get(a)||(n.set(a,!0),r[s]=Array.isArray(a)?[]:{},FT(a,e,n,r[s])):r[s]=e}return r}var bd=A.createContext(void 0);bd.displayName="FormikContext";bd.Provider;bd.Consumer;function jj(){var t=A.useContext(bd);return t||$j(!1),t}function zj(t,e){switch(e.type){case"SET_VALUES":return gt({},t,{values:e.payload});case"SET_TOUCHED":return gt({},t,{touched:e.payload});case"SET_ERRORS":return mi(t.errors,e.payload)?t:gt({},t,{errors:e.payload});case"SET_STATUS":return gt({},t,{status:e.payload});case"SET_ISSUBMITTING":return gt({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return gt({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return gt({},t,{values:Ri(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return gt({},t,{touched:Ri(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return gt({},t,{errors:Ri(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return gt({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return gt({},t,{touched:FT(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return gt({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return gt({},t,{isSubmitting:!1});default:return t}}var li={},Hl={};function $T(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,o=t.validateOnMount,s=o===void 0?!1:o,a=t.isInitialValid,l=t.enableReinitialize,u=l===void 0?!1:l,c=t.onSubmit,d=LT(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),f=gt({validateOnChange:n,validateOnBlur:i,validateOnMount:s,onSubmit:c},d),v=A.useRef(f.initialValues),y=A.useRef(f.initialErrors||li),h=A.useRef(f.initialTouched||Hl),S=A.useRef(f.initialStatus),g=A.useRef(!1),m=A.useRef({});A.useEffect(function(){return g.current=!0,function(){g.current=!1}},[]);var _=A.useReducer(zj,{values:f.initialValues,errors:f.initialErrors||li,touched:f.initialTouched||Hl,status:f.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),E=_[0],b=_[1],L=A.useCallback(function(R,Y){return new Promise(function(Z,X){var B=f.validate(R,Y);B==null?Z(li):Ff(B)?B.then(function(se){Z(se||li)},function(se){X(se)}):Z(B)})},[f.validate]),D=A.useCallback(function(R,Y){var Z=f.validationSchema,X=gn(Z)?Z(Y):Z,B=Y&&X.validateAt?X.validateAt(Y,R):Wj(R,X);return new Promise(function(se,je){B.then(function(){se(li)},function(At){At.name==="ValidationError"?se(Bj(At)):je(At)})})},[f.validationSchema]),j=A.useCallback(function(R,Y){return new Promise(function(Z){return Z(m.current[R].validate(Y))})},[]),oe=A.useCallback(function(R){var Y=Object.keys(m.current).filter(function(X){return gn(m.current[X].validate)}),Z=Y.length>0?Y.map(function(X){return j(X,rn(R,X))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Z).then(function(X){return X.reduce(function(B,se,je){return se==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||se&&(B=Ri(B,Y[je],se)),B},{})})},[j]),Q=A.useCallback(function(R){return Promise.all([oe(R),f.validationSchema?D(R):{},f.validate?L(R):{}]).then(function(Y){var Z=Y[0],X=Y[1],B=Y[2],se=Sp.all([Z,X,B],{arrayMerge:Vj});return se})},[f.validate,f.validationSchema,oe,L,D]),he=nn(function(R){return R===void 0&&(R=E.values),b({type:"SET_ISVALIDATING",payload:!0}),Q(R).then(function(Y){return g.current&&(b({type:"SET_ISVALIDATING",payload:!1}),b({type:"SET_ERRORS",payload:Y})),Y})});A.useEffect(function(){s&&g.current===!0&&mi(v.current,f.initialValues)&&he(v.current)},[s,he]);var Ce=A.useCallback(function(R){var Y=R&&R.values?R.values:v.current,Z=R&&R.errors?R.errors:y.current?y.current:f.initialErrors||{},X=R&&R.touched?R.touched:h.current?h.current:f.initialTouched||{},B=R&&R.status?R.status:S.current?S.current:f.initialStatus;v.current=Y,y.current=Z,h.current=X,S.current=B;var se=function(){b({type:"RESET_FORM",payload:{isSubmitting:!!R&&!!R.isSubmitting,errors:Z,touched:X,status:B,values:Y,isValidating:!!R&&!!R.isValidating,submitCount:R&&R.submitCount&&typeof R.submitCount=="number"?R.submitCount:0}})};if(f.onReset){var je=f.onReset(E.values,O);Ff(je)?je.then(se):se()}else se()},[f.initialErrors,f.initialStatus,f.initialTouched]);A.useEffect(function(){g.current===!0&&!mi(v.current,f.initialValues)&&(u&&(v.current=f.initialValues,Ce()),s&&he(v.current))},[u,f.initialValues,Ce,s,he]),A.useEffect(function(){u&&g.current===!0&&!mi(y.current,f.initialErrors)&&(y.current=f.initialErrors||li,b({type:"SET_ERRORS",payload:f.initialErrors||li}))},[u,f.initialErrors]),A.useEffect(function(){u&&g.current===!0&&!mi(h.current,f.initialTouched)&&(h.current=f.initialTouched||Hl,b({type:"SET_TOUCHED",payload:f.initialTouched||Hl}))},[u,f.initialTouched]),A.useEffect(function(){u&&g.current===!0&&!mi(S.current,f.initialStatus)&&(S.current=f.initialStatus,b({type:"SET_STATUS",payload:f.initialStatus}))},[u,f.initialStatus,f.initialTouched]);var ke=nn(function(R){if(m.current[R]&&gn(m.current[R].validate)){var Y=rn(E.values,R),Z=m.current[R].validate(Y);return Ff(Z)?(b({type:"SET_ISVALIDATING",payload:!0}),Z.then(function(X){return X}).then(function(X){b({type:"SET_FIELD_ERROR",payload:{field:R,value:X}}),b({type:"SET_ISVALIDATING",payload:!1})})):(b({type:"SET_FIELD_ERROR",payload:{field:R,value:Z}}),Promise.resolve(Z))}else if(f.validationSchema)return b({type:"SET_ISVALIDATING",payload:!0}),D(E.values,R).then(function(X){return X}).then(function(X){b({type:"SET_FIELD_ERROR",payload:{field:R,value:X[R]}}),b({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Le=A.useCallback(function(R,Y){var Z=Y.validate;m.current[R]={validate:Z}},[]),He=A.useCallback(function(R){delete m.current[R]},[]),wt=nn(function(R,Y){b({type:"SET_TOUCHED",payload:R});var Z=Y===void 0?i:Y;return Z?he(E.values):Promise.resolve()}),Je=A.useCallback(function(R){b({type:"SET_ERRORS",payload:R})},[]),V=nn(function(R,Y){var Z=gn(R)?R(E.values):R;b({type:"SET_VALUES",payload:Z});var X=Y===void 0?n:Y;return X?he(Z):Promise.resolve()}),q=A.useCallback(function(R,Y){b({type:"SET_FIELD_ERROR",payload:{field:R,value:Y}})},[]),ee=nn(function(R,Y,Z){b({type:"SET_FIELD_VALUE",payload:{field:R,value:Y}});var X=Z===void 0?n:Z;return X?he(Ri(E.values,R,Y)):Promise.resolve()}),Se=A.useCallback(function(R,Y){var Z=Y,X=R,B;if(!Lf(R)){R.persist&&R.persist();var se=R.target?R.target:R.currentTarget,je=se.type,At=se.name,P=se.id,N=se.value,$=se.checked,te=se.outerHTML,ne=se.options,le=se.multiple;Z=Y||At||P,X=/number|range/.test(je)?(B=parseFloat(N),isNaN(B)?"":B):/checkbox/.test(je)?Gj(rn(E.values,Z),$,N):ne&&le?Hj(ne):N}Z&&ee(Z,X)},[ee,E.values]),z=nn(function(R){if(Lf(R))return function(Y){return Se(Y,R)};Se(R)}),p=nn(function(R,Y,Z){Y===void 0&&(Y=!0),b({type:"SET_FIELD_TOUCHED",payload:{field:R,value:Y}});var X=Z===void 0?i:Z;return X?he(E.values):Promise.resolve()}),F=A.useCallback(function(R,Y){R.persist&&R.persist();var Z=R.target,X=Z.name,B=Z.id,se=Z.outerHTML,je=Y||X||B;p(je,!0)},[p]),re=nn(function(R){if(Lf(R))return function(Y){return F(Y,R)};F(R)}),k=A.useCallback(function(R){gn(R)?b({type:"SET_FORMIK_STATE",payload:R}):b({type:"SET_FORMIK_STATE",payload:function(){return R}})},[]),w=A.useCallback(function(R){b({type:"SET_STATUS",payload:R})},[]),C=A.useCallback(function(R){b({type:"SET_ISSUBMITTING",payload:R})},[]),x=nn(function(){return b({type:"SUBMIT_ATTEMPT"}),he().then(function(R){var Y=R instanceof Error,Z=!Y&&Object.keys(R).length===0;if(Z){var X;try{if(X=M(),X===void 0)return}catch(B){throw B}return Promise.resolve(X).then(function(B){return g.current&&b({type:"SUBMIT_SUCCESS"}),B}).catch(function(B){if(g.current)throw b({type:"SUBMIT_FAILURE"}),B})}else if(g.current&&(b({type:"SUBMIT_FAILURE"}),Y))throw R})}),T=nn(function(R){R&&R.preventDefault&&gn(R.preventDefault)&&R.preventDefault(),R&&R.stopPropagation&&gn(R.stopPropagation)&&R.stopPropagation(),x().catch(function(Y){console.warn("Warning: An unhandled error was caught from submitForm()",Y)})}),O={resetForm:Ce,validateForm:he,validateField:ke,setErrors:Je,setFieldError:q,setFieldTouched:p,setFieldValue:ee,setStatus:w,setSubmitting:C,setTouched:wt,setValues:V,setFormikState:k,submitForm:x},M=nn(function(){return c(E.values,O)}),G=nn(function(R){R&&R.preventDefault&&gn(R.preventDefault)&&R.preventDefault(),R&&R.stopPropagation&&gn(R.stopPropagation)&&R.stopPropagation(),Ce()}),I=A.useCallback(function(R){return{value:rn(E.values,R),error:rn(E.errors,R),touched:!!rn(E.touched,R),initialValue:rn(v.current,R),initialTouched:!!rn(h.current,R),initialError:rn(y.current,R)}},[E.errors,E.touched,E.values]),K=A.useCallback(function(R){return{setValue:function(Z,X){return ee(R,Z,X)},setTouched:function(Z,X){return p(R,Z,X)},setError:function(Z){return q(R,Z)}}},[ee,p,q]),pe=A.useCallback(function(R){var Y=Id(R),Z=Y?R.name:R,X=rn(E.values,Z),B={name:Z,value:X,onChange:z,onBlur:re};if(Y){var se=R.type,je=R.value,At=R.as,P=R.multiple;se==="checkbox"?je===void 0?B.checked=!!X:(B.checked=!!(Array.isArray(X)&&~X.indexOf(je)),B.value=je):se==="radio"?(B.checked=X===je,B.value=je):At==="select"&&P&&(B.value=B.value||[],B.multiple=!0)}return B},[re,z,E.values]),ce=A.useMemo(function(){return!mi(v.current,E.values)},[v.current,E.values]),Te=A.useMemo(function(){return typeof a<"u"?ce?E.errors&&Object.keys(E.errors).length===0:a!==!1&&gn(a)?a(f):a:E.errors&&Object.keys(E.errors).length===0},[a,ce,E.errors,f]),Et=gt({},E,{initialValues:v.current,initialErrors:y.current,initialTouched:h.current,initialStatus:S.current,handleBlur:re,handleChange:z,handleReset:G,handleSubmit:T,resetForm:Ce,setErrors:Je,setFormikState:k,setFieldTouched:p,setFieldValue:ee,setFieldError:q,setStatus:w,setSubmitting:C,setTouched:wt,setValues:V,submitForm:x,validateForm:he,validateField:ke,isValid:Te,dirty:ce,unregisterField:He,registerField:Le,getFieldProps:pe,getFieldMeta:I,getFieldHelpers:K,validateOnBlur:i,validateOnChange:n,validateOnMount:s});return Et}function Bj(t){var e={};if(t.inner){if(t.inner.length===0)return Ri(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var o;if(n){if(r>=i.length)break;o=i[r++]}else{if(r=i.next(),r.done)break;o=r.value}var s=o;rn(e,s.path)||(e=Ri(e,s.path,s.message))}}return e}function Wj(t,e,n,r){n===void 0&&(n=!1),r===void 0&&(r={});var i=bp(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}function bp(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||y0(i)?bp(i):i!==""?i:void 0}):y0(t[r])?e[r]=bp(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function Vj(t,e,n){var r=t.slice();return e.forEach(function(o,s){if(typeof r[s]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(o);r[s]=l?Sp(Array.isArray(o)?[]:{},o,n):o}else n.isMergeableObject(o)?r[s]=Sp(t[s],o,n):t.indexOf(o)===-1&&r.push(o)}),r}function Hj(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function Gj(t,e,n){if(typeof t=="boolean")return Boolean(e);var r=[],i=!1,o=-1;if(Array.isArray(t))r=t,o=t.indexOf(n),i=o>=0;else if(!n||n=="true"||n=="false")return Boolean(e);return e&&n&&!i?r.concat(n):i?r.slice(0,o).concat(r.slice(o+1)):r}var Kj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?A.useLayoutEffect:A.useEffect;function nn(t){var e=A.useRef(t);return Kj(function(){e.current=t}),A.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}var Yj=A.forwardRef(function(t,e){var n=t.action,r=LT(t,["action"]),i=n??"#",o=jj(),s=o.handleReset,a=o.handleSubmit;return A.createElement("form",Object.assign({onSubmit:a,ref:e,onReset:s,action:i},r))});Yj.displayName="Form";var UT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},W0=we.createContext&&we.createContext(UT),Kr=globalThis&&globalThis.__assign||function(){return Kr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Kr.apply(this,arguments)},qj=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function jT(t){return t&&t.map(function(e,n){return we.createElement(e.tag,Kr({key:n},e.attr),jT(e.child))})}function zT(t){return function(e){return we.createElement(Qj,Kr({attr:Kr({},t.attr)},e),jT(t.child))}}function Qj(t){var e=function(n){var r=t.attr,i=t.size,o=t.title,s=qj(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),we.createElement("svg",Kr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:Kr(Kr({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&we.createElement("title",null,o),t.children)};return W0!==void 0?we.createElement(W0.Consumer,null,function(n){return e(n)}):e(UT)}function Xj(t){return zT({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z",fill:"currentColor"}}]})(t)}function Jj(t){return zT({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor"}}]})(t)}const Zj=fe.div`
  position: relative;
  z-index: 10;
`,ez=fe(Sd)`
  padding-right: 30px;
`,tz=fe.button`
  position: absolute;
  background: none;
  border: none;
  top: 0;
  bottom: 0;
  right: 0;
  width: 30px;
  cursor: pointer;
  svg path {
    fill: #5a5a5a;
  }
`,Rp=t=>{const[e,n]=A.useState(!1),r={...t,type:e?"text":"password"};return Pe(Zj,{children:[H(ez,{...r}),H(tz,{type:"button",onClick:()=>n(!e),children:e?H(Jj,{}):H(Xj,{})})]})},kp=fe(Sd)``,BT=fe.form`
  display: grid;
  gap: 20px;
  padding: 20px;
  background: white;
`,WT=fe.span`
  font-size: 2rem;
`,So=fe.div`
  position: relative;
  display: flex;
  transition: padding-bottom 300ms;
  padding-bottom: 0;
  &.error {
    padding-bottom: 20px;
  }
`,Co=fe.span`
  position: absolute;
  bottom: 0;
  font-size: 12px;
  color: red;
`;fe.button`
  background: transparent;
  border: none;
  width: min-content;
  justify-self: center;
  cursor: pointer;
`;const nv=t=>{if(!t)return"  .";if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(t))return" ."},V0=t=>{if(!t)return" ";if(t.length<6)return"   6 "},nz=t=>{if(!t)return"   "},rz=t=>{const e={},n=nv(t.email);return n&&(e.email=n),t.password||(e.password=" "),e},iz=()=>{const t=os(),e=$T({initialValues:{email:is(i=>i.user.email)||"",password:""},validateOnChange:!1,validate:rz,onSubmit:i=>{sN(ec(),i.email,i.password).then(()=>{t(rr(null))}).catch(o=>{e.setSubmitting(!1),o instanceof cn&&o.code==="auth/user-not-found"?e.setErrors({email:".  "}):o instanceof cn&&o.code==="auth/wrong-password"?e.setErrors({password:" "}):console.error(o)})}}),n=i=>e.errors[i]&&e.touched[i]?"error":"",r=()=>{e.setTouched({email:!0}),!nv(e.values.email)&&(e.setSubmitting(!0),t(Vu({email:e.values.email})),iN(ec(),e.values.email).then(()=>{t(rr("AlertPasswordReset"))}).catch(i=>{i instanceof cn&&i.code==="auth/user-not-found"?e.setErrors({email:".  "}):console.error(i)}))};return Pe(BT,{onSubmit:e.handleSubmit,children:[H(WT,{children:""}),Pe(So,{className:n("email"),children:[H(kp,{type:"text",name:"email",placeholder:".",value:e.values.email,onChange:e.handleChange,onBlur:e.handleBlur,onFocus:()=>e.setFieldError("email",""),className:n("email"),disabled:e.isSubmitting}),H(Co,{children:e.errors.email})]}),Pe(So,{className:n("password"),children:[H(Rp,{name:"password",placeholder:"",value:e.values.password,onChange:e.handleChange,onBlur:e.handleBlur,onFocus:()=>e.setFieldError("password",""),className:n("password"),disabled:e.isSubmitting}),H(Co,{children:e.errors.password})]}),H(Sd,{type:"submit",value:"",disabled:e.isSubmitting}),H(vc,{onClick:r,type:"button",disabled:e.isSubmitting,children:" "}),H(vc,{onClick:()=>t(rr("FormReg")),type:"button",disabled:e.isSubmitting,children:""})]})},oz=t=>{const e={};return e.name=nz(t.name),e.email=nv(t.email),e.passwordOne=V0(t.passwordOne),e.passwordTwo=V0(t.passwordTwo),!e.passwordOne&&!e.passwordTwo&&t.passwordOne!=t.passwordTwo&&(e.passwordTwo="  "),Object.fromEntries(Object.entries(e).filter(n=>n[1]))},sz=()=>{const t=os(),e=$T({initialValues:{name:"",email:"",passwordOne:"",passwordTwo:""},validateOnChange:!1,validate:oz,onSubmit:r=>{oN(ec(),r.email,r.passwordOne).then(({user:i})=>{uN(i,{displayName:r.name}),aN(i),t(Vu({email:r.email})),t(rr("AlertEmailVerification"))}).catch(i=>{i instanceof cn&&i.code==="auth/email-already-in-use"?e.setErrors({email:".  "}):console.error(i)})}}),n=r=>e.errors[r]&&e.touched[r]?"error":"";return Pe(BT,{onSubmit:e.handleSubmit,children:[H(WT,{children:""}),Pe(So,{className:n("name"),children:[H(kp,{type:"text",name:"name",placeholder:"",value:e.values.name,onChange:e.handleChange,onBlur:e.handleBlur,onFocus:()=>e.setFieldError("name",""),className:n("name"),disabled:e.isSubmitting}),H(Co,{children:e.errors.name})]}),Pe(So,{className:n("email"),children:[H(kp,{type:"text",name:"email",placeholder:".",value:e.values.email,onChange:e.handleChange,onBlur:e.handleBlur,onFocus:()=>e.setFieldError("email",""),className:n("email"),disabled:e.isSubmitting}),H(Co,{children:e.errors.email})]}),Pe(So,{className:n("passwordOne"),children:[H(Rp,{name:"passwordOne",placeholder:"  ",value:e.values.passwordOne,onChange:e.handleChange,onBlur:e.handleBlur,onFocus:()=>e.setFieldError("passwordOne",""),className:n("passwordOne"),disabled:e.isSubmitting}),H(Co,{children:e.errors.passwordOne})]}),Pe(So,{className:n("passwordTwo"),children:[H(Rp,{name:"passwordTwo",placeholder:"  ",value:e.values.passwordTwo,onChange:e.handleChange,onBlur:e.handleBlur,onFocus:()=>e.setFieldError("passwordTwo",""),className:n("passwordTwo"),disabled:e.isSubmitting}),H(Co,{children:e.errors.passwordTwo})]}),H(Sd,{type:"submit",value:"",disabled:e.isSubmitting}),H(vc,{type:"button",onClick:()=>t(rr("FormAuth")),disabled:e.isSubmitting,children:""})]})},az=fe.section`
  position: absolute;
`,lz=fe.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: rgba(0, 0, 0, 0.5);
  visibility: hidden;
  opacity: 0;
  transition: opacity 300ms;

  &.enter-active,
  &.enter-done {
    visibility: visible;
    opacity: 1;
  }
  &.exit-active {
    visibility: visible;
    opacity: 0;
  }
`,uz=fe.div`
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  margin: auto;
  max-width: fit-content;
  max-height: fit-content;
  transform: translateY(-100vh);
  transition: transform 500ms;

  &.active.enter-active,
  &.active.enter-done {
    transform: translateY(0);
  }
`,cz=fe.button`
  position: absolute;
  z-index: 1;
  right: 10px;
  top: 10px;
  border: none;
  background: none;
  cursor: pointer;
`,dz={FormAuth:iz,FormReg:sz,Loader:u3,AlertEmailVerification:c3,AlertPasswordReset:d3},fz=()=>{const t=os(),e=is(s=>s.popup),n=e&&dz[e],r=we.useRef(null),i=we.useRef(null),o=()=>{e!="Loader"&&t(rr(null))};return Pe(az,{children:[H(p0,{in:Boolean(e),appear:!0,nodeRef:r,timeout:500,children:H(lz,{onClick:o,ref:r})}),H(l3,{children:H(p0,{appear:!0,timeout:500,nodeRef:i,children:Pe(uz,{ref:i,className:e?"active":"",children:[e!="Loader"&&H(cz,{onClick:o,children:"X"}),n&&H(n,{})]})},e)})]})},hz=fe.header`
  box-sizing: border-box;
  height: 48px;
  margin: 40px 0 0;
  padding: 0 calc(50vw - (1600px - 40px) / 2);
  background: #222;
  display: flex;
  align-items: center;
`,pz=fe(Lu)`
  margin-bottom: 16px;
`,mz=fe.div`
  margin-left: auto;
  margin-bottom: 4px;
  display: flex;
  align-items: center;
  align-content: center;
  gap: 20px;
  a {
    font-size: 36px;
    font-family: "Shadows Into Light", cursive;
    color: #d9d9d9;
    text-decoration: none;
  }
`,gz=()=>{const t=is(e=>Object.entries(e.cart.products).reduce((n,[r,i])=>n+i.count,0));return Pe(hz,{children:[H(pz,{to:"/",children:H("img",{src:"/logo.png"})}),Pe(mz,{children:[H(Lu,{to:"/person",children:"person"}),Pe(Lu,{to:"/cart",children:["cart",!!t&&`: ${t}`]})]})]})},vz=fe.footer`
  box-sizing: border-box;
  height: 36px;
  padding: 0 calc(50vw - (1600px - 40px) / 2);
  background: #222;
  display: flex;
  align-items: center;
  justify-content: center;
`,yz=fe.span`
  font-family: "Roboto";
  font-size: 14px;
  color: #333;
`,_z=()=>H(vz,{children:H(yz,{children:"copyright  enmourn@gmail.com"})}),wz=async({params:t})=>{const e=await YL(t.id),n=await qL(e.subtitle),r=await QL(e.subtitle);return{id:t.id,product:e,similar:n,band:r}},Ez=fe.main`
  display: flex;
  justify-content: center;
  align-items: flex-start;
`,Sz=fe.img``,Cz=fe.div`
  display: grid;
  align-content: start;
  font-family: "Roboto";
  color: #222;
`,Tz=fe.h1`
  display: grid;
  align-content: start;
`,$f=fe.h2`
  font-family: "Shadows Into Light", cursive;
  font-size: 24px;
  font-weight: 100;
  color: #c0c0c0;
  margin-top: 10px;
  margin-bottom: 0;
`,Uf=fe.p`
  margin: 0;
  max-width: 296px;
`,xz=fe.span`
  font-size: 24px;
`,Iz=fe.span`
  font-size: 16px;
  text-transform: uppercase;
  color: #d9d9d9;
`,bz=fe.button`
  background: #d9d9d9;
  border: none;
  border-radius: 30px;
  font-family: "Roboto";
  font-size: 14px;
  color: #222;
  margin-top: 40px;
  padding: 12px 48px;
  justify-self: center;
  cursor: pointer;
  transition: filter 0.2s;
  &:hover {
    filter: brightness(1.1);
  }
`,Rz=()=>{const{id:t,product:e,similar:n,band:r}=DR();return Pe(Ez,{children:[H(Sz,{src:"/product.png"}),Pe(Cz,{children:[Pe(Tz,{children:[H(xz,{children:e.title}),H(Iz,{children:e.subtitle})]}),H($f,{children:"Description"}),H(Uf,{children:e.description}),H($f,{children:"Saler"}),H(Uf,{children:"Grotesque Sounds Old School Metal Music Label"}),H($f,{children:"Price"}),Pe(Uf,{children:[e.price,""]}),H(bz,{children:"Add to Cart"})]})]})},kz=()=>Pe(yx,{children:[H(gz,{}),H(FR,{}),H(_z,{}),H(fz,{})]}),Pz=fe.main``,Az=({children:t})=>{const e=is(r=>r.user),n=os();return A.useEffect(()=>{e.auth===!1&&n(rr("FormAuth"))},[e.auth]),e.auth?t:H(Pz,{})},Oz=GR([{path:"/",element:H(kz,{}),errorElement:H(qF,{}),children:[{path:"/",element:H(YF,{})},{path:"/person",element:H(Az,{children:H(ZF,{})})},{path:"/products/:id",element:H(Rz,{}),loader:wz}]}],{basename:"/metalcircle"}),Nz="/metalcircle/assets/ShadowsIntoLight-Regular-2d697208.ttf",Dz="/metalcircle/assets/bg-3d3f6948.jpg",Mz=$F`
  @font-face {
    font-family: 'Shadows Into Light';
    src: url(${Nz});
  }
  body {
    margin: 0;
    background-image: url(${Dz});
    background-position: top center;
    scrollbar-width: thin;
    scrollbar-color: #333 #222;
    &::-webkit-scrollbar {
      width: 0;
    }
    #root {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      gap: 40px;
      main {
        flex-grow: 1;
      }
    }
  }
`;zf.createRoot(document.getElementById("root")).render(H(we.StrictMode,{children:Pe(Hk,{store:Bn,children:[H(Mz,{}),H(LR,{router:Oz})]})}))});export default Lz();
