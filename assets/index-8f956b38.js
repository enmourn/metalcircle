function CI(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Fw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xa={},TI={get exports(){return xa},set exports(e){xa=e}},Mc={},P={},xI={get exports(){return P},set exports(e){P=e}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fl=Symbol.for("react.element"),II=Symbol.for("react.portal"),bI=Symbol.for("react.fragment"),RI=Symbol.for("react.strict_mode"),kI=Symbol.for("react.profiler"),PI=Symbol.for("react.provider"),AI=Symbol.for("react.context"),NI=Symbol.for("react.forward_ref"),OI=Symbol.for("react.suspense"),DI=Symbol.for("react.memo"),LI=Symbol.for("react.lazy"),zv=Symbol.iterator;function MI(e){return e===null||typeof e!="object"?null:(e=zv&&e[zv]||e["@@iterator"],typeof e=="function"?e:null)}var Uw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$w=Object.assign,jw={};function ys(e,t,n){this.props=e,this.context=t,this.refs=jw,this.updater=n||Uw}ys.prototype.isReactComponent={};ys.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ys.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Bw(){}Bw.prototype=ys.prototype;function um(e,t,n){this.props=e,this.context=t,this.refs=jw,this.updater=n||Uw}var cm=um.prototype=new Bw;cm.constructor=um;$w(cm,ys.prototype);cm.isPureReactComponent=!0;var Wv=Array.isArray,zw=Object.prototype.hasOwnProperty,dm={current:null},Ww={key:!0,ref:!0,__self:!0,__source:!0};function Vw(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)zw.call(t,r)&&!Ww.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:fl,type:e,key:o,ref:s,props:i,_owner:dm.current}}function FI(e,t){return{$$typeof:fl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fm(e){return typeof e=="object"&&e!==null&&e.$$typeof===fl}function UI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Vv=/\/+/g;function ef(e,t){return typeof e=="object"&&e!==null&&e.key!=null?UI(""+e.key):t.toString(36)}function pu(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case fl:case II:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+ef(s,0):r,Wv(i)?(n="",e!=null&&(n=e.replace(Vv,"$&/")+"/"),pu(i,t,n,"",function(u){return u})):i!=null&&(fm(i)&&(i=FI(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Vv,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Wv(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+ef(o,a);s+=pu(o,t,n,l,i)}else if(l=MI(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+ef(o,a++),s+=pu(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function jl(e,t,n){if(e==null)return e;var r=[],i=0;return pu(e,r,"","",function(o){return t.call(n,o,i++)}),r}function $I(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jt={current:null},mu={transition:null},jI={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:mu,ReactCurrentOwner:dm};Se.Children={map:jl,forEach:function(e,t,n){jl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return jl(e,function(){t++}),t},toArray:function(e){return jl(e,function(t){return t})||[]},only:function(e){if(!fm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=ys;Se.Fragment=bI;Se.Profiler=kI;Se.PureComponent=um;Se.StrictMode=RI;Se.Suspense=OI;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jI;Se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=$w({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=dm.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)zw.call(t,l)&&!Ww.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:fl,type:e.type,key:i,ref:o,props:r,_owner:s}};Se.createContext=function(e){return e={$$typeof:AI,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:PI,_context:e},e.Consumer=e};Se.createElement=Vw;Se.createFactory=function(e){var t=Vw.bind(null,e);return t.type=e,t};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:NI,render:e}};Se.isValidElement=fm;Se.lazy=function(e){return{$$typeof:LI,_payload:{_status:-1,_result:e},_init:$I}};Se.memo=function(e,t){return{$$typeof:DI,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=mu.transition;mu.transition={};try{e()}finally{mu.transition=t}};Se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Se.useCallback=function(e,t){return jt.current.useCallback(e,t)};Se.useContext=function(e){return jt.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return jt.current.useDeferredValue(e)};Se.useEffect=function(e,t){return jt.current.useEffect(e,t)};Se.useId=function(){return jt.current.useId()};Se.useImperativeHandle=function(e,t,n){return jt.current.useImperativeHandle(e,t,n)};Se.useInsertionEffect=function(e,t){return jt.current.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return jt.current.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return jt.current.useMemo(e,t)};Se.useReducer=function(e,t,n){return jt.current.useReducer(e,t,n)};Se.useRef=function(e){return jt.current.useRef(e)};Se.useState=function(e){return jt.current.useState(e)};Se.useSyncExternalStore=function(e,t,n){return jt.current.useSyncExternalStore(e,t,n)};Se.useTransition=function(){return jt.current.useTransition()};Se.version="18.2.0";(function(e){e.exports=Se})(xI);const Ee=Fw(P),mh=CI({__proto__:null,default:Ee},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BI=P,zI=Symbol.for("react.element"),WI=Symbol.for("react.fragment"),VI=Object.prototype.hasOwnProperty,HI=BI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GI={key:!0,ref:!0,__self:!0,__source:!0};function Hw(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)VI.call(t,r)&&!GI.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:zI,type:e,key:o,ref:s,props:i,_owner:HI.current}}Mc.Fragment=WI;Mc.jsx=Hw;Mc.jsxs=Hw;(function(e){e.exports=Mc})(TI);const KI=xa.Fragment,N=xa.jsx,he=xa.jsxs;var gh={},Ia={},YI={get exports(){return Ia},set exports(e){Ia=e}},rn={},vh={},qI={get exports(){return vh},set exports(e){vh=e}},Gw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,q){var te=H.length;H.push(q);e:for(;0<te;){var Ce=te-1>>>1,W=H[Ce];if(0<i(W,q))H[Ce]=q,H[te]=W,te=Ce;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var q=H[0],te=H.pop();if(te!==q){H[0]=te;e:for(var Ce=0,W=H.length,p=W>>>1;Ce<p;){var U=2*(Ce+1)-1,ie=H[U],k=U+1,w=H[k];if(0>i(ie,te))k<W&&0>i(w,ie)?(H[Ce]=w,H[k]=te,Ce=k):(H[Ce]=ie,H[U]=te,Ce=U);else if(k<W&&0>i(w,te))H[Ce]=w,H[k]=te,Ce=k;else break e}}return q}function i(H,q){var te=H.sortIndex-q.sortIndex;return te!==0?te:H.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,f=3,g=!1,y=!1,h=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(H){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=H)r(u),q.sortIndex=q.expirationTime,t(l,q);else break;q=n(u)}}function S(H){if(h=!1,_(H),!y)if(n(l)!==null)y=!0,Ct(x);else{var q=n(u);q!==null&&Ze(S,q.startTime-H)}}function x(H,q){y=!1,h&&(h=!1,v(B),B=-1),g=!0;var te=f;try{for(_(q),d=n(l);d!==null&&(!(d.expirationTime>q)||H&&!me());){var Ce=d.callback;if(typeof Ce=="function"){d.callback=null,f=d.priorityLevel;var W=Ce(d.expirationTime<=q);q=e.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),_(q)}else r(l);d=n(l)}if(d!==null)var p=!0;else{var U=n(u);U!==null&&Ze(S,U.startTime-q),p=!1}return p}finally{d=null,f=te,g=!1}}var F=!1,L=null,B=-1,se=5,Q=-1;function me(){return!(e.unstable_now()-Q<se)}function Te(){if(L!==null){var H=e.unstable_now();Q=H;var q=!0;try{q=L(!0,H)}finally{q?Pe():(F=!1,L=null)}}else F=!1}var Pe;if(typeof m=="function")Pe=function(){m(Te)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,He=Me.port2;Me.port1.onmessage=Te,Pe=function(){He.postMessage(null)}}else Pe=function(){E(Te,0)};function Ct(H){L=H,F||(F=!0,Pe())}function Ze(H,q){B=E(function(){H(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,Ct(x))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(H){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var te=f;f=q;try{return H()}finally{f=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=f;f=H;try{return q()}finally{f=te}},e.unstable_scheduleCallback=function(H,q,te){var Ce=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Ce+te:Ce):te=Ce,H){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=te+W,H={id:c++,callback:q,priorityLevel:H,startTime:te,expirationTime:W,sortIndex:-1},te>Ce?(H.sortIndex=te,t(u,H),n(l)===null&&H===n(u)&&(h?(v(B),B=-1):h=!0,Ze(S,te-Ce))):(H.sortIndex=W,t(l,H),y||g||(y=!0,Ct(x))),H},e.unstable_shouldYield=me,e.unstable_wrapCallback=function(H){var q=f;return function(){var te=f;f=q;try{return H.apply(this,arguments)}finally{f=te}}}})(Gw);(function(e){e.exports=Gw})(qI);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kw=P,tn=vh;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yw=new Set,ba={};function co(e,t){es(e,t),es(e+"Capture",t)}function es(e,t){for(ba[e]=t,e=0;e<t.length;e++)Yw.add(t[e])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yh=Object.prototype.hasOwnProperty,QI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hv={},Gv={};function XI(e){return yh.call(Gv,e)?!0:yh.call(Hv,e)?!1:QI.test(e)?Gv[e]=!0:(Hv[e]=!0,!1)}function JI(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ZI(e,t,n,r){if(t===null||typeof t>"u"||JI(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Bt(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){St[e]=new Bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];St[t]=new Bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){St[e]=new Bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){St[e]=new Bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){St[e]=new Bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){St[e]=new Bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){St[e]=new Bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){St[e]=new Bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){St[e]=new Bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var hm=/[\-:]([a-z])/g;function pm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hm,pm);St[t]=new Bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hm,pm);St[t]=new Bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hm,pm);St[t]=new Bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){St[e]=new Bt(e,1,!1,e.toLowerCase(),null,!1,!1)});St.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){St[e]=new Bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function mm(e,t,n,r){var i=St.hasOwnProperty(t)?St[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ZI(t,n,i,r)&&(n=null),r||i===null?XI(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Cr=Kw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bl=Symbol.for("react.element"),To=Symbol.for("react.portal"),xo=Symbol.for("react.fragment"),gm=Symbol.for("react.strict_mode"),_h=Symbol.for("react.profiler"),qw=Symbol.for("react.provider"),Qw=Symbol.for("react.context"),vm=Symbol.for("react.forward_ref"),wh=Symbol.for("react.suspense"),Eh=Symbol.for("react.suspense_list"),ym=Symbol.for("react.memo"),Ar=Symbol.for("react.lazy"),Xw=Symbol.for("react.offscreen"),Kv=Symbol.iterator;function Ls(e){return e===null||typeof e!="object"?null:(e=Kv&&e[Kv]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Object.assign,tf;function Js(e){if(tf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);tf=t&&t[1]||""}return`
`+tf+e}var nf=!1;function rf(e,t){if(!e||nf)return"";nf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{nf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Js(e):""}function eb(e){switch(e.tag){case 5:return Js(e.type);case 16:return Js("Lazy");case 13:return Js("Suspense");case 19:return Js("SuspenseList");case 0:case 2:case 15:return e=rf(e.type,!1),e;case 11:return e=rf(e.type.render,!1),e;case 1:return e=rf(e.type,!0),e;default:return""}}function Sh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xo:return"Fragment";case To:return"Portal";case _h:return"Profiler";case gm:return"StrictMode";case wh:return"Suspense";case Eh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qw:return(e.displayName||"Context")+".Consumer";case qw:return(e._context.displayName||"Context")+".Provider";case vm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ym:return t=e.displayName||null,t!==null?t:Sh(e.type)||"Memo";case Ar:t=e._payload,e=e._init;try{return Sh(e(t))}catch{}}return null}function tb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sh(t);case 8:return t===gm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ai(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nb(e){var t=Jw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zl(e){e._valueTracker||(e._valueTracker=nb(e))}function Zw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Jw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ou(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ch(e,t){var n=t.checked;return Je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Yv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ai(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function eE(e,t){t=t.checked,t!=null&&mm(e,"checked",t,!1)}function Th(e,t){eE(e,t);var n=ai(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xh(e,t.type,n):t.hasOwnProperty("defaultValue")&&xh(e,t.type,ai(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xh(e,t,n){(t!=="number"||Ou(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zs=Array.isArray;function Bo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ai(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ih(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return Je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(j(92));if(Zs(n)){if(1<n.length)throw Error(j(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ai(n)}}function tE(e,t){var n=ai(t.value),r=ai(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Xv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wl,rE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wl=Wl||document.createElement("div"),Wl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ra(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var sa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=["Webkit","ms","Moz","O"];Object.keys(sa).forEach(function(e){rb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sa[t]=sa[e]})});function iE(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||sa.hasOwnProperty(e)&&sa[e]?(""+t).trim():t+"px"}function oE(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=iE(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var ib=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rh(e,t){if(t){if(ib[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function kh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ph=null;function _m(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ah=null,zo=null,Wo=null;function Jv(e){if(e=ml(e)){if(typeof Ah!="function")throw Error(j(280));var t=e.stateNode;t&&(t=Bc(t),Ah(e.stateNode,e.type,t))}}function sE(e){zo?Wo?Wo.push(e):Wo=[e]:zo=e}function aE(){if(zo){var e=zo,t=Wo;if(Wo=zo=null,Jv(e),t)for(e=0;e<t.length;e++)Jv(t[e])}}function lE(e,t){return e(t)}function uE(){}var of=!1;function cE(e,t,n){if(of)return e(t,n);of=!0;try{return lE(e,t,n)}finally{of=!1,(zo!==null||Wo!==null)&&(uE(),aE())}}function ka(e,t){var n=e.stateNode;if(n===null)return null;var r=Bc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(j(231,t,typeof n));return n}var Nh=!1;if(gr)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){Nh=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{Nh=!1}function ob(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var aa=!1,Du=null,Lu=!1,Oh=null,sb={onError:function(e){aa=!0,Du=e}};function ab(e,t,n,r,i,o,s,a,l){aa=!1,Du=null,ob.apply(sb,arguments)}function lb(e,t,n,r,i,o,s,a,l){if(ab.apply(this,arguments),aa){if(aa){var u=Du;aa=!1,Du=null}else throw Error(j(198));Lu||(Lu=!0,Oh=u)}}function fo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function dE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zv(e){if(fo(e)!==e)throw Error(j(188))}function ub(e){var t=e.alternate;if(!t){if(t=fo(e),t===null)throw Error(j(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Zv(i),e;if(o===r)return Zv(i),t;o=o.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?e:t}function fE(e){return e=ub(e),e!==null?hE(e):null}function hE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hE(e);if(t!==null)return t;e=e.sibling}return null}var pE=tn.unstable_scheduleCallback,ey=tn.unstable_cancelCallback,cb=tn.unstable_shouldYield,db=tn.unstable_requestPaint,st=tn.unstable_now,fb=tn.unstable_getCurrentPriorityLevel,wm=tn.unstable_ImmediatePriority,mE=tn.unstable_UserBlockingPriority,Mu=tn.unstable_NormalPriority,hb=tn.unstable_LowPriority,gE=tn.unstable_IdlePriority,Fc=null,Gn=null;function pb(e){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(Fc,e,void 0,(e.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:vb,mb=Math.log,gb=Math.LN2;function vb(e){return e>>>=0,e===0?32:31-(mb(e)/gb|0)|0}var Vl=64,Hl=4194304;function ea(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ea(a):(o&=s,o!==0&&(r=ea(o)))}else s=n&~i,s!==0?r=ea(s):o!==0&&(r=ea(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pn(t),i=1<<n,r|=e[n],t&=~i;return r}function yb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _b(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Pn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=yb(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Dh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vE(){var e=Vl;return Vl<<=1,!(Vl&4194240)&&(Vl=64),e}function sf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function hl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pn(t),e[t]=n}function wb(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Pn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Em(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ae=0;function yE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _E,Sm,wE,EE,SE,Lh=!1,Gl=[],Wr=null,Vr=null,Hr=null,Pa=new Map,Aa=new Map,Or=[],Eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ty(e,t){switch(e){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":Pa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Aa.delete(t.pointerId)}}function Fs(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ml(t),t!==null&&Sm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Sb(e,t,n,r,i){switch(t){case"focusin":return Wr=Fs(Wr,e,t,n,r,i),!0;case"dragenter":return Vr=Fs(Vr,e,t,n,r,i),!0;case"mouseover":return Hr=Fs(Hr,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pa.set(o,Fs(Pa.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Aa.set(o,Fs(Aa.get(o)||null,e,t,n,r,i)),!0}return!1}function CE(e){var t=Oi(e.target);if(t!==null){var n=fo(t);if(n!==null){if(t=n.tag,t===13){if(t=dE(n),t!==null){e.blockedOn=t,SE(e.priority,function(){wE(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Mh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ph=r,n.target.dispatchEvent(r),Ph=null}else return t=ml(n),t!==null&&Sm(t),e.blockedOn=n,!1;t.shift()}return!0}function ny(e,t,n){gu(e)&&n.delete(t)}function Cb(){Lh=!1,Wr!==null&&gu(Wr)&&(Wr=null),Vr!==null&&gu(Vr)&&(Vr=null),Hr!==null&&gu(Hr)&&(Hr=null),Pa.forEach(ny),Aa.forEach(ny)}function Us(e,t){e.blockedOn===t&&(e.blockedOn=null,Lh||(Lh=!0,tn.unstable_scheduleCallback(tn.unstable_NormalPriority,Cb)))}function Na(e){function t(i){return Us(i,e)}if(0<Gl.length){Us(Gl[0],e);for(var n=1;n<Gl.length;n++){var r=Gl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Wr!==null&&Us(Wr,e),Vr!==null&&Us(Vr,e),Hr!==null&&Us(Hr,e),Pa.forEach(t),Aa.forEach(t),n=0;n<Or.length;n++)r=Or[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Or.length&&(n=Or[0],n.blockedOn===null);)CE(n),n.blockedOn===null&&Or.shift()}var Vo=Cr.ReactCurrentBatchConfig,Uu=!0;function Tb(e,t,n,r){var i=Ae,o=Vo.transition;Vo.transition=null;try{Ae=1,Cm(e,t,n,r)}finally{Ae=i,Vo.transition=o}}function xb(e,t,n,r){var i=Ae,o=Vo.transition;Vo.transition=null;try{Ae=4,Cm(e,t,n,r)}finally{Ae=i,Vo.transition=o}}function Cm(e,t,n,r){if(Uu){var i=Mh(e,t,n,r);if(i===null)gf(e,t,r,$u,n),ty(e,r);else if(Sb(i,e,t,n,r))r.stopPropagation();else if(ty(e,r),t&4&&-1<Eb.indexOf(e)){for(;i!==null;){var o=ml(i);if(o!==null&&_E(o),o=Mh(e,t,n,r),o===null&&gf(e,t,r,$u,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else gf(e,t,r,null,n)}}var $u=null;function Mh(e,t,n,r){if($u=null,e=_m(r),e=Oi(e),e!==null)if(t=fo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=dE(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $u=e,null}function TE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fb()){case wm:return 1;case mE:return 4;case Mu:case hb:return 16;case gE:return 536870912;default:return 16}default:return 16}}var Br=null,Tm=null,vu=null;function xE(){if(vu)return vu;var e,t=Tm,n=t.length,r,i="value"in Br?Br.value:Br.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return vu=i.slice(e,1<r?1-r:void 0)}function yu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kl(){return!0}function ry(){return!1}function on(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Kl:ry,this.isPropagationStopped=ry,this}return Je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),t}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xm=on(_s),pl=Je({},_s,{view:0,detail:0}),Ib=on(pl),af,lf,$s,Uc=Je({},pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Im,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$s&&($s&&e.type==="mousemove"?(af=e.screenX-$s.screenX,lf=e.screenY-$s.screenY):lf=af=0,$s=e),af)},movementY:function(e){return"movementY"in e?e.movementY:lf}}),iy=on(Uc),bb=Je({},Uc,{dataTransfer:0}),Rb=on(bb),kb=Je({},pl,{relatedTarget:0}),uf=on(kb),Pb=Je({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),Ab=on(Pb),Nb=Je({},_s,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ob=on(Nb),Db=Je({},_s,{data:0}),oy=on(Db),Lb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ub(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fb[e])?!!t[e]:!1}function Im(){return Ub}var $b=Je({},pl,{key:function(e){if(e.key){var t=Lb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Im,charCode:function(e){return e.type==="keypress"?yu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jb=on($b),Bb=Je({},Uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sy=on(Bb),zb=Je({},pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Im}),Wb=on(zb),Vb=Je({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hb=on(Vb),Gb=Je({},Uc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kb=on(Gb),Yb=[9,13,27,32],bm=gr&&"CompositionEvent"in window,la=null;gr&&"documentMode"in document&&(la=document.documentMode);var qb=gr&&"TextEvent"in window&&!la,IE=gr&&(!bm||la&&8<la&&11>=la),ay=String.fromCharCode(32),ly=!1;function bE(e,t){switch(e){case"keyup":return Yb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Io=!1;function Qb(e,t){switch(e){case"compositionend":return RE(t);case"keypress":return t.which!==32?null:(ly=!0,ay);case"textInput":return e=t.data,e===ay&&ly?null:e;default:return null}}function Xb(e,t){if(Io)return e==="compositionend"||!bm&&bE(e,t)?(e=xE(),vu=Tm=Br=null,Io=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return IE&&t.locale!=="ko"?null:t.data;default:return null}}var Jb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jb[e.type]:t==="textarea"}function kE(e,t,n,r){sE(r),t=ju(t,"onChange"),0<t.length&&(n=new xm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ua=null,Oa=null;function Zb(e){jE(e,0)}function $c(e){var t=ko(e);if(Zw(t))return e}function eR(e,t){if(e==="change")return t}var PE=!1;if(gr){var cf;if(gr){var df="oninput"in document;if(!df){var cy=document.createElement("div");cy.setAttribute("oninput","return;"),df=typeof cy.oninput=="function"}cf=df}else cf=!1;PE=cf&&(!document.documentMode||9<document.documentMode)}function dy(){ua&&(ua.detachEvent("onpropertychange",AE),Oa=ua=null)}function AE(e){if(e.propertyName==="value"&&$c(Oa)){var t=[];kE(t,Oa,e,_m(e)),cE(Zb,t)}}function tR(e,t,n){e==="focusin"?(dy(),ua=t,Oa=n,ua.attachEvent("onpropertychange",AE)):e==="focusout"&&dy()}function nR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $c(Oa)}function rR(e,t){if(e==="click")return $c(t)}function iR(e,t){if(e==="input"||e==="change")return $c(t)}function oR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var On=typeof Object.is=="function"?Object.is:oR;function Da(e,t){if(On(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!yh.call(t,i)||!On(e[i],t[i]))return!1}return!0}function fy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hy(e,t){var n=fy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fy(n)}}function NE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?NE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function OE(){for(var e=window,t=Ou();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ou(e.document)}return t}function Rm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sR(e){var t=OE(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&NE(n.ownerDocument.documentElement,n)){if(r!==null&&Rm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=hy(n,o);var s=hy(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aR=gr&&"documentMode"in document&&11>=document.documentMode,bo=null,Fh=null,ca=null,Uh=!1;function py(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uh||bo==null||bo!==Ou(r)||(r=bo,"selectionStart"in r&&Rm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ca&&Da(ca,r)||(ca=r,r=ju(Fh,"onSelect"),0<r.length&&(t=new xm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=bo)))}function Yl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ro={animationend:Yl("Animation","AnimationEnd"),animationiteration:Yl("Animation","AnimationIteration"),animationstart:Yl("Animation","AnimationStart"),transitionend:Yl("Transition","TransitionEnd")},ff={},DE={};gr&&(DE=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function jc(e){if(ff[e])return ff[e];if(!Ro[e])return e;var t=Ro[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in DE)return ff[e]=t[n];return e}var LE=jc("animationend"),ME=jc("animationiteration"),FE=jc("animationstart"),UE=jc("transitionend"),$E=new Map,my="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vi(e,t){$E.set(e,t),co(t,[e])}for(var hf=0;hf<my.length;hf++){var pf=my[hf],lR=pf.toLowerCase(),uR=pf[0].toUpperCase()+pf.slice(1);vi(lR,"on"+uR)}vi(LE,"onAnimationEnd");vi(ME,"onAnimationIteration");vi(FE,"onAnimationStart");vi("dblclick","onDoubleClick");vi("focusin","onFocus");vi("focusout","onBlur");vi(UE,"onTransitionEnd");es("onMouseEnter",["mouseout","mouseover"]);es("onMouseLeave",["mouseout","mouseover"]);es("onPointerEnter",["pointerout","pointerover"]);es("onPointerLeave",["pointerout","pointerover"]);co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));co("onBeforeInput",["compositionend","keypress","textInput","paste"]);co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cR=new Set("cancel close invalid load scroll toggle".split(" ").concat(ta));function gy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,lb(r,t,void 0,e),e.currentTarget=null}function jE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;gy(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;gy(i,a,u),o=l}}}if(Lu)throw e=Oh,Lu=!1,Oh=null,e}function Be(e,t){var n=t[Wh];n===void 0&&(n=t[Wh]=new Set);var r=e+"__bubble";n.has(r)||(BE(t,e,2,!1),n.add(r))}function mf(e,t,n){var r=0;t&&(r|=4),BE(n,e,r,t)}var ql="_reactListening"+Math.random().toString(36).slice(2);function La(e){if(!e[ql]){e[ql]=!0,Yw.forEach(function(n){n!=="selectionchange"&&(cR.has(n)||mf(n,!1,e),mf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ql]||(t[ql]=!0,mf("selectionchange",!1,t))}}function BE(e,t,n,r){switch(TE(t)){case 1:var i=Tb;break;case 4:i=xb;break;default:i=Cm}n=i.bind(null,t,n,e),i=void 0,!Nh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function gf(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Oi(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}cE(function(){var u=o,c=_m(n),d=[];e:{var f=$E.get(e);if(f!==void 0){var g=xm,y=e;switch(e){case"keypress":if(yu(n)===0)break e;case"keydown":case"keyup":g=jb;break;case"focusin":y="focus",g=uf;break;case"focusout":y="blur",g=uf;break;case"beforeblur":case"afterblur":g=uf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=iy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Rb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Wb;break;case LE:case ME:case FE:g=Ab;break;case UE:g=Hb;break;case"scroll":g=Ib;break;case"wheel":g=Kb;break;case"copy":case"cut":case"paste":g=Ob;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=sy}var h=(t&4)!==0,E=!h&&e==="scroll",v=h?f!==null?f+"Capture":null:f;h=[];for(var m=u,_;m!==null;){_=m;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,v!==null&&(S=ka(m,v),S!=null&&h.push(Ma(m,S,_)))),E)break;m=m.return}0<h.length&&(f=new g(f,y,null,n,c),d.push({event:f,listeners:h}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==Ph&&(y=n.relatedTarget||n.fromElement)&&(Oi(y)||y[vr]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?Oi(y):null,y!==null&&(E=fo(y),y!==E||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(h=iy,S="onMouseLeave",v="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(h=sy,S="onPointerLeave",v="onPointerEnter",m="pointer"),E=g==null?f:ko(g),_=y==null?f:ko(y),f=new h(S,m+"leave",g,n,c),f.target=E,f.relatedTarget=_,S=null,Oi(c)===u&&(h=new h(v,m+"enter",y,n,c),h.target=_,h.relatedTarget=E,S=h),E=S,g&&y)t:{for(h=g,v=y,m=0,_=h;_;_=Eo(_))m++;for(_=0,S=v;S;S=Eo(S))_++;for(;0<m-_;)h=Eo(h),m--;for(;0<_-m;)v=Eo(v),_--;for(;m--;){if(h===v||v!==null&&h===v.alternate)break t;h=Eo(h),v=Eo(v)}h=null}else h=null;g!==null&&vy(d,f,g,h,!1),y!==null&&E!==null&&vy(d,E,y,h,!0)}}e:{if(f=u?ko(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var x=eR;else if(uy(f))if(PE)x=iR;else{x=nR;var F=tR}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=rR);if(x&&(x=x(e,u))){kE(d,x,n,c);break e}F&&F(e,f,u),e==="focusout"&&(F=f._wrapperState)&&F.controlled&&f.type==="number"&&xh(f,"number",f.value)}switch(F=u?ko(u):window,e){case"focusin":(uy(F)||F.contentEditable==="true")&&(bo=F,Fh=u,ca=null);break;case"focusout":ca=Fh=bo=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,py(d,n,c);break;case"selectionchange":if(aR)break;case"keydown":case"keyup":py(d,n,c)}var L;if(bm)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Io?bE(e,n)&&(B="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(IE&&n.locale!=="ko"&&(Io||B!=="onCompositionStart"?B==="onCompositionEnd"&&Io&&(L=xE()):(Br=c,Tm="value"in Br?Br.value:Br.textContent,Io=!0)),F=ju(u,B),0<F.length&&(B=new oy(B,e,null,n,c),d.push({event:B,listeners:F}),L?B.data=L:(L=RE(n),L!==null&&(B.data=L)))),(L=qb?Qb(e,n):Xb(e,n))&&(u=ju(u,"onBeforeInput"),0<u.length&&(c=new oy("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=L))}jE(d,t)})}function Ma(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ju(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ka(e,n),o!=null&&r.unshift(Ma(e,o,i)),o=ka(e,t),o!=null&&r.push(Ma(e,o,i))),e=e.return}return r}function Eo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vy(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ka(n,o),l!=null&&s.unshift(Ma(n,l,a))):i||(l=ka(n,o),l!=null&&s.push(Ma(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var dR=/\r\n?/g,fR=/\u0000|\uFFFD/g;function yy(e){return(typeof e=="string"?e:""+e).replace(dR,`
`).replace(fR,"")}function Ql(e,t,n){if(t=yy(t),yy(e)!==t&&n)throw Error(j(425))}function Bu(){}var $h=null,jh=null;function Bh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zh=typeof setTimeout=="function"?setTimeout:void 0,hR=typeof clearTimeout=="function"?clearTimeout:void 0,_y=typeof Promise=="function"?Promise:void 0,pR=typeof queueMicrotask=="function"?queueMicrotask:typeof _y<"u"?function(e){return _y.resolve(null).then(e).catch(mR)}:zh;function mR(e){setTimeout(function(){throw e})}function vf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Na(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Na(t)}function Gr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ws=Math.random().toString(36).slice(2),zn="__reactFiber$"+ws,Fa="__reactProps$"+ws,vr="__reactContainer$"+ws,Wh="__reactEvents$"+ws,gR="__reactListeners$"+ws,vR="__reactHandles$"+ws;function Oi(e){var t=e[zn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vr]||n[zn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wy(e);e!==null;){if(n=e[zn])return n;e=wy(e)}return t}e=n,n=e.parentNode}return null}function ml(e){return e=e[zn]||e[vr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ko(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function Bc(e){return e[Fa]||null}var Vh=[],Po=-1;function yi(e){return{current:e}}function Ve(e){0>Po||(e.current=Vh[Po],Vh[Po]=null,Po--)}function $e(e,t){Po++,Vh[Po]=e.current,e.current=t}var li={},Nt=yi(li),Ht=yi(!1),Gi=li;function ts(e,t){var n=e.type.contextTypes;if(!n)return li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Gt(e){return e=e.childContextTypes,e!=null}function zu(){Ve(Ht),Ve(Nt)}function Ey(e,t,n){if(Nt.current!==li)throw Error(j(168));$e(Nt,t),$e(Ht,n)}function zE(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(j(108,tb(e)||"Unknown",i));return Je({},n,r)}function Wu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||li,Gi=Nt.current,$e(Nt,e),$e(Ht,Ht.current),!0}function Sy(e,t,n){var r=e.stateNode;if(!r)throw Error(j(169));n?(e=zE(e,t,Gi),r.__reactInternalMemoizedMergedChildContext=e,Ve(Ht),Ve(Nt),$e(Nt,e)):Ve(Ht),$e(Ht,n)}var lr=null,zc=!1,yf=!1;function WE(e){lr===null?lr=[e]:lr.push(e)}function yR(e){zc=!0,WE(e)}function _i(){if(!yf&&lr!==null){yf=!0;var e=0,t=Ae;try{var n=lr;for(Ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}lr=null,zc=!1}catch(i){throw lr!==null&&(lr=lr.slice(e+1)),pE(wm,_i),i}finally{Ae=t,yf=!1}}return null}var Ao=[],No=0,Vu=null,Hu=0,un=[],cn=0,Ki=null,ur=1,cr="";function xi(e,t){Ao[No++]=Hu,Ao[No++]=Vu,Vu=e,Hu=t}function VE(e,t,n){un[cn++]=ur,un[cn++]=cr,un[cn++]=Ki,Ki=e;var r=ur;e=cr;var i=32-Pn(r)-1;r&=~(1<<i),n+=1;var o=32-Pn(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ur=1<<32-Pn(t)+i|n<<i|r,cr=o+e}else ur=1<<o|n<<i|r,cr=e}function km(e){e.return!==null&&(xi(e,1),VE(e,1,0))}function Pm(e){for(;e===Vu;)Vu=Ao[--No],Ao[No]=null,Hu=Ao[--No],Ao[No]=null;for(;e===Ki;)Ki=un[--cn],un[cn]=null,cr=un[--cn],un[cn]=null,ur=un[--cn],un[cn]=null}var en=null,Jt=null,Ke=!1,Cn=null;function HE(e,t){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Cy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,en=e,Jt=Gr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,en=e,Jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ki!==null?{id:ur,overflow:cr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,en=e,Jt=null,!0):!1;default:return!1}}function Hh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gh(e){if(Ke){var t=Jt;if(t){var n=t;if(!Cy(e,t)){if(Hh(e))throw Error(j(418));t=Gr(n.nextSibling);var r=en;t&&Cy(e,t)?HE(r,n):(e.flags=e.flags&-4097|2,Ke=!1,en=e)}}else{if(Hh(e))throw Error(j(418));e.flags=e.flags&-4097|2,Ke=!1,en=e}}}function Ty(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;en=e}function Xl(e){if(e!==en)return!1;if(!Ke)return Ty(e),Ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bh(e.type,e.memoizedProps)),t&&(t=Jt)){if(Hh(e))throw GE(),Error(j(418));for(;t;)HE(e,t),t=Gr(t.nextSibling)}if(Ty(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Jt=Gr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Jt=null}}else Jt=en?Gr(e.stateNode.nextSibling):null;return!0}function GE(){for(var e=Jt;e;)e=Gr(e.nextSibling)}function ns(){Jt=en=null,Ke=!1}function Am(e){Cn===null?Cn=[e]:Cn.push(e)}var _R=Cr.ReactCurrentBatchConfig;function En(e,t){if(e&&e.defaultProps){t=Je({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Gu=yi(null),Ku=null,Oo=null,Nm=null;function Om(){Nm=Oo=Ku=null}function Dm(e){var t=Gu.current;Ve(Gu),e._currentValue=t}function Kh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ho(e,t){Ku=e,Nm=Oo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wt=!0),e.firstContext=null)}function pn(e){var t=e._currentValue;if(Nm!==e)if(e={context:e,memoizedValue:t,next:null},Oo===null){if(Ku===null)throw Error(j(308));Oo=e,Ku.dependencies={lanes:0,firstContext:e}}else Oo=Oo.next=e;return t}var Di=null;function Lm(e){Di===null?Di=[e]:Di.push(e)}function KE(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Lm(t)):(n.next=i.next,i.next=n),t.interleaved=n,yr(e,r)}function yr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Nr=!1;function Mm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,yr(e,n)}return i=r.interleaved,i===null?(t.next=t,Lm(r)):(t.next=i.next,i.next=t),r.interleaved=t,yr(e,n)}function _u(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Em(e,n)}}function xy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Yu(e,t,n,r){var i=e.updateQueue;Nr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var f=a.lane,g=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,h=a;switch(f=t,g=n,h.tag){case 1:if(y=h.payload,typeof y=="function"){d=y.call(g,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=h.payload,f=typeof y=="function"?y.call(g,d,f):y,f==null)break e;d=Je({},d,f);break e;case 2:Nr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);qi|=s,e.lanes=s,e.memoizedState=d}}function Iy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var qE=new Kw.Component().refs;function Yh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Je({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wc={isMounted:function(e){return(e=e._reactInternals)?fo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$t(),i=qr(e),o=pr(r,i);o.payload=t,n!=null&&(o.callback=n),t=Kr(e,o,i),t!==null&&(An(t,e,i,r),_u(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$t(),i=qr(e),o=pr(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Kr(e,o,i),t!==null&&(An(t,e,i,r),_u(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$t(),r=qr(e),i=pr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Kr(e,i,r),t!==null&&(An(t,e,r,n),_u(t,e,r))}};function by(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Da(n,r)||!Da(i,o):!0}function QE(e,t,n){var r=!1,i=li,o=t.contextType;return typeof o=="object"&&o!==null?o=pn(o):(i=Gt(t)?Gi:Nt.current,r=t.contextTypes,o=(r=r!=null)?ts(e,i):li),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ry(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wc.enqueueReplaceState(t,t.state,null)}function qh(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=qE,Mm(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=pn(o):(o=Gt(t)?Gi:Nt.current,i.context=ts(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Yh(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Wc.enqueueReplaceState(i,i.state,null),Yu(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function js(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===qE&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,e))}return e}function Jl(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ky(e){var t=e._init;return t(e._payload)}function XE(e){function t(v,m){if(e){var _=v.deletions;_===null?(v.deletions=[m],v.flags|=16):_.push(m)}}function n(v,m){if(!e)return null;for(;m!==null;)t(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function i(v,m){return v=Qr(v,m),v.index=0,v.sibling=null,v}function o(v,m,_){return v.index=_,e?(_=v.alternate,_!==null?(_=_.index,_<m?(v.flags|=2,m):_):(v.flags|=2,m)):(v.flags|=1048576,m)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,m,_,S){return m===null||m.tag!==6?(m=xf(_,v.mode,S),m.return=v,m):(m=i(m,_),m.return=v,m)}function l(v,m,_,S){var x=_.type;return x===xo?c(v,m,_.props.children,S,_.key):m!==null&&(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ar&&ky(x)===m.type)?(S=i(m,_.props),S.ref=js(v,m,_),S.return=v,S):(S=xu(_.type,_.key,_.props,null,v.mode,S),S.ref=js(v,m,_),S.return=v,S)}function u(v,m,_,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==_.containerInfo||m.stateNode.implementation!==_.implementation?(m=If(_,v.mode,S),m.return=v,m):(m=i(m,_.children||[]),m.return=v,m)}function c(v,m,_,S,x){return m===null||m.tag!==7?(m=ji(_,v.mode,S,x),m.return=v,m):(m=i(m,_),m.return=v,m)}function d(v,m,_){if(typeof m=="string"&&m!==""||typeof m=="number")return m=xf(""+m,v.mode,_),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Bl:return _=xu(m.type,m.key,m.props,null,v.mode,_),_.ref=js(v,null,m),_.return=v,_;case To:return m=If(m,v.mode,_),m.return=v,m;case Ar:var S=m._init;return d(v,S(m._payload),_)}if(Zs(m)||Ls(m))return m=ji(m,v.mode,_,null),m.return=v,m;Jl(v,m)}return null}function f(v,m,_,S){var x=m!==null?m.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return x!==null?null:a(v,m,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Bl:return _.key===x?l(v,m,_,S):null;case To:return _.key===x?u(v,m,_,S):null;case Ar:return x=_._init,f(v,m,x(_._payload),S)}if(Zs(_)||Ls(_))return x!==null?null:c(v,m,_,S,null);Jl(v,_)}return null}function g(v,m,_,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(_)||null,a(m,v,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Bl:return v=v.get(S.key===null?_:S.key)||null,l(m,v,S,x);case To:return v=v.get(S.key===null?_:S.key)||null,u(m,v,S,x);case Ar:var F=S._init;return g(v,m,_,F(S._payload),x)}if(Zs(S)||Ls(S))return v=v.get(_)||null,c(m,v,S,x,null);Jl(m,S)}return null}function y(v,m,_,S){for(var x=null,F=null,L=m,B=m=0,se=null;L!==null&&B<_.length;B++){L.index>B?(se=L,L=null):se=L.sibling;var Q=f(v,L,_[B],S);if(Q===null){L===null&&(L=se);break}e&&L&&Q.alternate===null&&t(v,L),m=o(Q,m,B),F===null?x=Q:F.sibling=Q,F=Q,L=se}if(B===_.length)return n(v,L),Ke&&xi(v,B),x;if(L===null){for(;B<_.length;B++)L=d(v,_[B],S),L!==null&&(m=o(L,m,B),F===null?x=L:F.sibling=L,F=L);return Ke&&xi(v,B),x}for(L=r(v,L);B<_.length;B++)se=g(L,v,B,_[B],S),se!==null&&(e&&se.alternate!==null&&L.delete(se.key===null?B:se.key),m=o(se,m,B),F===null?x=se:F.sibling=se,F=se);return e&&L.forEach(function(me){return t(v,me)}),Ke&&xi(v,B),x}function h(v,m,_,S){var x=Ls(_);if(typeof x!="function")throw Error(j(150));if(_=x.call(_),_==null)throw Error(j(151));for(var F=x=null,L=m,B=m=0,se=null,Q=_.next();L!==null&&!Q.done;B++,Q=_.next()){L.index>B?(se=L,L=null):se=L.sibling;var me=f(v,L,Q.value,S);if(me===null){L===null&&(L=se);break}e&&L&&me.alternate===null&&t(v,L),m=o(me,m,B),F===null?x=me:F.sibling=me,F=me,L=se}if(Q.done)return n(v,L),Ke&&xi(v,B),x;if(L===null){for(;!Q.done;B++,Q=_.next())Q=d(v,Q.value,S),Q!==null&&(m=o(Q,m,B),F===null?x=Q:F.sibling=Q,F=Q);return Ke&&xi(v,B),x}for(L=r(v,L);!Q.done;B++,Q=_.next())Q=g(L,v,B,Q.value,S),Q!==null&&(e&&Q.alternate!==null&&L.delete(Q.key===null?B:Q.key),m=o(Q,m,B),F===null?x=Q:F.sibling=Q,F=Q);return e&&L.forEach(function(Te){return t(v,Te)}),Ke&&xi(v,B),x}function E(v,m,_,S){if(typeof _=="object"&&_!==null&&_.type===xo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Bl:e:{for(var x=_.key,F=m;F!==null;){if(F.key===x){if(x=_.type,x===xo){if(F.tag===7){n(v,F.sibling),m=i(F,_.props.children),m.return=v,v=m;break e}}else if(F.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ar&&ky(x)===F.type){n(v,F.sibling),m=i(F,_.props),m.ref=js(v,F,_),m.return=v,v=m;break e}n(v,F);break}else t(v,F);F=F.sibling}_.type===xo?(m=ji(_.props.children,v.mode,S,_.key),m.return=v,v=m):(S=xu(_.type,_.key,_.props,null,v.mode,S),S.ref=js(v,m,_),S.return=v,v=S)}return s(v);case To:e:{for(F=_.key;m!==null;){if(m.key===F)if(m.tag===4&&m.stateNode.containerInfo===_.containerInfo&&m.stateNode.implementation===_.implementation){n(v,m.sibling),m=i(m,_.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else t(v,m);m=m.sibling}m=If(_,v.mode,S),m.return=v,v=m}return s(v);case Ar:return F=_._init,E(v,m,F(_._payload),S)}if(Zs(_))return y(v,m,_,S);if(Ls(_))return h(v,m,_,S);Jl(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,m!==null&&m.tag===6?(n(v,m.sibling),m=i(m,_),m.return=v,v=m):(n(v,m),m=xf(_,v.mode,S),m.return=v,v=m),s(v)):n(v,m)}return E}var rs=XE(!0),JE=XE(!1),gl={},Kn=yi(gl),Ua=yi(gl),$a=yi(gl);function Li(e){if(e===gl)throw Error(j(174));return e}function Fm(e,t){switch($e($a,t),$e(Ua,e),$e(Kn,gl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bh(t,e)}Ve(Kn),$e(Kn,t)}function is(){Ve(Kn),Ve(Ua),Ve($a)}function ZE(e){Li($a.current);var t=Li(Kn.current),n=bh(t,e.type);t!==n&&($e(Ua,e),$e(Kn,n))}function Um(e){Ua.current===e&&(Ve(Kn),Ve(Ua))}var qe=yi(0);function qu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _f=[];function $m(){for(var e=0;e<_f.length;e++)_f[e]._workInProgressVersionPrimary=null;_f.length=0}var wu=Cr.ReactCurrentDispatcher,wf=Cr.ReactCurrentBatchConfig,Yi=0,Xe=null,ut=null,pt=null,Qu=!1,da=!1,ja=0,wR=0;function bt(){throw Error(j(321))}function jm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!On(e[n],t[n]))return!1;return!0}function Bm(e,t,n,r,i,o){if(Yi=o,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wu.current=e===null||e.memoizedState===null?TR:xR,e=n(r,i),da){o=0;do{if(da=!1,ja=0,25<=o)throw Error(j(301));o+=1,pt=ut=null,t.updateQueue=null,wu.current=IR,e=n(r,i)}while(da)}if(wu.current=Xu,t=ut!==null&&ut.next!==null,Yi=0,pt=ut=Xe=null,Qu=!1,t)throw Error(j(300));return e}function zm(){var e=ja!==0;return ja=0,e}function jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Xe.memoizedState=pt=e:pt=pt.next=e,pt}function mn(){if(ut===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=pt===null?Xe.memoizedState:pt.next;if(t!==null)pt=t,ut=e;else{if(e===null)throw Error(j(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},pt===null?Xe.memoizedState=pt=e:pt=pt.next=e}return pt}function Ba(e,t){return typeof t=="function"?t(e):t}function Ef(e){var t=mn(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=ut,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Yi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Xe.lanes|=c,qi|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,On(r,t.memoizedState)||(Wt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Xe.lanes|=o,qi|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sf(e){var t=mn(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);On(o,t.memoizedState)||(Wt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function e1(){}function t1(e,t){var n=Xe,r=mn(),i=t(),o=!On(r.memoizedState,i);if(o&&(r.memoizedState=i,Wt=!0),r=r.queue,Wm(i1.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||pt!==null&&pt.memoizedState.tag&1){if(n.flags|=2048,za(9,r1.bind(null,n,r,i,t),void 0,null),vt===null)throw Error(j(349));Yi&30||n1(n,t,i)}return i}function n1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function r1(e,t,n,r){t.value=n,t.getSnapshot=r,o1(t)&&s1(e)}function i1(e,t,n){return n(function(){o1(t)&&s1(e)})}function o1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!On(e,n)}catch{return!0}}function s1(e){var t=yr(e,1);t!==null&&An(t,e,1,-1)}function Py(e){var t=jn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:e},t.queue=e,e=e.dispatch=CR.bind(null,Xe,e),[t.memoizedState,e]}function za(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function a1(){return mn().memoizedState}function Eu(e,t,n,r){var i=jn();Xe.flags|=e,i.memoizedState=za(1|t,n,void 0,r===void 0?null:r)}function Vc(e,t,n,r){var i=mn();r=r===void 0?null:r;var o=void 0;if(ut!==null){var s=ut.memoizedState;if(o=s.destroy,r!==null&&jm(r,s.deps)){i.memoizedState=za(t,n,o,r);return}}Xe.flags|=e,i.memoizedState=za(1|t,n,o,r)}function Ay(e,t){return Eu(8390656,8,e,t)}function Wm(e,t){return Vc(2048,8,e,t)}function l1(e,t){return Vc(4,2,e,t)}function u1(e,t){return Vc(4,4,e,t)}function c1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function d1(e,t,n){return n=n!=null?n.concat([e]):null,Vc(4,4,c1.bind(null,t,e),n)}function Vm(){}function f1(e,t){var n=mn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function h1(e,t){var n=mn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function p1(e,t,n){return Yi&21?(On(n,t)||(n=vE(),Xe.lanes|=n,qi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wt=!0),e.memoizedState=n)}function ER(e,t){var n=Ae;Ae=n!==0&&4>n?n:4,e(!0);var r=wf.transition;wf.transition={};try{e(!1),t()}finally{Ae=n,wf.transition=r}}function m1(){return mn().memoizedState}function SR(e,t,n){var r=qr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},g1(e))v1(t,n);else if(n=KE(e,t,n,r),n!==null){var i=$t();An(n,e,r,i),y1(n,t,r)}}function CR(e,t,n){var r=qr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(g1(e))v1(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,On(a,s)){var l=t.interleaved;l===null?(i.next=i,Lm(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=KE(e,t,i,r),n!==null&&(i=$t(),An(n,e,r,i),y1(n,t,r))}}function g1(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function v1(e,t){da=Qu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function y1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Em(e,n)}}var Xu={readContext:pn,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},TR={readContext:pn,useCallback:function(e,t){return jn().memoizedState=[e,t===void 0?null:t],e},useContext:pn,useEffect:Ay,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Eu(4194308,4,c1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Eu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Eu(4,2,e,t)},useMemo:function(e,t){var n=jn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=jn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=SR.bind(null,Xe,e),[r.memoizedState,e]},useRef:function(e){var t=jn();return e={current:e},t.memoizedState=e},useState:Py,useDebugValue:Vm,useDeferredValue:function(e){return jn().memoizedState=e},useTransition:function(){var e=Py(!1),t=e[0];return e=ER.bind(null,e[1]),jn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xe,i=jn();if(Ke){if(n===void 0)throw Error(j(407));n=n()}else{if(n=t(),vt===null)throw Error(j(349));Yi&30||n1(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ay(i1.bind(null,r,o,e),[e]),r.flags|=2048,za(9,r1.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=jn(),t=vt.identifierPrefix;if(Ke){var n=cr,r=ur;n=(r&~(1<<32-Pn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ja++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=wR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xR={readContext:pn,useCallback:f1,useContext:pn,useEffect:Wm,useImperativeHandle:d1,useInsertionEffect:l1,useLayoutEffect:u1,useMemo:h1,useReducer:Ef,useRef:a1,useState:function(){return Ef(Ba)},useDebugValue:Vm,useDeferredValue:function(e){var t=mn();return p1(t,ut.memoizedState,e)},useTransition:function(){var e=Ef(Ba)[0],t=mn().memoizedState;return[e,t]},useMutableSource:e1,useSyncExternalStore:t1,useId:m1,unstable_isNewReconciler:!1},IR={readContext:pn,useCallback:f1,useContext:pn,useEffect:Wm,useImperativeHandle:d1,useInsertionEffect:l1,useLayoutEffect:u1,useMemo:h1,useReducer:Sf,useRef:a1,useState:function(){return Sf(Ba)},useDebugValue:Vm,useDeferredValue:function(e){var t=mn();return ut===null?t.memoizedState=e:p1(t,ut.memoizedState,e)},useTransition:function(){var e=Sf(Ba)[0],t=mn().memoizedState;return[e,t]},useMutableSource:e1,useSyncExternalStore:t1,useId:m1,unstable_isNewReconciler:!1};function os(e,t){try{var n="",r=t;do n+=eb(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Cf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Qh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var bR=typeof WeakMap=="function"?WeakMap:Map;function _1(e,t,n){n=pr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zu||(Zu=!0,sp=r),Qh(e,t)},n}function w1(e,t,n){n=pr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Qh(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Qh(e,t),typeof r!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Ny(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new bR;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=BR.bind(null,e,t,n),t.then(e,e))}function Oy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dy(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pr(-1,1),t.tag=2,Kr(n,t,1))),n.lanes|=1),e)}var RR=Cr.ReactCurrentOwner,Wt=!1;function Ft(e,t,n,r){t.child=e===null?JE(t,null,n,r):rs(t,e.child,n,r)}function Ly(e,t,n,r,i){n=n.render;var o=t.ref;return Ho(t,i),r=Bm(e,t,n,r,o,i),n=zm(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_r(e,t,i)):(Ke&&n&&km(t),t.flags|=1,Ft(e,t,r,i),t.child)}function My(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Jm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,E1(e,t,o,r,i)):(e=xu(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Da,n(s,r)&&e.ref===t.ref)return _r(e,t,i)}return t.flags|=1,e=Qr(o,r),e.ref=t.ref,e.return=t,t.child=e}function E1(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Da(o,r)&&e.ref===t.ref)if(Wt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Wt=!0);else return t.lanes=e.lanes,_r(e,t,i)}return Xh(e,t,n,r,i)}function S1(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Lo,Qt),Qt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(Lo,Qt),Qt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,$e(Lo,Qt),Qt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,$e(Lo,Qt),Qt|=r;return Ft(e,t,i,n),t.child}function C1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Xh(e,t,n,r,i){var o=Gt(n)?Gi:Nt.current;return o=ts(t,o),Ho(t,i),n=Bm(e,t,n,r,o,i),r=zm(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_r(e,t,i)):(Ke&&r&&km(t),t.flags|=1,Ft(e,t,n,i),t.child)}function Fy(e,t,n,r,i){if(Gt(n)){var o=!0;Wu(t)}else o=!1;if(Ho(t,i),t.stateNode===null)Su(e,t),QE(t,n,r),qh(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=pn(u):(u=Gt(n)?Gi:Nt.current,u=ts(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ry(t,s,r,u),Nr=!1;var f=t.memoizedState;s.state=f,Yu(t,r,s,i),l=t.memoizedState,a!==r||f!==l||Ht.current||Nr?(typeof c=="function"&&(Yh(t,n,c,r),l=t.memoizedState),(a=Nr||by(t,n,a,r,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,YE(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:En(t.type,a),s.props=u,d=t.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=pn(l):(l=Gt(n)?Gi:Nt.current,l=ts(t,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Ry(t,s,r,l),Nr=!1,f=t.memoizedState,s.state=f,Yu(t,r,s,i);var y=t.memoizedState;a!==d||f!==y||Ht.current||Nr?(typeof g=="function"&&(Yh(t,n,g,r),y=t.memoizedState),(u=Nr||by(t,n,u,r,f,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Jh(e,t,n,r,o,i)}function Jh(e,t,n,r,i,o){C1(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Sy(t,n,!1),_r(e,t,o);r=t.stateNode,RR.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=rs(t,e.child,null,o),t.child=rs(t,null,a,o)):Ft(e,t,a,o),t.memoizedState=r.state,i&&Sy(t,n,!0),t.child}function T1(e){var t=e.stateNode;t.pendingContext?Ey(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ey(e,t.context,!1),Fm(e,t.containerInfo)}function Uy(e,t,n,r,i){return ns(),Am(i),t.flags|=256,Ft(e,t,n,r),t.child}var Zh={dehydrated:null,treeContext:null,retryLane:0};function ep(e){return{baseLanes:e,cachePool:null,transitions:null}}function x1(e,t,n){var r=t.pendingProps,i=qe.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),$e(qe,i&1),e===null)return Gh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Kc(s,r,0,null),e=ji(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ep(n),t.memoizedState=Zh,e):Hm(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return kR(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Qr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Qr(a,o):(o=ji(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?ep(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Zh,r}return o=e.child,e=o.sibling,r=Qr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Hm(e,t){return t=Kc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zl(e,t,n,r){return r!==null&&Am(r),rs(t,e.child,null,n),e=Hm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kR(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Cf(Error(j(422))),Zl(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Kc({mode:"visible",children:r.children},i,0,null),o=ji(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&rs(t,e.child,null,s),t.child.memoizedState=ep(s),t.memoizedState=Zh,o);if(!(t.mode&1))return Zl(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(j(419)),r=Cf(o,r,void 0),Zl(e,t,s,r)}if(a=(s&e.childLanes)!==0,Wt||a){if(r=vt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,yr(e,i),An(r,e,i,-1))}return Xm(),r=Cf(Error(j(421))),Zl(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=zR.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Jt=Gr(i.nextSibling),en=t,Ke=!0,Cn=null,e!==null&&(un[cn++]=ur,un[cn++]=cr,un[cn++]=Ki,ur=e.id,cr=e.overflow,Ki=t),t=Hm(t,r.children),t.flags|=4096,t)}function $y(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Kh(e.return,t,n)}function Tf(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function I1(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ft(e,t,r.children,n),r=qe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$y(e,n,t);else if(e.tag===19)$y(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($e(qe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&qu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Tf(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&qu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Tf(t,!0,n,null,o);break;case"together":Tf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Su(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _r(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,n=Qr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function PR(e,t,n){switch(t.tag){case 3:T1(t),ns();break;case 5:ZE(t);break;case 1:Gt(t.type)&&Wu(t);break;case 4:Fm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;$e(Gu,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($e(qe,qe.current&1),t.flags|=128,null):n&t.child.childLanes?x1(e,t,n):($e(qe,qe.current&1),e=_r(e,t,n),e!==null?e.sibling:null);$e(qe,qe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return I1(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(qe,qe.current),r)break;return null;case 22:case 23:return t.lanes=0,S1(e,t,n)}return _r(e,t,n)}var b1,tp,R1,k1;b1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tp=function(){};R1=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Li(Kn.current);var o=null;switch(n){case"input":i=Ch(e,i),r=Ch(e,r),o=[];break;case"select":i=Je({},i,{value:void 0}),r=Je({},r,{value:void 0}),o=[];break;case"textarea":i=Ih(e,i),r=Ih(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Bu)}Rh(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ba.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ba.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Be("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};k1=function(e,t,n,r){n!==r&&(t.flags|=4)};function Bs(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function AR(e,t,n){var r=t.pendingProps;switch(Pm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return Gt(t.type)&&zu(),Rt(t),null;case 3:return r=t.stateNode,is(),Ve(Ht),Ve(Nt),$m(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Xl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cn!==null&&(up(Cn),Cn=null))),tp(e,t),Rt(t),null;case 5:Um(t);var i=Li($a.current);if(n=t.type,e!==null&&t.stateNode!=null)R1(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(j(166));return Rt(t),null}if(e=Li(Kn.current),Xl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[zn]=t,r[Fa]=o,e=(t.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(i=0;i<ta.length;i++)Be(ta[i],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Yv(r,o),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Be("invalid",r);break;case"textarea":Qv(r,o),Be("invalid",r)}Rh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ql(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ql(r.textContent,a,e),i=["children",""+a]):ba.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Be("scroll",r)}switch(n){case"input":zl(r),qv(r,o,!0);break;case"textarea":zl(r),Xv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Bu)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nE(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[zn]=t,e[Fa]=r,b1(e,t,!1,!1),t.stateNode=e;e:{switch(s=kh(n,r),n){case"dialog":Be("cancel",e),Be("close",e),i=r;break;case"iframe":case"object":case"embed":Be("load",e),i=r;break;case"video":case"audio":for(i=0;i<ta.length;i++)Be(ta[i],e);i=r;break;case"source":Be("error",e),i=r;break;case"img":case"image":case"link":Be("error",e),Be("load",e),i=r;break;case"details":Be("toggle",e),i=r;break;case"input":Yv(e,r),i=Ch(e,r),Be("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Je({},r,{value:void 0}),Be("invalid",e);break;case"textarea":Qv(e,r),i=Ih(e,r),Be("invalid",e);break;default:i=r}Rh(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?oE(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rE(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ra(e,l):typeof l=="number"&&Ra(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ba.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Be("scroll",e):l!=null&&mm(e,o,l,s))}switch(n){case"input":zl(e),qv(e,r,!1);break;case"textarea":zl(e),Xv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ai(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Bo(e,!!r.multiple,o,!1):r.defaultValue!=null&&Bo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Bu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rt(t),null;case 6:if(e&&t.stateNode!=null)k1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(j(166));if(n=Li($a.current),Li(Kn.current),Xl(t)){if(r=t.stateNode,n=t.memoizedProps,r[zn]=t,(o=r.nodeValue!==n)&&(e=en,e!==null))switch(e.tag){case 3:Ql(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ql(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zn]=t,t.stateNode=r}return Rt(t),null;case 13:if(Ve(qe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ke&&Jt!==null&&t.mode&1&&!(t.flags&128))GE(),ns(),t.flags|=98560,o=!1;else if(o=Xl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(j(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(j(317));o[zn]=t}else ns(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),o=!1}else Cn!==null&&(up(Cn),Cn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||qe.current&1?ft===0&&(ft=3):Xm())),t.updateQueue!==null&&(t.flags|=4),Rt(t),null);case 4:return is(),tp(e,t),e===null&&La(t.stateNode.containerInfo),Rt(t),null;case 10:return Dm(t.type._context),Rt(t),null;case 17:return Gt(t.type)&&zu(),Rt(t),null;case 19:if(Ve(qe),o=t.memoizedState,o===null)return Rt(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Bs(o,!1);else{if(ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=qu(e),s!==null){for(t.flags|=128,Bs(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $e(qe,qe.current&1|2),t.child}e=e.sibling}o.tail!==null&&st()>ss&&(t.flags|=128,r=!0,Bs(o,!1),t.lanes=4194304)}else{if(!r)if(e=qu(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ke)return Rt(t),null}else 2*st()-o.renderingStartTime>ss&&n!==1073741824&&(t.flags|=128,r=!0,Bs(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=st(),t.sibling=null,n=qe.current,$e(qe,r?n&1|2:n&1),t):(Rt(t),null);case 22:case 23:return Qm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Qt&1073741824&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),null;case 24:return null;case 25:return null}throw Error(j(156,t.tag))}function NR(e,t){switch(Pm(t),t.tag){case 1:return Gt(t.type)&&zu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return is(),Ve(Ht),Ve(Nt),$m(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Um(t),null;case 13:if(Ve(qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));ns()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(qe),null;case 4:return is(),null;case 10:return Dm(t.type._context),null;case 22:case 23:return Qm(),null;case 24:return null;default:return null}}var eu=!1,Pt=!1,OR=typeof WeakSet=="function"?WeakSet:Set,J=null;function Do(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(e,t,r)}else n.current=null}function np(e,t,n){try{n()}catch(r){et(e,t,r)}}var jy=!1;function DR(e,t){if($h=Uu,e=OE(),Rm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===e)break t;if(f===n&&++u===i&&(a=s),f===o&&++c===r&&(l=s),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jh={focusedElem:e,selectionRange:n},Uu=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var h=y.memoizedProps,E=y.memoizedState,v=t.stateNode,m=v.getSnapshotBeforeUpdate(t.elementType===t.type?h:En(t.type,h),E);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(S){et(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return y=jy,jy=!1,y}function fa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&np(t,n,o)}i=i.next}while(i!==r)}}function Hc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function P1(e){var t=e.alternate;t!==null&&(e.alternate=null,P1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zn],delete t[Fa],delete t[Wh],delete t[gR],delete t[vR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function A1(e){return e.tag===5||e.tag===3||e.tag===4}function By(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||A1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ip(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Bu));else if(r!==4&&(e=e.child,e!==null))for(ip(e,t,n),e=e.sibling;e!==null;)ip(e,t,n),e=e.sibling}function op(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(op(e,t,n),e=e.sibling;e!==null;)op(e,t,n),e=e.sibling}var wt=null,Sn=!1;function kr(e,t,n){for(n=n.child;n!==null;)N1(e,t,n),n=n.sibling}function N1(e,t,n){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(Fc,n)}catch{}switch(n.tag){case 5:Pt||Do(n,t);case 6:var r=wt,i=Sn;wt=null,kr(e,t,n),wt=r,Sn=i,wt!==null&&(Sn?(e=wt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):wt.removeChild(n.stateNode));break;case 18:wt!==null&&(Sn?(e=wt,n=n.stateNode,e.nodeType===8?vf(e.parentNode,n):e.nodeType===1&&vf(e,n),Na(e)):vf(wt,n.stateNode));break;case 4:r=wt,i=Sn,wt=n.stateNode.containerInfo,Sn=!0,kr(e,t,n),wt=r,Sn=i;break;case 0:case 11:case 14:case 15:if(!Pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&np(n,t,s),i=i.next}while(i!==r)}kr(e,t,n);break;case 1:if(!Pt&&(Do(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){et(n,t,a)}kr(e,t,n);break;case 21:kr(e,t,n);break;case 22:n.mode&1?(Pt=(r=Pt)||n.memoizedState!==null,kr(e,t,n),Pt=r):kr(e,t,n);break;default:kr(e,t,n)}}function zy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new OR),t.forEach(function(r){var i=WR.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _n(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:wt=a.stateNode,Sn=!1;break e;case 3:wt=a.stateNode.containerInfo,Sn=!0;break e;case 4:wt=a.stateNode.containerInfo,Sn=!0;break e}a=a.return}if(wt===null)throw Error(j(160));N1(o,s,i),wt=null,Sn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){et(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)O1(t,e),t=t.sibling}function O1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_n(t,e),$n(e),r&4){try{fa(3,e,e.return),Hc(3,e)}catch(h){et(e,e.return,h)}try{fa(5,e,e.return)}catch(h){et(e,e.return,h)}}break;case 1:_n(t,e),$n(e),r&512&&n!==null&&Do(n,n.return);break;case 5:if(_n(t,e),$n(e),r&512&&n!==null&&Do(n,n.return),e.flags&32){var i=e.stateNode;try{Ra(i,"")}catch(h){et(e,e.return,h)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&eE(i,o),kh(a,s);var u=kh(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?oE(i,d):c==="dangerouslySetInnerHTML"?rE(i,d):c==="children"?Ra(i,d):mm(i,c,d,u)}switch(a){case"input":Th(i,o);break;case"textarea":tE(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Bo(i,!!o.multiple,g,!1):f!==!!o.multiple&&(o.defaultValue!=null?Bo(i,!!o.multiple,o.defaultValue,!0):Bo(i,!!o.multiple,o.multiple?[]:"",!1))}i[Fa]=o}catch(h){et(e,e.return,h)}}break;case 6:if(_n(t,e),$n(e),r&4){if(e.stateNode===null)throw Error(j(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(h){et(e,e.return,h)}}break;case 3:if(_n(t,e),$n(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Na(t.containerInfo)}catch(h){et(e,e.return,h)}break;case 4:_n(t,e),$n(e);break;case 13:_n(t,e),$n(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Ym=st())),r&4&&zy(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Pt=(u=Pt)||c,_n(t,e),Pt=u):_n(t,e),$n(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(J=e,c=e.child;c!==null;){for(d=J=c;J!==null;){switch(f=J,g=f.child,f.tag){case 0:case 11:case 14:case 15:fa(4,f,f.return);break;case 1:Do(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(h){et(r,n,h)}}break;case 5:Do(f,f.return);break;case 22:if(f.memoizedState!==null){Vy(d);continue}}g!==null?(g.return=f,J=g):Vy(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=iE("display",s))}catch(h){et(e,e.return,h)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(h){et(e,e.return,h)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:_n(t,e),$n(e),r&4&&zy(e);break;case 21:break;default:_n(t,e),$n(e)}}function $n(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(A1(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ra(i,""),r.flags&=-33);var o=By(e);op(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=By(e);ip(e,a,s);break;default:throw Error(j(161))}}catch(l){et(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function LR(e,t,n){J=e,D1(e)}function D1(e,t,n){for(var r=(e.mode&1)!==0;J!==null;){var i=J,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||eu;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Pt;a=eu;var u=Pt;if(eu=s,(Pt=l)&&!u)for(J=i;J!==null;)s=J,l=s.child,s.tag===22&&s.memoizedState!==null?Hy(i):l!==null?(l.return=s,J=l):Hy(i);for(;o!==null;)J=o,D1(o),o=o.sibling;J=i,eu=a,Pt=u}Wy(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,J=o):Wy(e)}}function Wy(e){for(;J!==null;){var t=J;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pt||Hc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Pt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:En(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Iy(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Iy(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Na(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Pt||t.flags&512&&rp(t)}catch(f){et(t,t.return,f)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function Vy(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function Hy(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Hc(4,t)}catch(l){et(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){et(t,i,l)}}var o=t.return;try{rp(t)}catch(l){et(t,o,l)}break;case 5:var s=t.return;try{rp(t)}catch(l){et(t,s,l)}}}catch(l){et(t,t.return,l)}if(t===e){J=null;break}var a=t.sibling;if(a!==null){a.return=t.return,J=a;break}J=t.return}}var MR=Math.ceil,Ju=Cr.ReactCurrentDispatcher,Gm=Cr.ReactCurrentOwner,hn=Cr.ReactCurrentBatchConfig,be=0,vt=null,at=null,Et=0,Qt=0,Lo=yi(0),ft=0,Wa=null,qi=0,Gc=0,Km=0,ha=null,zt=null,Ym=0,ss=1/0,or=null,Zu=!1,sp=null,Yr=null,tu=!1,zr=null,ec=0,pa=0,ap=null,Cu=-1,Tu=0;function $t(){return be&6?st():Cu!==-1?Cu:Cu=st()}function qr(e){return e.mode&1?be&2&&Et!==0?Et&-Et:_R.transition!==null?(Tu===0&&(Tu=vE()),Tu):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:TE(e.type)),e):1}function An(e,t,n,r){if(50<pa)throw pa=0,ap=null,Error(j(185));hl(e,n,r),(!(be&2)||e!==vt)&&(e===vt&&(!(be&2)&&(Gc|=n),ft===4&&Dr(e,Et)),Kt(e,r),n===1&&be===0&&!(t.mode&1)&&(ss=st()+500,zc&&_i()))}function Kt(e,t){var n=e.callbackNode;_b(e,t);var r=Fu(e,e===vt?Et:0);if(r===0)n!==null&&ey(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ey(n),t===1)e.tag===0?yR(Gy.bind(null,e)):WE(Gy.bind(null,e)),pR(function(){!(be&6)&&_i()}),n=null;else{switch(yE(r)){case 1:n=wm;break;case 4:n=mE;break;case 16:n=Mu;break;case 536870912:n=gE;break;default:n=Mu}n=z1(n,L1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function L1(e,t){if(Cu=-1,Tu=0,be&6)throw Error(j(327));var n=e.callbackNode;if(Go()&&e.callbackNode!==n)return null;var r=Fu(e,e===vt?Et:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=tc(e,r);else{t=r;var i=be;be|=2;var o=F1();(vt!==e||Et!==t)&&(or=null,ss=st()+500,$i(e,t));do try{$R();break}catch(a){M1(e,a)}while(1);Om(),Ju.current=o,be=i,at!==null?t=0:(vt=null,Et=0,t=ft)}if(t!==0){if(t===2&&(i=Dh(e),i!==0&&(r=i,t=lp(e,i))),t===1)throw n=Wa,$i(e,0),Dr(e,r),Kt(e,st()),n;if(t===6)Dr(e,r);else{if(i=e.current.alternate,!(r&30)&&!FR(i)&&(t=tc(e,r),t===2&&(o=Dh(e),o!==0&&(r=o,t=lp(e,o))),t===1))throw n=Wa,$i(e,0),Dr(e,r),Kt(e,st()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(j(345));case 2:Ii(e,zt,or);break;case 3:if(Dr(e,r),(r&130023424)===r&&(t=Ym+500-st(),10<t)){if(Fu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){$t(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zh(Ii.bind(null,e,zt,or),t);break}Ii(e,zt,or);break;case 4:if(Dr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Pn(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MR(r/1960))-r,10<r){e.timeoutHandle=zh(Ii.bind(null,e,zt,or),r);break}Ii(e,zt,or);break;case 5:Ii(e,zt,or);break;default:throw Error(j(329))}}}return Kt(e,st()),e.callbackNode===n?L1.bind(null,e):null}function lp(e,t){var n=ha;return e.current.memoizedState.isDehydrated&&($i(e,t).flags|=256),e=tc(e,t),e!==2&&(t=zt,zt=n,t!==null&&up(t)),e}function up(e){zt===null?zt=e:zt.push.apply(zt,e)}function FR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!On(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dr(e,t){for(t&=~Km,t&=~Gc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pn(t),r=1<<n;e[n]=-1,t&=~r}}function Gy(e){if(be&6)throw Error(j(327));Go();var t=Fu(e,0);if(!(t&1))return Kt(e,st()),null;var n=tc(e,t);if(e.tag!==0&&n===2){var r=Dh(e);r!==0&&(t=r,n=lp(e,r))}if(n===1)throw n=Wa,$i(e,0),Dr(e,t),Kt(e,st()),n;if(n===6)throw Error(j(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ii(e,zt,or),Kt(e,st()),null}function qm(e,t){var n=be;be|=1;try{return e(t)}finally{be=n,be===0&&(ss=st()+500,zc&&_i())}}function Qi(e){zr!==null&&zr.tag===0&&!(be&6)&&Go();var t=be;be|=1;var n=hn.transition,r=Ae;try{if(hn.transition=null,Ae=1,e)return e()}finally{Ae=r,hn.transition=n,be=t,!(be&6)&&_i()}}function Qm(){Qt=Lo.current,Ve(Lo)}function $i(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hR(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch(Pm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zu();break;case 3:is(),Ve(Ht),Ve(Nt),$m();break;case 5:Um(r);break;case 4:is();break;case 13:Ve(qe);break;case 19:Ve(qe);break;case 10:Dm(r.type._context);break;case 22:case 23:Qm()}n=n.return}if(vt=e,at=e=Qr(e.current,null),Et=Qt=t,ft=0,Wa=null,Km=Gc=qi=0,zt=ha=null,Di!==null){for(t=0;t<Di.length;t++)if(n=Di[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Di=null}return e}function M1(e,t){do{var n=at;try{if(Om(),wu.current=Xu,Qu){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qu=!1}if(Yi=0,pt=ut=Xe=null,da=!1,ja=0,Gm.current=null,n===null||n.return===null){ft=1,Wa=t,at=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Oy(s);if(g!==null){g.flags&=-257,Dy(g,s,a,o,t),g.mode&1&&Ny(o,u,t),t=g,l=u;var y=t.updateQueue;if(y===null){var h=new Set;h.add(l),t.updateQueue=h}else y.add(l);break e}else{if(!(t&1)){Ny(o,u,t),Xm();break e}l=Error(j(426))}}else if(Ke&&a.mode&1){var E=Oy(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Dy(E,s,a,o,t),Am(os(l,a));break e}}o=l=os(l,a),ft!==4&&(ft=2),ha===null?ha=[o]:ha.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=_1(o,l,t);xy(o,v);break e;case 1:a=l;var m=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Yr===null||!Yr.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=w1(o,a,t);xy(o,S);break e}}o=o.return}while(o!==null)}$1(n)}catch(x){t=x,at===n&&n!==null&&(at=n=n.return);continue}break}while(1)}function F1(){var e=Ju.current;return Ju.current=Xu,e===null?Xu:e}function Xm(){(ft===0||ft===3||ft===2)&&(ft=4),vt===null||!(qi&268435455)&&!(Gc&268435455)||Dr(vt,Et)}function tc(e,t){var n=be;be|=2;var r=F1();(vt!==e||Et!==t)&&(or=null,$i(e,t));do try{UR();break}catch(i){M1(e,i)}while(1);if(Om(),be=n,Ju.current=r,at!==null)throw Error(j(261));return vt=null,Et=0,ft}function UR(){for(;at!==null;)U1(at)}function $R(){for(;at!==null&&!cb();)U1(at)}function U1(e){var t=B1(e.alternate,e,Qt);e.memoizedProps=e.pendingProps,t===null?$1(e):at=t,Gm.current=null}function $1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=NR(n,t),n!==null){n.flags&=32767,at=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ft=6,at=null;return}}else if(n=AR(n,t,Qt),n!==null){at=n;return}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);ft===0&&(ft=5)}function Ii(e,t,n){var r=Ae,i=hn.transition;try{hn.transition=null,Ae=1,jR(e,t,n,r)}finally{hn.transition=i,Ae=r}return null}function jR(e,t,n,r){do Go();while(zr!==null);if(be&6)throw Error(j(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(j(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(wb(e,o),e===vt&&(at=vt=null,Et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tu||(tu=!0,z1(Mu,function(){return Go(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=hn.transition,hn.transition=null;var s=Ae;Ae=1;var a=be;be|=4,Gm.current=null,DR(e,n),O1(n,e),sR(jh),Uu=!!$h,jh=$h=null,e.current=n,LR(n),db(),be=a,Ae=s,hn.transition=o}else e.current=n;if(tu&&(tu=!1,zr=e,ec=i),o=e.pendingLanes,o===0&&(Yr=null),pb(n.stateNode),Kt(e,st()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zu)throw Zu=!1,e=sp,sp=null,e;return ec&1&&e.tag!==0&&Go(),o=e.pendingLanes,o&1?e===ap?pa++:(pa=0,ap=e):pa=0,_i(),null}function Go(){if(zr!==null){var e=yE(ec),t=hn.transition,n=Ae;try{if(hn.transition=null,Ae=16>e?16:e,zr===null)var r=!1;else{if(e=zr,zr=null,ec=0,be&6)throw Error(j(331));var i=be;for(be|=4,J=e.current;J!==null;){var o=J,s=o.child;if(J.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(J=u;J!==null;){var c=J;switch(c.tag){case 0:case 11:case 15:fa(8,c,o)}var d=c.child;if(d!==null)d.return=c,J=d;else for(;J!==null;){c=J;var f=c.sibling,g=c.return;if(P1(c),c===u){J=null;break}if(f!==null){f.return=g,J=f;break}J=g}}}var y=o.alternate;if(y!==null){var h=y.child;if(h!==null){y.child=null;do{var E=h.sibling;h.sibling=null,h=E}while(h!==null)}}J=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,J=s;else e:for(;J!==null;){if(o=J,o.flags&2048)switch(o.tag){case 0:case 11:case 15:fa(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,J=v;break e}J=o.return}}var m=e.current;for(J=m;J!==null;){s=J;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,J=_;else e:for(s=m;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hc(9,a)}}catch(x){et(a,a.return,x)}if(a===s){J=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,J=S;break e}J=a.return}}if(be=i,_i(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(Fc,e)}catch{}r=!0}return r}finally{Ae=n,hn.transition=t}}return!1}function Ky(e,t,n){t=os(n,t),t=_1(e,t,1),e=Kr(e,t,1),t=$t(),e!==null&&(hl(e,1,t),Kt(e,t))}function et(e,t,n){if(e.tag===3)Ky(e,e,n);else for(;t!==null;){if(t.tag===3){Ky(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yr===null||!Yr.has(r))){e=os(n,e),e=w1(t,e,1),t=Kr(t,e,1),e=$t(),t!==null&&(hl(t,1,e),Kt(t,e));break}}t=t.return}}function BR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$t(),e.pingedLanes|=e.suspendedLanes&n,vt===e&&(Et&n)===n&&(ft===4||ft===3&&(Et&130023424)===Et&&500>st()-Ym?$i(e,0):Km|=n),Kt(e,t)}function j1(e,t){t===0&&(e.mode&1?(t=Hl,Hl<<=1,!(Hl&130023424)&&(Hl=4194304)):t=1);var n=$t();e=yr(e,t),e!==null&&(hl(e,t,n),Kt(e,n))}function zR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),j1(e,n)}function WR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(t),j1(e,n)}var B1;B1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ht.current)Wt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Wt=!1,PR(e,t,n);Wt=!!(e.flags&131072)}else Wt=!1,Ke&&t.flags&1048576&&VE(t,Hu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Su(e,t),e=t.pendingProps;var i=ts(t,Nt.current);Ho(t,n),i=Bm(null,t,r,e,i,n);var o=zm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Gt(r)?(o=!0,Wu(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Mm(t),i.updater=Wc,t.stateNode=i,i._reactInternals=t,qh(t,r,e,n),t=Jh(null,t,r,!0,o,n)):(t.tag=0,Ke&&o&&km(t),Ft(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Su(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=HR(r),e=En(r,e),i){case 0:t=Xh(null,t,r,e,n);break e;case 1:t=Fy(null,t,r,e,n);break e;case 11:t=Ly(null,t,r,e,n);break e;case 14:t=My(null,t,r,En(r.type,e),n);break e}throw Error(j(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:En(r,i),Xh(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:En(r,i),Fy(e,t,r,i,n);case 3:e:{if(T1(t),e===null)throw Error(j(387));r=t.pendingProps,o=t.memoizedState,i=o.element,YE(e,t),Yu(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=os(Error(j(423)),t),t=Uy(e,t,r,n,i);break e}else if(r!==i){i=os(Error(j(424)),t),t=Uy(e,t,r,n,i);break e}else for(Jt=Gr(t.stateNode.containerInfo.firstChild),en=t,Ke=!0,Cn=null,n=JE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ns(),r===i){t=_r(e,t,n);break e}Ft(e,t,r,n)}t=t.child}return t;case 5:return ZE(t),e===null&&Gh(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Bh(r,i)?s=null:o!==null&&Bh(r,o)&&(t.flags|=32),C1(e,t),Ft(e,t,s,n),t.child;case 6:return e===null&&Gh(t),null;case 13:return x1(e,t,n);case 4:return Fm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=rs(t,null,r,n):Ft(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:En(r,i),Ly(e,t,r,i,n);case 7:return Ft(e,t,t.pendingProps,n),t.child;case 8:return Ft(e,t,t.pendingProps.children,n),t.child;case 12:return Ft(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,$e(Gu,r._currentValue),r._currentValue=s,o!==null)if(On(o.value,s)){if(o.children===i.children&&!Ht.current){t=_r(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=pr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Kh(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(j(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Kh(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ft(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ho(t,n),i=pn(i),r=r(i),t.flags|=1,Ft(e,t,r,n),t.child;case 14:return r=t.type,i=En(r,t.pendingProps),i=En(r.type,i),My(e,t,r,i,n);case 15:return E1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:En(r,i),Su(e,t),t.tag=1,Gt(r)?(e=!0,Wu(t)):e=!1,Ho(t,n),QE(t,r,i),qh(t,r,i,n),Jh(null,t,r,!0,e,n);case 19:return I1(e,t,n);case 22:return S1(e,t,n)}throw Error(j(156,t.tag))};function z1(e,t){return pE(e,t)}function VR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,t,n,r){return new VR(e,t,n,r)}function Jm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function HR(e){if(typeof e=="function")return Jm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vm)return 11;if(e===ym)return 14}return 2}function Qr(e,t){var n=e.alternate;return n===null?(n=fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xu(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Jm(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case xo:return ji(n.children,i,o,t);case gm:s=8,i|=8;break;case _h:return e=fn(12,n,t,i|2),e.elementType=_h,e.lanes=o,e;case wh:return e=fn(13,n,t,i),e.elementType=wh,e.lanes=o,e;case Eh:return e=fn(19,n,t,i),e.elementType=Eh,e.lanes=o,e;case Xw:return Kc(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qw:s=10;break e;case Qw:s=9;break e;case vm:s=11;break e;case ym:s=14;break e;case Ar:s=16,r=null;break e}throw Error(j(130,e==null?e:typeof e,""))}return t=fn(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function ji(e,t,n,r){return e=fn(7,e,r,t),e.lanes=n,e}function Kc(e,t,n,r){return e=fn(22,e,r,t),e.elementType=Xw,e.lanes=n,e.stateNode={isHidden:!1},e}function xf(e,t,n){return e=fn(6,e,null,t),e.lanes=n,e}function If(e,t,n){return t=fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function GR(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sf(0),this.expirationTimes=sf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zm(e,t,n,r,i,o,s,a,l){return e=new GR(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=fn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mm(o),e}function KR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:To,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function W1(e){if(!e)return li;e=e._reactInternals;e:{if(fo(e)!==e||e.tag!==1)throw Error(j(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(j(171))}if(e.tag===1){var n=e.type;if(Gt(n))return zE(e,n,t)}return t}function V1(e,t,n,r,i,o,s,a,l){return e=Zm(n,r,!0,e,i,o,s,a,l),e.context=W1(null),n=e.current,r=$t(),i=qr(n),o=pr(r,i),o.callback=t??null,Kr(n,o,i),e.current.lanes=i,hl(e,i,r),Kt(e,r),e}function Yc(e,t,n,r){var i=t.current,o=$t(),s=qr(i);return n=W1(n),t.context===null?t.context=n:t.pendingContext=n,t=pr(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Kr(i,t,s),e!==null&&(An(e,i,s,o),_u(e,i,s)),s}function nc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function eg(e,t){Yy(e,t),(e=e.alternate)&&Yy(e,t)}function YR(){return null}var H1=typeof reportError=="function"?reportError:function(e){console.error(e)};function tg(e){this._internalRoot=e}qc.prototype.render=tg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));Yc(e,t,null,null)};qc.prototype.unmount=tg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qi(function(){Yc(null,e,null,null)}),t[vr]=null}};function qc(e){this._internalRoot=e}qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=EE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Or.length&&t!==0&&t<Or[n].priority;n++);Or.splice(n,0,e),n===0&&CE(e)}};function ng(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qy(){}function qR(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=nc(s);o.call(u)}}var s=V1(t,r,e,0,null,!1,!1,"",qy);return e._reactRootContainer=s,e[vr]=s.current,La(e.nodeType===8?e.parentNode:e),Qi(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=nc(l);a.call(u)}}var l=Zm(e,0,!1,null,null,!1,!1,"",qy);return e._reactRootContainer=l,e[vr]=l.current,La(e.nodeType===8?e.parentNode:e),Qi(function(){Yc(t,l,n,r)}),l}function Xc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=nc(s);a.call(l)}}Yc(t,s,e,i)}else s=qR(n,t,e,i,r);return nc(s)}_E=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ea(t.pendingLanes);n!==0&&(Em(t,n|1),Kt(t,st()),!(be&6)&&(ss=st()+500,_i()))}break;case 13:Qi(function(){var r=yr(e,1);if(r!==null){var i=$t();An(r,e,1,i)}}),eg(e,1)}};Sm=function(e){if(e.tag===13){var t=yr(e,134217728);if(t!==null){var n=$t();An(t,e,134217728,n)}eg(e,134217728)}};wE=function(e){if(e.tag===13){var t=qr(e),n=yr(e,t);if(n!==null){var r=$t();An(n,e,t,r)}eg(e,t)}};EE=function(){return Ae};SE=function(e,t){var n=Ae;try{return Ae=e,t()}finally{Ae=n}};Ah=function(e,t,n){switch(t){case"input":if(Th(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Bc(r);if(!i)throw Error(j(90));Zw(r),Th(r,i)}}}break;case"textarea":tE(e,n);break;case"select":t=n.value,t!=null&&Bo(e,!!n.multiple,t,!1)}};lE=qm;uE=Qi;var QR={usingClientEntryPoint:!1,Events:[ml,ko,Bc,sE,aE,qm]},zs={findFiberByHostInstance:Oi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},XR={bundleType:zs.bundleType,version:zs.version,rendererPackageName:zs.rendererPackageName,rendererConfig:zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fE(e),e===null?null:e.stateNode},findFiberByHostInstance:zs.findFiberByHostInstance||YR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{Fc=nu.inject(XR),Gn=nu}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QR;rn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ng(t))throw Error(j(200));return KR(e,t,null,n)};rn.createRoot=function(e,t){if(!ng(e))throw Error(j(299));var n=!1,r="",i=H1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Zm(e,1,!1,null,null,n,!1,r,i),e[vr]=t.current,La(e.nodeType===8?e.parentNode:e),new tg(t)};rn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=fE(t),e=e===null?null:e.stateNode,e};rn.flushSync=function(e){return Qi(e)};rn.hydrate=function(e,t,n){if(!Qc(t))throw Error(j(200));return Xc(null,e,t,!0,n)};rn.hydrateRoot=function(e,t,n){if(!ng(e))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=H1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=V1(t,null,e,1,n??null,i,!1,o,s),e[vr]=t.current,La(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new qc(t)};rn.render=function(e,t,n){if(!Qc(t))throw Error(j(200));return Xc(null,e,t,!1,n)};rn.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(j(40));return e._reactRootContainer?(Qi(function(){Xc(null,null,e,!1,function(){e._reactRootContainer=null,e[vr]=null})}),!0):!1};rn.unstable_batchedUpdates=qm;rn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(j(200));if(e==null||e._reactInternals===void 0)throw Error(j(38));return Xc(e,t,n,!1,r)};rn.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=rn})(YI);const ru=Fw(Ia);var Qy=Ia;gh.createRoot=Qy.createRoot,gh.hydrateRoot=Qy.hydrateRoot;/**
 * @remix-run/router v1.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ie.apply(this,arguments)}var ot;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ot||(ot={}));const Xy="popstate";function JR(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return Va("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:er(i)}return ek(t,n,null,e)}function pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function as(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZR(){return Math.random().toString(36).substr(2,8)}function Jy(e,t){return{usr:e.state,key:e.key,idx:t}}function Va(e,t,n,r){return n===void 0&&(n=null),Ie({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Tr(t):t,{state:n,key:t&&t.key||r||ZR()})}function er(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Tr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ek(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=ot.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Ie({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){a=ot.Pop;let E=c(),v=E==null?null:E-u;u=E,l&&l({action:a,location:h.location,delta:v})}function f(E,v){a=ot.Push;let m=Va(h.location,E,v);n&&n(m,E),u=c()+1;let _=Jy(m,u),S=h.createHref(m);try{s.pushState(_,"",S)}catch{i.location.assign(S)}o&&l&&l({action:a,location:h.location,delta:1})}function g(E,v){a=ot.Replace;let m=Va(h.location,E,v);n&&n(m,E),u=c();let _=Jy(m,u),S=h.createHref(m);s.replaceState(_,"",S),o&&l&&l({action:a,location:h.location,delta:0})}function y(E){let v=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof E=="string"?E:er(E);return pe(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let h={get action(){return a},get location(){return e(i,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Xy,d),l=E,()=>{i.removeEventListener(Xy,d),l=null}},createHref(E){return t(i,E)},createURL:y,encodeLocation(E){let v=y(E);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:g,go(E){return s.go(E)}};return h}var lt;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(lt||(lt={}));const tk=new Set(["lazy","caseSensitive","path","id","index","children"]);function nk(e){return e.index===!0}function G1(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(pe(i.index!==!0||!i.children,"Cannot specify children on an index route"),pe(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),nk(i)){let l=Ie({},i,{hasErrorBoundary:t(i),id:a});return r[a]=l,l}else{let l=Ie({},i,{id:a,hasErrorBoundary:t(i),children:void 0});return r[a]=l,i.children&&(l.children=G1(i.children,t,s,r)),l}})}function Mo(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Tr(t):t,i=vl(r.pathname||"/",n);if(i==null)return null;let o=K1(e);rk(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=fk(o[a],mk(i));return s}function K1(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(pe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Yn([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(pe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),K1(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:ck(u,o.index),routesMeta:c})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of Y1(o.path))i(o,s,l)}),t}function Y1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Y1(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function rk(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:dk(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ik=/^:\w+$/,ok=3,sk=2,ak=1,lk=10,uk=-2,Zy=e=>e==="*";function ck(e,t){let n=e.split("/"),r=n.length;return n.some(Zy)&&(r+=uk),t&&(r+=sk),n.filter(i=>!Zy(i)).reduce((i,o)=>i+(ik.test(o)?ok:o===""?ak:lk),r)}function dk(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function fk(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=hk({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;o.push({params:r,pathname:Yn([i,c.pathname]),pathnameBase:_k(Yn([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Yn([i,c.pathnameBase]))}return o}function hk(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=pk(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=a[d]||"";s=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=gk(a[d]||"",c),u},{}),pathname:o,pathnameBase:s,pattern:e}}function pk(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),as(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function mk(e){try{return decodeURI(e)}catch(t){return as(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function gk(e,t){try{return decodeURIComponent(e)}catch(n){return as(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function vl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function vk(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Tr(e):e;return{pathname:n?n.startsWith("/")?n:yk(n,t):t,search:wk(r),hash:Ek(i)}}function yk(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Jc(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function rg(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Tr(e):(i=Ie({},e),pe(!i.pathname||!i.pathname.includes("?"),bf("?","pathname","search",i)),pe(!i.pathname||!i.pathname.includes("#"),bf("#","pathname","hash",i)),pe(!i.search||!i.search.includes("#"),bf("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let d=t.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=vk(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Yn=e=>e.join("/").replace(/\/\/+/g,"/"),_k=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wk=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ek=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class e_ extends Error{}class Sk{constructor(t,n){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],pe(t&&typeof t=="object"&&!Array.isArray(t),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((o,s)=>r=s),this.controller=new AbortController;let i=()=>r(new e_("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(t).reduce((o,s)=>{let[a,l]=s;return Object.assign(o,{[a]:this.trackPromise(a,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=n}trackPromise(t,n){if(!(n instanceof Promise))return n;this.deferredKeys.push(t),this.pendingKeysSet.add(t);let r=Promise.race([n,this.abortPromise]).then(i=>this.onSettle(r,t,null,i),i=>this.onSettle(r,t,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(t,n,r,i){return this.controller.signal.aborted&&r instanceof e_?(this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>r}),Promise.reject(r)):(this.pendingKeysSet.delete(n),this.done&&this.unlistenAbortSignal(),r?(Object.defineProperty(t,"_error",{get:()=>r}),this.emit(!1,n),Promise.reject(r)):(Object.defineProperty(t,"_data",{get:()=>i}),this.emit(!1,n),i))}emit(t,n){this.subscribers.forEach(r=>r(t,n))}subscribe(t){return this.subscribers.add(t),()=>this.subscribers.delete(t)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((t,n)=>this.pendingKeysSet.delete(n)),this.emit(!0)}async resolveData(t){let n=!1;if(!this.done){let r=()=>this.cancel();t.addEventListener("abort",r),n=await new Promise(i=>{this.subscribe(o=>{t.removeEventListener("abort",r),(o||this.done)&&i(o)})})}return n}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return pe(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((t,n)=>{let[r,i]=n;return Object.assign(t,{[r]:Tk(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function Ck(e){return e instanceof Promise&&e._tracked===!0}function Tk(e){if(!Ck(e))return e;if(e._error)throw e._error;return e._data}class ig{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function og(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const q1=["post","put","patch","delete"],xk=new Set(q1),Ik=["get",...q1],bk=new Set(Ik),Rk=new Set([301,302,303,307,308]),kk=new Set([307,308]),Rf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Pk={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},t_={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Q1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ak=!X1,Nk=e=>Boolean(e.hasErrorBoundary);function Ok(e){pe(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=e.detectErrorBoundary||Nk,n={},r=G1(e.routes,t,void 0,n),i,o=null,s=new Set,a=null,l=null,u=null,c=e.hydrationData!=null,d=Mo(r,e.history.location,e.basename),f=null;if(d==null){let A=Bn(404,{pathname:e.history.location.pathname}),{matches:D,route:$}=a_(r);d=D,f={[$.id]:A}}let g=!d.some(A=>A.route.lazy)&&(!d.some(A=>A.route.loader)||e.hydrationData!=null),y,h={historyAction:e.history.action,location:e.history.location,matches:d,initialized:g,navigation:Rf,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||f,fetchers:new Map,blockers:new Map},E=ot.Pop,v=!1,m,_=!1,S=!1,x=[],F=[],L=new Map,B=0,se=-1,Q=new Map,me=new Set,Te=new Map,Pe=new Map,Me=new Map,He=!1;function Ct(){if(o=e.history.listen($=>{let{action:ne,location:re,delta:ue}=$;if(He){He=!1;return}as(Me.size===0||ue!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=ee({currentLocation:h.location,nextLocation:re,historyAction:ne});if(le&&ue!=null){He=!0,e.history.go(ue*-1),Y(le,{state:"blocked",location:re,proceed(){Y(le,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),e.history.go(ue)},reset(){R(le),q({blockers:new Map(y.state.blockers)})}});return}return p(ne,re)}),h.initialized)return y;let A=h.matches.filter($=>$.route.lazy);if(A.length===0)return p(ot.Pop,h.location),y;let D=A.map($=>cp($.route,t,n));return Promise.all(D).then(()=>{!h.matches.some(ne=>ne.route.loader)||e.hydrationData!=null?q({initialized:!0}):p(ot.Pop,h.location)}),y}function Ze(){o&&o(),s.clear(),m&&m.abort(),h.fetchers.forEach((A,D)=>b(D)),h.blockers.forEach((A,D)=>R(D))}function H(A){return s.add(A),()=>s.delete(A)}function q(A){h=Ie({},h,A),s.forEach(D=>D(h))}function te(A,D){var $,ne;let re=h.actionData!=null&&h.navigation.formMethod!=null&&sr(h.navigation.formMethod)&&h.navigation.state==="loading"&&(($=A.state)==null?void 0:$._isRedirect)!==!0,ue;D.actionData?Object.keys(D.actionData).length>0?ue=D.actionData:ue=null:re?ue=h.actionData:ue=null;let le=D.loaderData?s_(h.loaderData,D.loaderData,D.matches||[],D.errors):h.loaderData;for(let[oe]of Me)R(oe);let ve=v===!0||h.navigation.formMethod!=null&&sr(h.navigation.formMethod)&&((ne=A.state)==null?void 0:ne._isRedirect)!==!0;i&&(r=i,i=void 0),q(Ie({},D,{actionData:ue,loaderData:le,historyAction:E,location:A,initialized:!0,navigation:Rf,revalidation:"idle",restoreScrollPosition:je(A,D.matches||h.matches),preventScrollReset:ve,blockers:new Map(h.blockers)})),_||E===ot.Pop||(E===ot.Push?e.history.push(A,A.state):E===ot.Replace&&e.history.replace(A,A.state)),E=ot.Pop,v=!1,_=!1,S=!1,x=[],F=[]}async function Ce(A,D){if(typeof A=="number"){e.history.go(A);return}let{path:$,submission:ne,error:re}=n_(A,D),ue=h.location,le=Va(h.location,$,D&&D.state);le=Ie({},le,e.history.encodeLocation(le));let ve=D&&D.replace!=null?D.replace:void 0,oe=ot.Push;ve===!0?oe=ot.Replace:ve===!1||ne!=null&&sr(ne.formMethod)&&ne.formAction===h.location.pathname+h.location.search&&(oe=ot.Replace);let xt=D&&"preventScrollReset"in D?D.preventScrollReset===!0:void 0,ke=ee({currentLocation:ue,nextLocation:le,historyAction:oe});if(ke){Y(ke,{state:"blocked",location:le,proceed(){Y(ke,{state:"proceeding",proceed:void 0,reset:void 0,location:le}),Ce(A,D)},reset(){R(ke),q({blockers:new Map(h.blockers)})}});return}return await p(oe,le,{submission:ne,pendingError:re,preventScrollReset:xt,replace:D&&D.replace})}function W(){if(M(),q({revalidation:"loading"}),h.navigation.state!=="submitting"){if(h.navigation.state==="idle"){p(h.historyAction,h.location,{startUninterruptedRevalidation:!0});return}p(E||h.historyAction,h.navigation.location,{overrideNavigation:h.navigation})}}async function p(A,D,$){m&&m.abort(),m=null,E=A,_=($&&$.startUninterruptedRevalidation)===!0,ae(h.location,h.matches),v=($&&$.preventScrollReset)===!0;let ne=i||r,re=$&&$.overrideNavigation,ue=Mo(ne,D,e.basename);if(!ue){let it=Bn(404,{pathname:D.pathname}),{matches:Fn,route:yn}=a_(ne);X(),te(D,{matches:Fn,loaderData:{},errors:{[yn.id]:it}});return}if(Uk(h.location,D)&&!($&&$.submission&&sr($.submission.formMethod))){te(D,{matches:ue});return}m=new AbortController;let le=Vs(e.history,D,m.signal,$&&$.submission),ve,oe;if($&&$.pendingError)oe={[Fo(ue).route.id]:$.pendingError};else if($&&$.submission&&sr($.submission.formMethod)){let it=await U(le,D,$.submission,ue,{replace:$.replace});if(it.shortCircuited)return;ve=it.pendingActionData,oe=it.pendingActionError,re=Ie({state:"loading",location:D},$.submission),le=new Request(le.url,{signal:le.signal})}let{shortCircuited:xt,loaderData:ke,errors:Lt}=await ie(le,D,ue,re,$&&$.submission,$&&$.replace,ve,oe);xt||(m=null,te(D,Ie({matches:ue},ve?{actionData:ve}:{},{loaderData:ke,errors:Lt})))}async function U(A,D,$,ne,re){M();let ue=Ie({state:"submitting",location:D},$);q({navigation:ue});let le,ve=dp(ne,D);if(!ve.route.action&&!ve.route.lazy)le={type:lt.error,error:Bn(405,{method:A.method,pathname:D.pathname,routeId:ve.route.id})};else if(le=await Ws("action",A,ve,ne,n,t,y.basename),A.signal.aborted)return{shortCircuited:!0};if(Ko(le)){let oe;return re&&re.replace!=null?oe=re.replace:oe=le.location===h.location.pathname+h.location.search,await T(h,le,{submission:$,replace:oe}),{shortCircuited:!0}}if(ma(le)){let oe=Fo(ne,ve.route.id);return(re&&re.replace)!==!0&&(E=ot.Push),{pendingActionData:{},pendingActionError:{[oe.route.id]:le.error}}}if(Mi(le))throw Bn(400,{type:"defer-action"});return{pendingActionData:{[ve.route.id]:le.data}}}async function ie(A,D,$,ne,re,ue,le,ve){let oe=ne;oe||(oe=Ie({state:"loading",location:D,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},re));let xt=re||(oe.formMethod&&oe.formAction&&oe.formData&&oe.formEncType?{formMethod:oe.formMethod,formAction:oe.formAction,formData:oe.formData,formEncType:oe.formEncType}:void 0),ke=i||r,[Lt,it]=r_(e.history,h,$,xt,D,S,x,F,Te,ke,e.basename,le,ve);if(X(It=>!($&&$.some(Un=>Un.route.id===It))||Lt&&Lt.some(Un=>Un.route.id===It)),Lt.length===0&&it.length===0)return te(D,Ie({matches:$,loaderData:{},errors:ve||null},le?{actionData:le}:{})),{shortCircuited:!0};if(!_){it.forEach(Un=>{let Ci=h.fetchers.get(Un.key),$l={state:"loading",data:Ci&&Ci.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};h.fetchers.set(Un.key,$l)});let It=le||h.actionData;q(Ie({navigation:oe},It?Object.keys(It).length===0?{actionData:null}:{actionData:It}:{},it.length>0?{fetchers:new Map(h.fetchers)}:{}))}se=++B,it.forEach(It=>L.set(It.key,m));let{results:Fn,loaderResults:yn,fetcherResults:Ds}=await O(h.matches,$,Lt,it,A);if(A.signal.aborted)return{shortCircuited:!0};it.forEach(It=>L.delete(It.key));let Fl=l_(Fn);if(Fl)return await T(h,Fl,{replace:ue}),{shortCircuited:!0};let{loaderData:Ul,errors:wo}=o_(h,$,Lt,yn,ve,it,Ds,Pe);Pe.forEach((It,Un)=>{It.subscribe(Ci=>{(Ci||It.done)&&Pe.delete(Un)})}),de();let Xd=xe(se);return Ie({loaderData:Ul,errors:wo},Xd||it.length>0?{fetchers:new Map(h.fetchers)}:{})}function k(A){return h.fetchers.get(A)||Pk}function w(A,D,$,ne){if(Ak)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");L.has(A)&&K(A);let ue=Mo(i||r,$,e.basename);if(!ue){G(A,D,Bn(404,{pathname:$}));return}let{path:le,submission:ve}=n_($,ne,!0),oe=dp(ue,le);if(v=(ne&&ne.preventScrollReset)===!0,ve&&sr(ve.formMethod)){C(A,D,le,oe,ue,ve);return}Te.set(A,{routeId:D,path:le}),I(A,D,le,oe,ue,ve)}async function C(A,D,$,ne,re,ue){if(M(),Te.delete(A),!ne.route.action&&!ne.route.lazy){let ir=Bn(405,{method:ue.formMethod,pathname:$,routeId:D});G(A,D,ir);return}let le=h.fetchers.get(A),ve=Ie({state:"submitting"},ue,{data:le&&le.data," _hasFetcherDoneAnything ":!0});h.fetchers.set(A,ve),q({fetchers:new Map(h.fetchers)});let oe=new AbortController,xt=Vs(e.history,$,oe.signal,ue);L.set(A,oe);let ke=await Ws("action",xt,ne,re,n,t,y.basename);if(xt.signal.aborted){L.get(A)===oe&&L.delete(A);return}if(Ko(ke)){L.delete(A),me.add(A);let ir=Ie({state:"loading"},ue,{data:void 0," _hasFetcherDoneAnything ":!0});return h.fetchers.set(A,ir),q({fetchers:new Map(h.fetchers)}),T(h,ke,{isFetchActionRedirect:!0})}if(ma(ke)){G(A,D,ke.error);return}if(Mi(ke))throw Bn(400,{type:"defer-action"});let Lt=h.navigation.location||h.location,it=Vs(e.history,Lt,oe.signal),Fn=i||r,yn=h.navigation.state!=="idle"?Mo(Fn,h.navigation.location,e.basename):h.matches;pe(yn,"Didn't find any matches after fetcher action");let Ds=++B;Q.set(A,Ds);let Fl=Ie({state:"loading",data:ke.data},ue,{" _hasFetcherDoneAnything ":!0});h.fetchers.set(A,Fl);let[Ul,wo]=r_(e.history,h,yn,ue,Lt,S,x,F,Te,Fn,e.basename,{[ne.route.id]:ke.data},void 0);wo.filter(ir=>ir.key!==A).forEach(ir=>{let Zd=ir.key,Bv=h.fetchers.get(Zd),SI={state:"loading",data:Bv&&Bv.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};h.fetchers.set(Zd,SI),L.set(Zd,oe)}),q({fetchers:new Map(h.fetchers)});let{results:Xd,loaderResults:It,fetcherResults:Un}=await O(h.matches,yn,Ul,wo,it);if(oe.signal.aborted)return;Q.delete(A),L.delete(A),wo.forEach(ir=>L.delete(ir.key));let Ci=l_(Xd);if(Ci)return T(h,Ci);let{loaderData:$l,errors:Jd}=o_(h,h.matches,Ul,It,void 0,wo,Un,Pe),wI={state:"idle",data:ke.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};h.fetchers.set(A,wI);let EI=xe(Ds);h.navigation.state==="loading"&&Ds>se?(pe(E,"Expected pending action"),m&&m.abort(),te(h.navigation.location,{matches:yn,loaderData:$l,errors:Jd,fetchers:new Map(h.fetchers)})):(q(Ie({errors:Jd,loaderData:s_(h.loaderData,$l,yn,Jd)},EI?{fetchers:new Map(h.fetchers)}:{})),S=!1)}async function I(A,D,$,ne,re,ue){let le=h.fetchers.get(A),ve=Ie({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ue,{data:le&&le.data," _hasFetcherDoneAnything ":!0});h.fetchers.set(A,ve),q({fetchers:new Map(h.fetchers)});let oe=new AbortController,xt=Vs(e.history,$,oe.signal);L.set(A,oe);let ke=await Ws("loader",xt,ne,re,n,t,y.basename);if(Mi(ke)&&(ke=await tS(ke,xt.signal,!0)||ke),L.get(A)===oe&&L.delete(A),xt.signal.aborted)return;if(Ko(ke)){await T(h,ke);return}if(ma(ke)){let it=Fo(h.matches,D);h.fetchers.delete(A),q({fetchers:new Map(h.fetchers),errors:{[it.route.id]:ke.error}});return}pe(!Mi(ke),"Unhandled fetcher deferred data");let Lt={state:"idle",data:ke.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};h.fetchers.set(A,Lt),q({fetchers:new Map(h.fetchers)})}async function T(A,D,$){var ne;let{submission:re,replace:ue,isFetchActionRedirect:le}=$===void 0?{}:$;D.revalidate&&(S=!0);let ve=Va(A.location,D.location,Ie({_isRedirect:!0},le?{_isFetchActionRedirect:!0}:{}));if(pe(ve,"Expected a location on the redirect navigation"),Q1.test(D.location)&&X1&&typeof((ne=window)==null?void 0:ne.location)<"u"){let Fn=e.history.createURL(D.location),yn=vl(Fn.pathname,e.basename||"/")==null;if(window.location.origin!==Fn.origin||yn){ue?window.location.replace(D.location):window.location.assign(D.location);return}}m=null;let oe=ue===!0?ot.Replace:ot.Push,{formMethod:xt,formAction:ke,formEncType:Lt,formData:it}=A.navigation;!re&&xt&&ke&&it&&Lt&&(re={formMethod:xt,formAction:ke,formEncType:Lt,formData:it}),kk.has(D.status)&&re&&sr(re.formMethod)?await p(oe,ve,{submission:Ie({},re,{formAction:D.location}),preventScrollReset:v}):await p(oe,ve,{overrideNavigation:{state:"loading",location:ve,formMethod:re?re.formMethod:void 0,formAction:re?re.formAction:void 0,formEncType:re?re.formEncType:void 0,formData:re?re.formData:void 0},preventScrollReset:v})}async function O(A,D,$,ne,re){let ue=await Promise.all([...$.map(oe=>Ws("loader",re,oe,D,n,t,y.basename)),...ne.map(oe=>oe.matches&&oe.match?Ws("loader",Vs(e.history,oe.path,re.signal),oe.match,oe.matches,n,t,y.basename):{type:lt.error,error:Bn(404,{pathname:oe.path})})]),le=ue.slice(0,$.length),ve=ue.slice($.length);return await Promise.all([u_(A,$,le,re.signal,!1,h.loaderData),u_(A,ne.map(oe=>oe.match),ve,re.signal,!0)]),{results:ue,loaderResults:le,fetcherResults:ve}}function M(){S=!0,x.push(...X()),Te.forEach((A,D)=>{L.has(D)&&(F.push(D),K(D))})}function G(A,D,$){let ne=Fo(h.matches,D);b(A),q({errors:{[ne.route.id]:$},fetchers:new Map(h.fetchers)})}function b(A){L.has(A)&&K(A),Te.delete(A),Q.delete(A),me.delete(A),h.fetchers.delete(A)}function K(A){let D=L.get(A);pe(D,"Expected fetch controller: "+A),D.abort(),L.delete(A)}function ge(A){for(let D of A){let ne={state:"idle",data:k(D).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};h.fetchers.set(D,ne)}}function de(){let A=[];for(let D of me){let $=h.fetchers.get(D);pe($,"Expected fetcher: "+D),$.state==="loading"&&(me.delete(D),A.push(D))}ge(A)}function xe(A){let D=[];for(let[$,ne]of Q)if(ne<A){let re=h.fetchers.get($);pe(re,"Expected fetcher: "+$),re.state==="loading"&&(K($),Q.delete($),D.push($))}return ge(D),D.length>0}function Tt(A,D){let $=h.blockers.get(A)||t_;return Me.get(A)!==D&&Me.set(A,D),$}function R(A){h.blockers.delete(A),Me.delete(A)}function Y(A,D){let $=h.blockers.get(A)||t_;pe($.state==="unblocked"&&D.state==="blocked"||$.state==="blocked"&&D.state==="blocked"||$.state==="blocked"&&D.state==="proceeding"||$.state==="blocked"&&D.state==="unblocked"||$.state==="proceeding"&&D.state==="unblocked","Invalid blocker state transition: "+$.state+" -> "+D.state),h.blockers.set(A,D),q({blockers:new Map(h.blockers)})}function ee(A){let{currentLocation:D,nextLocation:$,historyAction:ne}=A;if(Me.size===0)return;Me.size>1&&as(!1,"A router only supports one blocker at a time");let re=Array.from(Me.entries()),[ue,le]=re[re.length-1],ve=h.blockers.get(ue);if(!(ve&&ve.state==="proceeding")&&le({currentLocation:D,nextLocation:$,historyAction:ne}))return ue}function X(A){let D=[];return Pe.forEach(($,ne)=>{(!A||A(ne))&&($.cancel(),D.push(ne),Pe.delete(ne))}),D}function V(A,D,$){if(a=A,u=D,l=$||(ne=>ne.key),!c&&h.navigation===Rf){c=!0;let ne=je(h.location,h.matches);ne!=null&&q({restoreScrollPosition:ne})}return()=>{a=null,u=null,l=null}}function ae(A,D){if(a&&l&&u){let $=D.map(re=>c_(re,h.loaderData)),ne=l(A,$)||A.key;a[ne]=u()}}function je(A,D){if(a&&l&&u){let $=D.map(ue=>c_(ue,h.loaderData)),ne=l(A,$)||A.key,re=a[ne];if(typeof re=="number")return re}return null}function Dt(A){i=A}return y={get basename(){return e.basename},get state(){return h},get routes(){return r},initialize:Ct,subscribe:H,enableScrollRestoration:V,navigate:Ce,fetch:w,revalidate:W,createHref:A=>e.history.createHref(A),encodeLocation:A=>e.history.encodeLocation(A),getFetcher:k,deleteFetcher:b,dispose:Ze,getBlocker:Tt,deleteBlocker:R,_internalFetchControllers:L,_internalActiveDeferreds:Pe,_internalSetRoutes:Dt},y}function Dk(e){return e!=null&&"formData"in e}function n_(e,t,n){n===void 0&&(n=!1);let r=typeof e=="string"?e:er(e);if(!t||!Dk(t))return{path:r};if(t.formMethod&&!jk(t.formMethod))return{path:r,error:Bn(405,{method:t.formMethod})};let i;if(t.formData&&(i={formMethod:t.formMethod||"get",formAction:eS(r),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData},sr(i.formMethod)))return{path:r,submission:i};let o=Tr(r),s=Z1(t.formData);return n&&o.search&&nS(o.search)&&s.append("index",""),o.search="?"+s,{path:er(o),submission:i}}function Lk(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function r_(e,t,n,r,i,o,s,a,l,u,c,d,f){let g=f?Object.values(f)[0]:d?Object.values(d)[0]:void 0,y=e.createURL(t.location),h=e.createURL(i),E=o||y.toString()===h.toString()||y.search!==h.search,v=f?Object.keys(f)[0]:void 0,_=Lk(n,v).filter((x,F)=>{if(x.route.lazy)return!0;if(x.route.loader==null)return!1;if(Mk(t.loaderData,t.matches[F],x)||s.some(se=>se===x.route.id))return!0;let L=t.matches[F],B=x;return i_(x,Ie({currentUrl:y,currentParams:L.params,nextUrl:h,nextParams:B.params},r,{actionResult:g,defaultShouldRevalidate:E||J1(L,B)}))}),S=[];return l.forEach((x,F)=>{if(!n.some(Q=>Q.route.id===x.routeId))return;let L=Mo(u,x.path,c);if(!L){S.push(Ie({key:F},x,{matches:null,match:null}));return}let B=dp(L,x.path);if(a.includes(F)){S.push(Ie({key:F,matches:L,match:B},x));return}i_(B,Ie({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:h,nextParams:n[n.length-1].params},r,{actionResult:g,defaultShouldRevalidate:E}))&&S.push(Ie({key:F,matches:L,match:B},x))}),[_,S]}function Mk(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function J1(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function i_(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function cp(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];pe(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";as(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!tk.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,{hasErrorBoundary:t(Ie({},i)),lazy:void 0})}async function Ws(e,t,n,r,i,o,s,a,l,u){s===void 0&&(s="/"),a===void 0&&(a=!1),l===void 0&&(l=!1);let c,d,f,g=E=>{let v,m=new Promise((_,S)=>v=S);return f=()=>v(),t.signal.addEventListener("abort",f),Promise.race([E({request:t,params:n.params,context:u}),m])};try{let E=n.route[e];if(n.route.lazy)if(E)d=(await Promise.all([g(E),cp(n.route,o,i)]))[0];else if(await cp(n.route,o,i),E=n.route[e],E)d=await g(E);else{if(e==="action")throw Bn(405,{method:t.method,pathname:new URL(t.url).pathname,routeId:n.route.id});return{type:lt.data,data:void 0}}else pe(E,"Could not find the "+e+' to run on the "'+n.route.id+'" route'),d=await g(E);pe(d!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(E){c=lt.error,d=E}finally{f&&t.signal.removeEventListener("abort",f)}if($k(d)){let E=d.status;if(Rk.has(E)){let _=d.headers.get("Location");if(pe(_,"Redirects returned/thrown from loaders/actions must have a Location header"),Q1.test(_)){if(!a){let S=new URL(t.url),x=_.startsWith("//")?new URL(S.protocol+_):new URL(_),F=vl(x.pathname,s)!=null;x.origin===S.origin&&F&&(_=x.pathname+x.search+x.hash)}}else{let S=r.slice(0,r.indexOf(n)+1),x=Jc(S).map(L=>L.pathnameBase),F=rg(_,x,new URL(t.url).pathname);if(pe(er(F),"Unable to resolve redirect location: "+_),s){let L=F.pathname;F.pathname=L==="/"?s:Yn([s,L])}_=er(F)}if(a)throw d.headers.set("Location",_),d;return{type:lt.redirect,status:E,location:_,revalidate:d.headers.get("X-Remix-Revalidate")!==null}}if(l)throw{type:c||lt.data,response:d};let v,m=d.headers.get("Content-Type");return m&&/\bapplication\/json\b/.test(m)?v=await d.json():v=await d.text(),c===lt.error?{type:c,error:new ig(E,d.statusText,v),headers:d.headers}:{type:lt.data,data:v,statusCode:d.status,headers:d.headers}}if(c===lt.error)return{type:c,error:d};if(d instanceof Sk){var y,h;return{type:lt.deferred,deferredData:d,statusCode:(y=d.init)==null?void 0:y.status,headers:((h=d.init)==null?void 0:h.headers)&&new Headers(d.init.headers)}}return{type:lt.data,data:d}}function Vs(e,t,n,r){let i=e.createURL(eS(t)).toString(),o={signal:n};if(r&&sr(r.formMethod)){let{formMethod:s,formEncType:a,formData:l}=r;o.method=s.toUpperCase(),o.body=a==="application/x-www-form-urlencoded"?Z1(l):l}return new Request(i,o)}function Z1(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,r instanceof File?r.name:r);return t}function Fk(e,t,n,r,i){let o={},s=null,a,l=!1,u={};return n.forEach((c,d)=>{let f=t[d].route.id;if(pe(!Ko(c),"Cannot handle redirect results in processLoaderData"),ma(c)){let g=Fo(e,f),y=c.error;r&&(y=Object.values(r)[0],r=void 0),s=s||{},s[g.route.id]==null&&(s[g.route.id]=y),o[f]=void 0,l||(l=!0,a=og(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else Mi(c)?(i.set(f,c.deferredData),o[f]=c.deferredData.data):o[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[f]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function o_(e,t,n,r,i,o,s,a){let{loaderData:l,errors:u}=Fk(t,n,r,i,a);for(let c=0;c<o.length;c++){let{key:d,match:f}=o[c];pe(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let g=s[c];if(ma(g)){let y=Fo(e.matches,f==null?void 0:f.route.id);u&&u[y.route.id]||(u=Ie({},u,{[y.route.id]:g.error})),e.fetchers.delete(d)}else if(Ko(g))pe(!1,"Unhandled fetcher revalidation redirect");else if(Mi(g))pe(!1,"Unhandled fetcher deferred data");else{let y={state:"idle",data:g.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(d,y)}}return{loaderData:l,errors:u}}function s_(e,t,n,r){let i=Ie({},t);for(let o of n){let s=o.route.id;if(t.hasOwnProperty(s)?t[s]!==void 0&&(i[s]=t[s]):e[s]!==void 0&&o.route.loader&&(i[s]=e[s]),r&&r.hasOwnProperty(s))break}return i}function Fo(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function a_(e){let t=e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Bn(e,t){let{pathname:n,routeId:r,method:i,type:o}=t===void 0?{}:t,s="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"&&(a="defer() is not supported in actions")):e===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):e===404?(s="Not Found",a='No route matches URL "'+n+'"'):e===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new ig(e||500,s,new Error(a),!0)}function l_(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Ko(n))return n}}function eS(e){let t=typeof e=="string"?Tr(e):e;return er(Ie({},t,{hash:""}))}function Uk(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function Mi(e){return e.type===lt.deferred}function ma(e){return e.type===lt.error}function Ko(e){return(e&&e.type)===lt.redirect}function $k(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function jk(e){return bk.has(e)}function sr(e){return xk.has(e)}async function u_(e,t,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=t[s];if(!l)continue;let u=e.find(d=>d.route.id===l.route.id),c=u!=null&&!J1(u,l)&&(o&&o[l.route.id])!==void 0;Mi(a)&&(i||c)&&await tS(a,r,i).then(d=>{d&&(n[s]=d||n[s])})}}async function tS(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:lt.data,data:e.deferredData.unwrappedData}}catch(i){return{type:lt.error,error:i}}return{type:lt.data,data:e.deferredData.data}}}function nS(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function c_(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function dp(e,t){let n=typeof t=="string"?Tr(t).search:t.search;if(e[e.length-1].route.index&&nS(n||""))return e[e.length-1];let r=Jc(e);return r[r.length-1]}/**
 * React Router v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const zk=typeof Object.is=="function"?Object.is:Bk,{useState:Wk,useEffect:Vk,useLayoutEffect:Hk,useDebugValue:Gk}=mh;function Kk(e,t,n){const r=t(),[{inst:i},o]=Wk({inst:{value:r,getSnapshot:t}});return Hk(()=>{i.value=r,i.getSnapshot=t,kf(i)&&o({inst:i})},[e,r,t]),Vk(()=>(kf(i)&&o({inst:i}),e(()=>{kf(i)&&o({inst:i})})),[e]),Gk(r),r}function kf(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!zk(n,r)}catch{return!0}}function Yk(e,t,n){return t()}const qk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qk=!qk,Xk=Qk?Yk:Kk,Jk="useSyncExternalStore"in mh?(e=>e.useSyncExternalStore)(mh):Xk,Zc=P.createContext(null),sg=P.createContext(null),Es=P.createContext(null),ed=P.createContext(null),wi=P.createContext({outlet:null,matches:[]}),rS=P.createContext(null);function fp(){return fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fp.apply(this,arguments)}function Zk(e,t){let{relative:n}=t===void 0?{}:t;yl()||pe(!1);let{basename:r,navigator:i}=P.useContext(Es),{hash:o,pathname:s,search:a}=ag(e,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Yn([r,s])),i.createHref({pathname:l,search:a,hash:o})}function yl(){return P.useContext(ed)!=null}function _l(){return yl()||pe(!1),P.useContext(ed).location}function td(){yl()||pe(!1);let{basename:e,navigator:t}=P.useContext(Es),{matches:n}=P.useContext(wi),{pathname:r}=_l(),i=JSON.stringify(Jc(n).map(a=>a.pathnameBase)),o=P.useRef(!1);return P.useEffect(()=>{o.current=!0}),P.useCallback(function(a,l){if(l===void 0&&(l={}),!o.current)return;if(typeof a=="number"){t.go(a);return}let u=rg(a,JSON.parse(i),r,l.relative==="path");e!=="/"&&(u.pathname=u.pathname==="/"?e:Yn([e,u.pathname])),(l.replace?t.replace:t.push)(u,l.state,l)},[e,t,i,r])}const eP=P.createContext(null);function tP(e){let t=P.useContext(wi).outlet;return t&&P.createElement(eP.Provider,{value:e},t)}function ag(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=P.useContext(wi),{pathname:i}=_l(),o=JSON.stringify(Jc(r).map(s=>s.pathnameBase));return P.useMemo(()=>rg(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function nP(e,t){yl()||pe(!1);let{navigator:n}=P.useContext(Es),r=P.useContext(sg),{matches:i}=P.useContext(wi),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=_l(),u;if(t){var c;let h=typeof t=="string"?Tr(t):t;a==="/"||(c=h.pathname)!=null&&c.startsWith(a)||pe(!1),u=h}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",g=Mo(e,{pathname:f}),y=sP(g&&g.map(h=>Object.assign({},h,{params:Object.assign({},s,h.params),pathname:Yn([a,n.encodeLocation?n.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?a:Yn([a,n.encodeLocation?n.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),i,r||void 0);return t&&y?P.createElement(ed.Provider,{value:{location:fp({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ot.Pop}},y):y}function rP(){let e=sS(),t=og(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:i},n):null,o)}class iP extends P.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?P.createElement(wi.Provider,{value:this.props.routeContext},P.createElement(rS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oP(e){let{routeContext:t,match:n,children:r}=e,i=P.useContext(Zc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(wi.Provider,{value:t},r)}function sP(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let o=r.findIndex(s=>s.route.id&&(i==null?void 0:i[s.route.id]));o>=0||pe(!1),r=r.slice(0,Math.min(r.length,o+1))}return r.reduceRight((o,s,a)=>{let l=s.route.id?i==null?void 0:i[s.route.id]:null,u=null;n&&(s.route.ErrorBoundary?u=P.createElement(s.route.ErrorBoundary,null):s.route.errorElement?u=s.route.errorElement:u=P.createElement(rP,null));let c=t.concat(r.slice(0,a+1)),d=()=>{let f=o;return l?f=u:s.route.Component?f=P.createElement(s.route.Component,null):s.route.element&&(f=s.route.element),P.createElement(oP,{match:s,routeContext:{outlet:o,matches:c},children:f})};return n&&(s.route.ErrorBoundary||s.route.errorElement||a===0)?P.createElement(iP,{location:n.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var d_;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(d_||(d_={}));var Xi;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(Xi||(Xi={}));function lg(e){let t=P.useContext(sg);return t||pe(!1),t}function aP(e){let t=P.useContext(wi);return t||pe(!1),t}function iS(e){let t=aP(),n=t.matches[t.matches.length-1];return n.route.id||pe(!1),n.route.id}function oS(){return lg(Xi.UseNavigation).navigation}function nd(){let e=lg(Xi.UseLoaderData),t=iS(Xi.UseLoaderData);if(e.errors&&e.errors[t]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+t+")");return}return e.loaderData[t]}function sS(){var e;let t=P.useContext(rS),n=lg(Xi.UseRouteError),r=iS(Xi.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function lP(e){let{fallbackElement:t,router:n}=e,r=P.useCallback(()=>n.state,[n]),i=Jk(n.subscribe,r,r),o=P.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:l=>n.navigate(l),push:(l,u,c)=>n.navigate(l,{state:u,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(l,u,c)=>n.navigate(l,{replace:!0,state:u,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[n]),s=n.basename||"/",a=P.useMemo(()=>({router:n,navigator:o,static:!1,basename:s}),[n,o,s]);return P.createElement(P.Fragment,null,P.createElement(Zc.Provider,{value:a},P.createElement(sg.Provider,{value:i},P.createElement(dP,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:o},n.state.initialized?P.createElement(fP,null):t))),null)}function uP(e){return tP(e.context)}function cP(e){pe(!1)}function dP(e){let{basename:t="/",children:n=null,location:r,navigationType:i=ot.Pop,navigator:o,static:s=!1}=e;yl()&&pe(!1);let a=t.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=Tr(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:g="default"}=r,y=P.useMemo(()=>{let h=vl(u,a);return h==null?null:{location:{pathname:h,search:c,hash:d,state:f,key:g},navigationType:i}},[a,u,c,d,f,g,i]);return y==null?null:P.createElement(Es.Provider,{value:l},P.createElement(ed.Provider,{children:n,value:y}))}function fP(e){let{children:t,location:n}=e,r=P.useContext(Zc),i=r&&!t?r.router.routes:hp(t);return nP(i,n)}var f_;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(f_||(f_={}));new Promise(()=>{});function hp(e,t){t===void 0&&(t=[]);let n=[];return P.Children.forEach(e,(r,i)=>{if(!P.isValidElement(r))return;if(r.type===P.Fragment){n.push.apply(n,hp(r.props.children,t));return}r.type!==cP&&pe(!1),!r.props.index||!r.props.children||pe(!1);let o=[...t,i],s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=hp(r.props.children,o)),n.push(s)}),n}function hP(e){return Boolean(e.ErrorBoundary)||Boolean(e.errorElement)}/**
 * React Router DOM v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ji.apply(this,arguments)}function aS(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const Iu="get",Pf="application/x-www-form-urlencoded";function rd(e){return e!=null&&typeof e.tagName=="string"}function pP(e){return rd(e)&&e.tagName.toLowerCase()==="button"}function mP(e){return rd(e)&&e.tagName.toLowerCase()==="form"}function gP(e){return rd(e)&&e.tagName.toLowerCase()==="input"}function vP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yP(e,t){return e.button===0&&(!t||t==="_self")&&!vP(e)}function _P(e,t,n){let r,i,o,s;if(mP(e)){let c=n.submissionTrigger;r=n.method||e.getAttribute("method")||Iu,i=n.action||e.getAttribute("action")||t,o=n.encType||e.getAttribute("enctype")||Pf,s=new FormData(e),c&&c.name&&s.append(c.name,c.value)}else if(pP(e)||gP(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');r=n.method||e.getAttribute("formmethod")||c.getAttribute("method")||Iu,i=n.action||e.getAttribute("formaction")||c.getAttribute("action")||t,o=n.encType||e.getAttribute("formenctype")||c.getAttribute("enctype")||Pf,s=new FormData(c),e.name&&s.append(e.name,e.value)}else{if(rd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');if(r=n.method||Iu,i=n.action||t,o=n.encType||Pf,e instanceof FormData)s=e;else if(s=new FormData,e instanceof URLSearchParams)for(let[c,d]of e)s.append(c,d);else if(e!=null)for(let c of Object.keys(e))s.append(c,e[c])}let{protocol:a,host:l}=window.location;return{url:new URL(i,a+"//"+l),method:r.toLowerCase(),encType:o,formData:s}}const wP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],EP=["reloadDocument","replace","method","action","onSubmit","fetcherKey","routeId","relative","preventScrollReset"];function SP(e,t){return Ok({basename:t==null?void 0:t.basename,history:JR({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||CP(),routes:e,detectErrorBoundary:hP}).initialize()}function CP(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Ji({},t,{errors:TP(t.errors)})),t}function TP(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new ig(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let o=new Error(i.message);o.stack="",n[r]=o}else n[r]=i;return n}const xP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xr=P.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c}=t,d=aS(t,wP),{basename:f}=P.useContext(Es),g,y=!1;if(typeof u=="string"&&IP.test(u)&&(g=u,xP)){let m=new URL(window.location.href),_=u.startsWith("//")?new URL(m.protocol+u):new URL(u),S=vl(_.pathname,f);_.origin===m.origin&&S!=null?u=S+_.search+_.hash:y=!0}let h=Zk(u,{relative:i}),E=kP(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i});function v(m){r&&r(m),m.defaultPrevented||E(m)}return P.createElement("a",Ji({},d,{href:g||h,onClick:y||o?r:v,ref:n,target:l}))}),Af=P.forwardRef((e,t)=>P.createElement(bP,Ji({},e,{ref:t}))),bP=P.forwardRef((e,t)=>{let{reloadDocument:n,replace:r,method:i=Iu,action:o,onSubmit:s,fetcherKey:a,routeId:l,relative:u,preventScrollReset:c}=e,d=aS(e,EP),f=PP(a,l),g=i.toLowerCase()==="get"?"get":"post",y=lS(o,{relative:u}),h=E=>{if(s&&s(E),E.defaultPrevented)return;E.preventDefault();let v=E.nativeEvent.submitter,m=(v==null?void 0:v.getAttribute("formmethod"))||i;f(v||E.currentTarget,{method:m,replace:r,relative:u,preventScrollReset:c})};return P.createElement("form",Ji({ref:t,method:g,action:y,onSubmit:n?s:h},d))});var pp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(pp||(pp={}));var h_;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(h_||(h_={}));function RP(e){let t=P.useContext(Zc);return t||pe(!1),t}function kP(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s}=t===void 0?{}:t,a=td(),l=_l(),u=ag(e,{relative:s});return P.useCallback(c=>{if(yP(c,n)){c.preventDefault();let d=r!==void 0?r:er(l)===er(u);a(e,{replace:d,state:i,preventScrollReset:o,relative:s})}},[l,a,u,r,i,n,e,o,s])}function PP(e,t){let{router:n}=RP(pp.UseSubmitImpl),r=lS();return P.useCallback(function(i,o){if(o===void 0&&(o={}),typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.");let{method:s,encType:a,formData:l,url:u}=_P(i,r,o),c=u.pathname+u.search,d={replace:o.replace,preventScrollReset:o.preventScrollReset,formData:l,formMethod:s,formEncType:a};e?(t==null&&pe(!1),n.fetch(e,t,c,d)):n.navigate(c,d)},[r,n,e,t])}function lS(e,t){let{relative:n}=t===void 0?{}:t,{basename:r}=P.useContext(Es),i=P.useContext(wi);i||pe(!1);let[o]=i.matches.slice(-1),s=Ji({},ag(e||".",{relative:n})),a=_l();if(e==null&&(s.search=a.search,s.hash=a.hash,o.route.index)){let l=new URLSearchParams(s.search);l.delete("index"),s.search=l.toString()?"?"+l.toString():""}return(!e||e===".")&&o.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Yn([r,s.pathname])),er(s)}var mp={},AP={get exports(){return mp},set exports(e){mp=e}},uS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ls=P;function NP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var OP=typeof Object.is=="function"?Object.is:NP,DP=ls.useState,LP=ls.useEffect,MP=ls.useLayoutEffect,FP=ls.useDebugValue;function UP(e,t){var n=t(),r=DP({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return MP(function(){i.value=n,i.getSnapshot=t,Nf(i)&&o({inst:i})},[e,n,t]),LP(function(){return Nf(i)&&o({inst:i}),e(function(){Nf(i)&&o({inst:i})})},[e]),FP(n),n}function Nf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!OP(e,n)}catch{return!0}}function $P(e,t){return t()}var jP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$P:UP;uS.useSyncExternalStore=ls.useSyncExternalStore!==void 0?ls.useSyncExternalStore:jP;(function(e){e.exports=uS})(AP);var gp={},BP={get exports(){return gp},set exports(e){gp=e}},cS={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var id=P,zP=mp;function WP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var VP=typeof Object.is=="function"?Object.is:WP,HP=zP.useSyncExternalStore,GP=id.useRef,KP=id.useEffect,YP=id.useMemo,qP=id.useDebugValue;cS.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=GP(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=YP(function(){function l(g){if(!u){if(u=!0,c=g,g=r(g),i!==void 0&&s.hasValue){var y=s.value;if(i(y,g))return d=y}return d=g}if(y=d,VP(c,g))return y;var h=r(g);return i!==void 0&&i(y,h)?y:(c=g,d=h)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,i]);var a=HP(e,o[0],o[1]);return KP(function(){s.hasValue=!0,s.value=a},[a]),qP(a),a};(function(e){e.exports=cS})(BP);function QP(e){e()}let dS=QP;const XP=e=>dS=e,JP=()=>dS,ui=P.createContext(null);function fS(){return P.useContext(ui)}const ZP=()=>{throw new Error("uSES not initialized!")};let hS=ZP;const eA=e=>{hS=e},tA=(e,t)=>e===t;function nA(e=ui){const t=e===ui?fS:()=>P.useContext(e);return function(r,i=tA){const{store:o,subscription:s,getServerState:a}=t(),l=hS(s.addNestedSub,o.getState,a||o.getState,r,i);return P.useDebugValue(l),l}}const xr=nA();function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vp.apply(this,arguments)}function pS(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var yp={},rA={get exports(){return yp},set exports(e){yp=e}},Ne={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yt=typeof Symbol=="function"&&Symbol.for,ug=yt?Symbol.for("react.element"):60103,cg=yt?Symbol.for("react.portal"):60106,od=yt?Symbol.for("react.fragment"):60107,sd=yt?Symbol.for("react.strict_mode"):60108,ad=yt?Symbol.for("react.profiler"):60114,ld=yt?Symbol.for("react.provider"):60109,ud=yt?Symbol.for("react.context"):60110,dg=yt?Symbol.for("react.async_mode"):60111,cd=yt?Symbol.for("react.concurrent_mode"):60111,dd=yt?Symbol.for("react.forward_ref"):60112,fd=yt?Symbol.for("react.suspense"):60113,iA=yt?Symbol.for("react.suspense_list"):60120,hd=yt?Symbol.for("react.memo"):60115,pd=yt?Symbol.for("react.lazy"):60116,oA=yt?Symbol.for("react.block"):60121,sA=yt?Symbol.for("react.fundamental"):60117,aA=yt?Symbol.for("react.responder"):60118,lA=yt?Symbol.for("react.scope"):60119;function sn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ug:switch(e=e.type,e){case dg:case cd:case od:case ad:case sd:case fd:return e;default:switch(e=e&&e.$$typeof,e){case ud:case dd:case pd:case hd:case ld:return e;default:return t}}case cg:return t}}}function mS(e){return sn(e)===cd}Ne.AsyncMode=dg;Ne.ConcurrentMode=cd;Ne.ContextConsumer=ud;Ne.ContextProvider=ld;Ne.Element=ug;Ne.ForwardRef=dd;Ne.Fragment=od;Ne.Lazy=pd;Ne.Memo=hd;Ne.Portal=cg;Ne.Profiler=ad;Ne.StrictMode=sd;Ne.Suspense=fd;Ne.isAsyncMode=function(e){return mS(e)||sn(e)===dg};Ne.isConcurrentMode=mS;Ne.isContextConsumer=function(e){return sn(e)===ud};Ne.isContextProvider=function(e){return sn(e)===ld};Ne.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ug};Ne.isForwardRef=function(e){return sn(e)===dd};Ne.isFragment=function(e){return sn(e)===od};Ne.isLazy=function(e){return sn(e)===pd};Ne.isMemo=function(e){return sn(e)===hd};Ne.isPortal=function(e){return sn(e)===cg};Ne.isProfiler=function(e){return sn(e)===ad};Ne.isStrictMode=function(e){return sn(e)===sd};Ne.isSuspense=function(e){return sn(e)===fd};Ne.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===od||e===cd||e===ad||e===sd||e===fd||e===iA||typeof e=="object"&&e!==null&&(e.$$typeof===pd||e.$$typeof===hd||e.$$typeof===ld||e.$$typeof===ud||e.$$typeof===dd||e.$$typeof===sA||e.$$typeof===aA||e.$$typeof===lA||e.$$typeof===oA)};Ne.typeOf=sn;(function(e){e.exports=Ne})(rA);var fg=yp,uA={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},cA={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},dA={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},gS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},hg={};hg[fg.ForwardRef]=dA;hg[fg.Memo]=gS;function p_(e){return fg.isMemo(e)?gS:hg[e.$$typeof]||uA}var fA=Object.defineProperty,hA=Object.getOwnPropertyNames,m_=Object.getOwnPropertySymbols,pA=Object.getOwnPropertyDescriptor,mA=Object.getPrototypeOf,g_=Object.prototype;function vS(e,t,n){if(typeof t!="string"){if(g_){var r=mA(t);r&&r!==g_&&vS(e,r,n)}var i=hA(t);m_&&(i=i.concat(m_(t)));for(var o=p_(e),s=p_(t),a=0;a<i.length;++a){var l=i[a];if(!cA[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var u=pA(t,l);try{fA(e,l,u)}catch{}}}}return e}var gA=vS,rc={},vA={get exports(){return rc},set exports(e){rc=e}},Oe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg=Symbol.for("react.element"),mg=Symbol.for("react.portal"),md=Symbol.for("react.fragment"),gd=Symbol.for("react.strict_mode"),vd=Symbol.for("react.profiler"),yd=Symbol.for("react.provider"),_d=Symbol.for("react.context"),yA=Symbol.for("react.server_context"),wd=Symbol.for("react.forward_ref"),Ed=Symbol.for("react.suspense"),Sd=Symbol.for("react.suspense_list"),Cd=Symbol.for("react.memo"),Td=Symbol.for("react.lazy"),_A=Symbol.for("react.offscreen"),yS;yS=Symbol.for("react.module.reference");function gn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case pg:switch(e=e.type,e){case md:case vd:case gd:case Ed:case Sd:return e;default:switch(e=e&&e.$$typeof,e){case yA:case _d:case wd:case Td:case Cd:case yd:return e;default:return t}}case mg:return t}}}Oe.ContextConsumer=_d;Oe.ContextProvider=yd;Oe.Element=pg;Oe.ForwardRef=wd;Oe.Fragment=md;Oe.Lazy=Td;Oe.Memo=Cd;Oe.Portal=mg;Oe.Profiler=vd;Oe.StrictMode=gd;Oe.Suspense=Ed;Oe.SuspenseList=Sd;Oe.isAsyncMode=function(){return!1};Oe.isConcurrentMode=function(){return!1};Oe.isContextConsumer=function(e){return gn(e)===_d};Oe.isContextProvider=function(e){return gn(e)===yd};Oe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pg};Oe.isForwardRef=function(e){return gn(e)===wd};Oe.isFragment=function(e){return gn(e)===md};Oe.isLazy=function(e){return gn(e)===Td};Oe.isMemo=function(e){return gn(e)===Cd};Oe.isPortal=function(e){return gn(e)===mg};Oe.isProfiler=function(e){return gn(e)===vd};Oe.isStrictMode=function(e){return gn(e)===gd};Oe.isSuspense=function(e){return gn(e)===Ed};Oe.isSuspenseList=function(e){return gn(e)===Sd};Oe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===md||e===vd||e===gd||e===Ed||e===Sd||e===_A||typeof e=="object"&&e!==null&&(e.$$typeof===Td||e.$$typeof===Cd||e.$$typeof===yd||e.$$typeof===_d||e.$$typeof===wd||e.$$typeof===yS||e.getModuleId!==void 0)};Oe.typeOf=gn;(function(e){e.exports=Oe})(vA);function wA(){const e=JP();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const v_={notify(){},get:()=>[]};function EA(e,t){let n,r=v_;function i(d){return l(),r.subscribe(d)}function o(){r.notify()}function s(){c.onStateChange&&c.onStateChange()}function a(){return Boolean(n)}function l(){n||(n=t?t.addNestedSub(s):e.subscribe(s),r=wA())}function u(){n&&(n(),n=void 0,r.clear(),r=v_)}const c={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const SA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CA=SA?P.useLayoutEffect:P.useEffect;function TA({store:e,context:t,children:n,serverState:r}){const i=P.useMemo(()=>{const a=EA(e);return{store:e,subscription:a,getServerState:r?()=>r:void 0}},[e,r]),o=P.useMemo(()=>e.getState(),[e]);CA(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==e.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,o]);const s=t||ui;return Ee.createElement(s.Provider,{value:i},n)}function _S(e=ui){const t=e===ui?fS:()=>P.useContext(e);return function(){const{store:r}=t();return r}}const xA=_S();function IA(e=ui){const t=e===ui?xA:_S(e);return function(){return t().dispatch}}const ho=IA();eA(gp.useSyncExternalStoreWithSelector);XP(Ia.unstable_batchedUpdates);function Tn(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ci(e){return!!e&&!!e[Ge]}function wr(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===LA}(e)||Array.isArray(e)||!!e[T_]||!!(!((t=e.constructor)===null||t===void 0)&&t[T_])||gg(e)||vg(e))}function Zi(e,t,n){n===void 0&&(n=!1),Ss(e)===0?(n?Object.keys:qo)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Ss(e){var t=e[Ge];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:gg(e)?2:vg(e)?3:0}function Yo(e,t){return Ss(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function bA(e,t){return Ss(e)===2?e.get(t):e[t]}function wS(e,t,n){var r=Ss(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function ES(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function gg(e){return OA&&e instanceof Map}function vg(e){return DA&&e instanceof Set}function bi(e){return e.o||e.t}function yg(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=CS(e);delete t[Ge];for(var n=qo(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function _g(e,t){return t===void 0&&(t=!1),wg(e)||ci(e)||!wr(e)||(Ss(e)>1&&(e.set=e.add=e.clear=e.delete=RA),Object.freeze(e),t&&Zi(e,function(n,r){return _g(r,!0)},!0)),e}function RA(){Tn(2)}function wg(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function qn(e){var t=Sp[e];return t||Tn(18,e),t}function kA(e,t){Sp[e]||(Sp[e]=t)}function _p(){return Ha}function Of(e,t){t&&(qn("Patches"),e.u=[],e.s=[],e.v=t)}function ic(e){wp(e),e.p.forEach(PA),e.p=null}function wp(e){e===Ha&&(Ha=e.l)}function y_(e){return Ha={p:[],l:Ha,h:e,m:!0,_:0}}function PA(e){var t=e[Ge];t.i===0||t.i===1?t.j():t.O=!0}function Df(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||qn("ES5").S(t,e,r),r?(n[Ge].P&&(ic(t),Tn(4)),wr(e)&&(e=oc(t,e),t.l||sc(t,e)),t.u&&qn("Patches").M(n[Ge].t,e,t.u,t.s)):e=oc(t,n,[]),ic(t),t.u&&t.v(t.u,t.s),e!==SS?e:void 0}function oc(e,t,n){if(wg(t))return t;var r=t[Ge];if(!r)return Zi(t,function(a,l){return __(e,r,t,a,l,n)},!0),t;if(r.A!==e)return t;if(!r.P)return sc(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=yg(r.k):r.o,o=i,s=!1;r.i===3&&(o=new Set(i),i.clear(),s=!0),Zi(o,function(a,l){return __(e,r,i,a,l,n,s)}),sc(e,i,!1),n&&e.u&&qn("Patches").N(r,n,e.u,e.s)}return r.o}function __(e,t,n,r,i,o,s){if(ci(i)){var a=oc(e,i,o&&t&&t.i!==3&&!Yo(t.R,r)?o.concat(r):void 0);if(wS(n,r,a),!ci(a))return;e.m=!1}else s&&n.add(i);if(wr(i)&&!wg(i)){if(!e.h.D&&e._<1)return;oc(e,i),t&&t.A.l||sc(e,i)}}function sc(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&_g(t,n)}function Lf(e,t){var n=e[Ge];return(n?bi(n):e)[t]}function w_(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Lr(e){e.P||(e.P=!0,e.l&&Lr(e.l))}function Mf(e){e.o||(e.o=yg(e.t))}function Ep(e,t,n){var r=gg(t)?qn("MapSet").F(t,n):vg(t)?qn("MapSet").T(t,n):e.g?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:_p(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=a,u=Ga;s&&(l=[a],u=na);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f}(t,n):qn("ES5").J(t,n);return(n?n.A:_p()).p.push(r),r}function AA(e){return ci(e)||Tn(22,e),function t(n){if(!wr(n))return n;var r,i=n[Ge],o=Ss(n);if(i){if(!i.P&&(i.i<4||!qn("ES5").K(i)))return i.t;i.I=!0,r=E_(n,o),i.I=!1}else r=E_(n,o);return Zi(r,function(s,a){i&&bA(i.t,s)===a||wS(r,s,t(a))}),o===3?new Set(r):r}(e)}function E_(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return yg(e)}function NA(){function e(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var l=this[Ge];return Ga.get(l,o)},set:function(l){var u=this[Ge];Ga.set(u,o,l)}},a}function t(o){for(var s=o.length-1;s>=0;s--){var a=o[s][Ge];if(!a.P)switch(a.i){case 5:r(a)&&Lr(a);break;case 4:n(a)&&Lr(a)}}}function n(o){for(var s=o.t,a=o.k,l=qo(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Ge){var d=s[c];if(d===void 0&&!Yo(s,c))return!0;var f=a[c],g=f&&f[Ge];if(g?g.t!==d:!ES(f,d))return!0}}var y=!!s[Ge];return l.length!==qo(s).length+(y?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var l=0;l<s.length;l++)if(!s.hasOwnProperty(l))return!0;return!1}var i={};kA("ES5",{J:function(o,s){var a=Array.isArray(o),l=function(c,d){if(c){for(var f=Array(d.length),g=0;g<d.length;g++)Object.defineProperty(f,""+g,e(g,!0));return f}var y=CS(d);delete y[Ge];for(var h=qo(y),E=0;E<h.length;E++){var v=h[E];y[v]=e(v,c||!!y[v].enumerable)}return Object.create(Object.getPrototypeOf(d),y)}(a,o),u={i:a?5:4,A:s?s.A:_p(),P:!1,I:!1,R:{},l:s,t:o,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,Ge,{value:u,writable:!0}),l},S:function(o,s,a){a?ci(s)&&s[Ge].A===o&&t(o.p):(o.u&&function l(u){if(u&&typeof u=="object"){var c=u[Ge];if(c){var d=c.t,f=c.k,g=c.R,y=c.i;if(y===4)Zi(f,function(_){_!==Ge&&(d[_]!==void 0||Yo(d,_)?g[_]||l(f[_]):(g[_]=!0,Lr(c)))}),Zi(d,function(_){f[_]!==void 0||Yo(f,_)||(g[_]=!1,Lr(c))});else if(y===5){if(r(c)&&(Lr(c),g.length=!0),f.length<d.length)for(var h=f.length;h<d.length;h++)g[h]=!1;else for(var E=d.length;E<f.length;E++)g[E]=!0;for(var v=Math.min(f.length,d.length),m=0;m<v;m++)f.hasOwnProperty(m)||(g[m]=!0),g[m]===void 0&&l(f[m])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var S_,Ha,Eg=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",OA=typeof Map<"u",DA=typeof Set<"u",C_=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",SS=Eg?Symbol.for("immer-nothing"):((S_={})["immer-nothing"]=!0,S_),T_=Eg?Symbol.for("immer-draftable"):"__$immer_draftable",Ge=Eg?Symbol.for("immer-state"):"__$immer_state",LA=""+Object.prototype.constructor,qo=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,CS=Object.getOwnPropertyDescriptors||function(e){var t={};return qo(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Sp={},Ga={get:function(e,t){if(t===Ge)return e;var n=bi(e);if(!Yo(n,t))return function(i,o,s){var a,l=w_(o,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!wr(r)?r:r===Lf(e.t,t)?(Mf(e),e.o[t]=Ep(e.A.h,r,e)):r},has:function(e,t){return t in bi(e)},ownKeys:function(e){return Reflect.ownKeys(bi(e))},set:function(e,t,n){var r=w_(bi(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Lf(bi(e),t),o=i==null?void 0:i[Ge];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(ES(n,i)&&(n!==void 0||Yo(e.t,t)))return!0;Mf(e),Lr(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return Lf(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,Mf(e),Lr(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=bi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Tn(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Tn(12)}},na={};Zi(Ga,function(e,t){na[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),na.deleteProperty=function(e,t){return na.set.call(this,e,t,void 0)},na.set=function(e,t,n){return Ga.set.call(this,e[0],t,n,e[0])};var MA=function(){function e(n){var r=this;this.g=C_,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var l=r;return function(h){var E=this;h===void 0&&(h=a);for(var v=arguments.length,m=Array(v>1?v-1:0),_=1;_<v;_++)m[_-1]=arguments[_];return l.produce(h,function(S){var x;return(x=o).call.apply(x,[E,S].concat(m))})}}var u;if(typeof o!="function"&&Tn(6),s!==void 0&&typeof s!="function"&&Tn(7),wr(i)){var c=y_(r),d=Ep(r,i,void 0),f=!0;try{u=o(d),f=!1}finally{f?ic(c):wp(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(h){return Of(c,s),Df(h,c)},function(h){throw ic(c),h}):(Of(c,s),Df(u,c))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===SS&&(u=void 0),r.D&&_g(u,!0),s){var g=[],y=[];qn("Patches").M(i,u,g,y),s(g,y)}return u}Tn(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(g){return i.apply(void 0,[g].concat(d))})};var s,a,l=r.produce(i,o,function(u,c){s=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,s,a]}):[l,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){wr(n)||Tn(8),ci(n)&&(n=AA(n));var r=y_(this),i=Ep(this,n,void 0);return i[Ge].C=!0,wp(r),i},t.finishDraft=function(n,r){var i=n&&n[Ge],o=i.A;return Of(o,r),Df(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!C_&&Tn(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=qn("Patches").$;return ci(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),nn=new MA,TS=nn.produce;nn.produceWithPatches.bind(nn);nn.setAutoFreeze.bind(nn);nn.setUseProxies.bind(nn);nn.applyPatches.bind(nn);nn.createDraft.bind(nn);nn.finishDraft.bind(nn);function Ka(e){return Ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ka(e)}function FA(e,t){if(Ka(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ka(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UA(e){var t=FA(e,"string");return Ka(t)==="symbol"?t:String(t)}function $A(e,t,n){return t=UA(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function I_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(n),!0).forEach(function(r){$A(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var b_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Ff=function(){return Math.random().toString(36).substring(7).split("").join(".")},ac={INIT:"@@redux/INIT"+Ff(),REPLACE:"@@redux/REPLACE"+Ff(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ff()}};function jA(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function xS(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(kt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(kt(1));return n(xS)(e,t)}if(typeof e!="function")throw new Error(kt(2));var i=e,o=t,s=[],a=s,l=!1;function u(){a===s&&(a=s.slice())}function c(){if(l)throw new Error(kt(3));return o}function d(h){if(typeof h!="function")throw new Error(kt(4));if(l)throw new Error(kt(5));var E=!0;return u(),a.push(h),function(){if(E){if(l)throw new Error(kt(6));E=!1,u();var m=a.indexOf(h);a.splice(m,1),s=null}}}function f(h){if(!jA(h))throw new Error(kt(7));if(typeof h.type>"u")throw new Error(kt(8));if(l)throw new Error(kt(9));try{l=!0,o=i(o,h)}finally{l=!1}for(var E=s=a,v=0;v<E.length;v++){var m=E[v];m()}return h}function g(h){if(typeof h!="function")throw new Error(kt(10));i=h,f({type:ac.REPLACE})}function y(){var h,E=d;return h={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(kt(11));function _(){m.next&&m.next(c())}_();var S=E(_);return{unsubscribe:S}}},h[b_]=function(){return this},h}return f({type:ac.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:g},r[b_]=y,r}function BA(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:ac.INIT});if(typeof r>"u")throw new Error(kt(12));if(typeof n(void 0,{type:ac.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(kt(13))})}function zA(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var o=Object.keys(n),s;try{BA(n)}catch(a){s=a}return function(l,u){if(l===void 0&&(l={}),s)throw s;for(var c=!1,d={},f=0;f<o.length;f++){var g=o[f],y=n[g],h=l[g],E=y(h,u);if(typeof E>"u")throw u&&u.type,new Error(kt(14));d[g]=E,c=c||E!==h}return c=c||o.length!==Object.keys(l).length,c?d:l}}function lc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function WA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(kt(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(l){return l(s)});return o=lc.apply(void 0,a)(i.dispatch),I_(I_({},i),{},{dispatch:o})}}}function IS(e){var t=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,e):s(a)}}};return t}var bS=IS();bS.withExtraArgument=IS;const R_=bS;var VA=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),HA=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},uc=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},GA=Object.defineProperty,KA=Object.defineProperties,YA=Object.getOwnPropertyDescriptors,k_=Object.getOwnPropertySymbols,qA=Object.prototype.hasOwnProperty,QA=Object.prototype.propertyIsEnumerable,P_=function(e,t,n){return t in e?GA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Jr=function(e,t){for(var n in t||(t={}))qA.call(t,n)&&P_(e,n,t[n]);if(k_)for(var r=0,i=k_(t);r<i.length;r++){var n=i[r];QA.call(t,n)&&P_(e,n,t[n])}return e},Uf=function(e,t){return KA(e,YA(t))},XA=function(e,t,n){return new Promise(function(r,i){var o=function(l){try{a(n.next(l))}catch(u){i(u)}},s=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(o,s)};a((n=n.apply(e,t)).next())})},JA=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?lc:lc.apply(null,arguments)};function ZA(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var eN=function(e){VA(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,uc([void 0],n[0].concat(this)))):new(t.bind.apply(t,uc([void 0],n.concat(this))))},t}(Array);function Cp(e){return wr(e)?TS(e,function(){}):e}function tN(e){return typeof e=="boolean"}function nN(){return function(t){return rN(t)}}function rN(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var r=new eN;return n&&(tN(n)?r.push(R_):r.push(R_.withExtraArgument(n.extraArgument))),r}var iN=!0;function oN(e){var t=nN(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,s=o===void 0?t():o,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,f=d===void 0?void 0:d,g;if(typeof i=="function")g=i;else if(ZA(i))g=zA(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var y=s;typeof y=="function"&&(y=y(t));var h=WA.apply(void 0,y),E=lc;l&&(E=JA(Jr({trace:!iN},typeof l=="object"&&l)));var v=[h];Array.isArray(f)?v=uc([h],f):typeof f=="function"&&(v=f(v));var m=E.apply(void 0,v);return xS(g,c,m)}function Zr(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var o=t.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return Jr(Jr({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function RS(e){var t={},n=[],r,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(a in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[a]=s,i},addMatcher:function(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return r=o,i}};return e(i),[t,n,r]}function sN(e){return typeof e=="function"}function aN(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?RS(t):[t,n,r],o=i[0],s=i[1],a=i[2],l;if(sN(e))l=function(){return Cp(e())};else{var u=Cp(e);l=function(){return u}}function c(d,f){d===void 0&&(d=l());var g=uc([o[f.type]],s.filter(function(y){var h=y.matcher;return h(f)}).map(function(y){var h=y.reducer;return h}));return g.filter(function(y){return!!y}).length===0&&(g=[a]),g.reduce(function(y,h){if(h)if(ci(y)){var E=y,v=h(E,f);return v===void 0?y:v}else{if(wr(y))return TS(y,function(m){return h(m,f)});var v=h(y,f);if(v===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}return y},d)}return c.getInitialState=l,c}function lN(e,t){return e+"/"+t}function xd(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:Cp(e.initialState),r=e.reducers||{},i=Object.keys(r),o={},s={},a={};i.forEach(function(c){var d=r[c],f=lN(t,c),g,y;"reducer"in d?(g=d.reducer,y=d.prepare):g=d,o[c]=g,s[f]=g,a[c]=y?Zr(f,y):Zr(f)});function l(){var c=typeof e.extraReducers=="function"?RS(e.extraReducers):[e.extraReducers],d=c[0],f=d===void 0?{}:d,g=c[1],y=g===void 0?[]:g,h=c[2],E=h===void 0?void 0:h,v=Jr(Jr({},f),s);return aN(n,function(m){for(var _ in v)m.addCase(_,v[_]);for(var S=0,x=y;S<x.length;S++){var F=x[S];m.addMatcher(F.matcher,F.reducer)}E&&m.addDefaultCase(E)})}var u;return{name:t,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:o,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var uN="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",cN=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=uN[Math.random()*64|0];return t},dN=["name","message","stack","code"],$f=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),A_=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),fN=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=dN;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}},Sg=function(){function e(t,n,r){var i=Zr(t+"/fulfilled",function(u,c,d,f){return{payload:u,meta:Uf(Jr({},f||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),o=Zr(t+"/pending",function(u,c,d){return{payload:void 0,meta:Uf(Jr({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),s=Zr(t+"/rejected",function(u,c,d,f,g){return{payload:f,error:(r&&r.serializeError||fN)(u||"Rejected"),meta:Uf(Jr({},g||{}),{arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,f){var g=r!=null&&r.idGenerator?r.idGenerator(u):cN(),y=new a,h;function E(m){h=m,y.abort()}var v=function(){return XA(this,null,function(){var m,_,S,x,F,L,B;return HA(this,function(se){switch(se.label){case 0:return se.trys.push([0,4,,5]),x=(m=r==null?void 0:r.condition)==null?void 0:m.call(r,u,{getState:d,extra:f}),pN(x)?[4,x]:[3,2];case 1:x=se.sent(),se.label=2;case 2:if(x===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return F=new Promise(function(Q,me){return y.signal.addEventListener("abort",function(){return me({name:"AbortError",message:h||"Aborted"})})}),c(o(g,u,(_=r==null?void 0:r.getPendingMeta)==null?void 0:_.call(r,{requestId:g,arg:u},{getState:d,extra:f}))),[4,Promise.race([F,Promise.resolve(n(u,{dispatch:c,getState:d,extra:f,requestId:g,signal:y.signal,abort:E,rejectWithValue:function(Q,me){return new $f(Q,me)},fulfillWithValue:function(Q,me){return new A_(Q,me)}})).then(function(Q){if(Q instanceof $f)throw Q;return Q instanceof A_?i(Q.payload,g,u,Q.meta):i(Q,g,u)})])];case 3:return S=se.sent(),[3,5];case 4:return L=se.sent(),S=L instanceof $f?s(null,g,u,L.payload,L.meta):s(L,g,u),[3,5];case 5:return B=r&&!r.dispatchConditionRejection&&s.match(S)&&S.meta.condition,B||c(S),[2,S]}})})}();return Object.assign(v,{abort:E,requestId:g,arg:u,unwrap:function(){return v.then(hN)}})}}return Object.assign(l,{pending:o,rejected:s,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e}();function hN(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function pN(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Cg="listenerMiddleware";Zr(Cg+"/add");Zr(Cg+"/removeAll");Zr(Cg+"/remove");var N_;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);NA();const kS=xd({name:"popup",initialState:null,reducers:{popupShow:(e,t)=>t.payload}}),{popupShow:Id}=kS.actions,mN=kS.reducer,PS=async()=>{const e=tt.getState().user;return e.init?e:new Promise(t=>{const n=tt.subscribe(()=>{const r=tt.getState().user;r.init&&(n(),t(r))})})},AS=xd({name:"user",initialState:{id:"",name:"",email:"",auth:!1,init:!1},reducers:{userSet:(e,t)=>({...e,...t.payload})}}),{userSet:Ya}=AS.actions,gN=AS.reducer;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(e,t){if(!e)throw Cs(t)},Cs=function(e){return new Error("Firebase Database ("+NS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},vN=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},Tg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,g=u&63;l||(g=64,s||(f=64)),r.push(n[c],n[d],n[f],n[g])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(OS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):vN(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new yN;const f=o<<2|a>>4;if(r.push(f),u!==64){const g=a<<4&240|u>>2;if(r.push(g),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class yN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DS=function(e){const t=OS(e);return Tg.encodeByteArray(t,!0)},cc=function(e){return DS(e).replace(/\./g,"")},dc=function(e){try{return Tg.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(e){return LS(void 0,e)}function LS(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!wN(n)||(e[n]=LS(e[n],t[n]));return e}function wN(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=()=>EN().__FIREBASE_DEFAULTS__,CN=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},TN=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&dc(e[1]);return t&&JSON.parse(t)},bd=()=>{try{return SN()||CN()||TN()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},MS=e=>{var t,n;return(n=(t=bd())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},FS=e=>{const t=MS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},xN=()=>{var e;return(e=bd())===null||e===void 0?void 0:e.config},US=e=>{var t;return(t=bd())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[cc(JSON.stringify(n)),cc(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function IN(){var e;const t=(e=bd())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bN(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function jS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RN(){const e=Ot();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function BS(){return NS.NODE_ADMIN===!0}function kN(){try{return typeof indexedDB=="object"}catch{return!1}}function PN(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="FirebaseError";class vn extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=AN,Object.setPrototypeOf(this,vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wl.prototype.create)}}class wl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?NN(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new vn(i,a,r)}}function NN(e,t){return e.replace(ON,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const ON=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(e){return JSON.parse(e)}function ct(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=qa(dc(o[0])||""),n=qa(dc(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},DN=function(e){const t=zS(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},LN=function(e){const t=zS(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function us(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Tp(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function fc(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function hc(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(O_(o)&&O_(s)){if(!hc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function O_(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ra(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function ia(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^o&(s^a),c=1518500249):(u=o^s^a,c=1859775393):d<60?(u=o&s|a&(o|s),c=2400959708):(u=o^s^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}}function FN(e,t){const n=new UN(e,t);return n.subscribe.bind(n)}class UN{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$N(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=jf),i.error===void 0&&(i.error=jf),i.complete===void 0&&(i.complete=jf);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $N(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function jf(){}function kd(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,z(r<e.length,"Surrogate pair missing trail surrogate.");const s=e.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Pd=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(e){return e&&e._delegate?e._delegate:e}class di{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Rd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(WN(t))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Ri){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ri){return this.instances.has(t)}getOptions(t=Ri){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zN(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ri){return this.component?this.component.multipleInstances?t:Ri:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zN(e){return e===Ri?void 0:e}function WN(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new BN(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Le||(Le={}));const HN={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},GN=Le.INFO,KN={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},YN=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=KN[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ig{constructor(t){this.name=t,this._logLevel=GN,this._logHandler=YN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Le))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?HN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...t),this._logHandler(this,Le.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...t),this._logHandler(this,Le.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...t),this._logHandler(this,Le.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...t),this._logHandler(this,Le.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...t),this._logHandler(this,Le.ERROR,...t)}}const qN=(e,t)=>t.some(n=>e instanceof n);let D_,L_;function QN(){return D_||(D_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XN(){return L_||(L_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WS=new WeakMap,xp=new WeakMap,VS=new WeakMap,Bf=new WeakMap,bg=new WeakMap;function JN(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(ei(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&WS.set(n,e)}).catch(()=>{}),bg.set(t,e),t}function ZN(e){if(xp.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});xp.set(e,t)}let Ip={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return xp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||VS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ei(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function eO(e){Ip=e(Ip)}function tO(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(zf(this),t,...n);return VS.set(r,t.sort?t.sort():[t]),ei(r)}:XN().includes(e)?function(...t){return e.apply(zf(this),t),ei(WS.get(this))}:function(...t){return ei(e.apply(zf(this),t))}}function nO(e){return typeof e=="function"?tO(e):(e instanceof IDBTransaction&&ZN(e),qN(e,QN())?new Proxy(e,Ip):e)}function ei(e){if(e instanceof IDBRequest)return JN(e);if(Bf.has(e))return Bf.get(e);const t=nO(e);return t!==e&&(Bf.set(e,t),bg.set(t,e)),t}const zf=e=>bg.get(e);function rO(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=ei(s);return r&&s.addEventListener("upgradeneeded",l=>{r(ei(s.result),l.oldVersion,l.newVersion,ei(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const iO=["get","getKey","getAll","getAllKeys","count"],oO=["put","add","delete","clear"],Wf=new Map;function M_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Wf.get(t))return Wf.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=oO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iO.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Wf.set(t,o),o}eO(e=>({...e,get:(t,n,r)=>M_(t,n)||e.get(t,n,r),has:(t,n)=>!!M_(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aO(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const bp="@firebase/app",F_="0.9.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=new Ig("@firebase/app"),lO="@firebase/app-compat",uO="@firebase/analytics-compat",cO="@firebase/analytics",dO="@firebase/app-check-compat",fO="@firebase/app-check",hO="@firebase/auth",pO="@firebase/auth-compat",mO="@firebase/database",gO="@firebase/database-compat",vO="@firebase/functions",yO="@firebase/functions-compat",_O="@firebase/installations",wO="@firebase/installations-compat",EO="@firebase/messaging",SO="@firebase/messaging-compat",CO="@firebase/performance",TO="@firebase/performance-compat",xO="@firebase/remote-config",IO="@firebase/remote-config-compat",bO="@firebase/storage",RO="@firebase/storage-compat",kO="@firebase/firestore",PO="@firebase/firestore-compat",AO="firebase",NO="9.18.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="[DEFAULT]",OO={[bp]:"fire-core",[lO]:"fire-core-compat",[cO]:"fire-analytics",[uO]:"fire-analytics-compat",[fO]:"fire-app-check",[dO]:"fire-app-check-compat",[hO]:"fire-auth",[pO]:"fire-auth-compat",[mO]:"fire-rtdb",[gO]:"fire-rtdb-compat",[vO]:"fire-fn",[yO]:"fire-fn-compat",[_O]:"fire-iid",[wO]:"fire-iid-compat",[EO]:"fire-fcm",[SO]:"fire-fcm-compat",[CO]:"fire-perf",[TO]:"fire-perf-compat",[xO]:"fire-rc",[IO]:"fire-rc-compat",[bO]:"fire-gcs",[RO]:"fire-gcs-compat",[kO]:"fire-fst",[PO]:"fire-fst-compat","fire-js":"fire-js",[AO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new Map,kp=new Map;function DO(e,t){try{e.container.addComponent(t)}catch(n){eo.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function to(e){const t=e.name;if(kp.has(t))return eo.debug(`There were multiple attempts to register component ${t}.`),!1;kp.set(t,e);for(const n of pc.values())DO(n,e);return!0}function Ad(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ti=new wl("app","Firebase",LO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=NO;function HS(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Rp,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw ti.create("bad-app-name",{appName:String(i)});if(n||(n=xN()),!n)throw ti.create("no-options");const o=pc.get(i);if(o){if(hc(n,o.options)&&hc(r,o.config))return o;throw ti.create("duplicate-app",{appName:i})}const s=new VN(i);for(const l of kp.values())s.addComponent(l);const a=new MO(n,r,s);return pc.set(i,a),a}function Rg(e=Rp){const t=pc.get(e);if(!t&&e===Rp)return HS();if(!t)throw ti.create("no-app",{appName:e});return t}function Qn(e,t,n){var r;let i=(r=OO[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),eo.warn(a.join(" "));return}to(new di(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="firebase-heartbeat-database",UO=1,Qa="firebase-heartbeat-store";let Vf=null;function GS(){return Vf||(Vf=rO(FO,UO,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Qa)}}}).catch(e=>{throw ti.create("idb-open",{originalErrorMessage:e.message})})),Vf}async function $O(e){try{return(await GS()).transaction(Qa).objectStore(Qa).get(KS(e))}catch(t){if(t instanceof vn)eo.warn(t.message);else{const n=ti.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});eo.warn(n.message)}}}async function U_(e,t){try{const r=(await GS()).transaction(Qa,"readwrite");return await r.objectStore(Qa).put(t,KS(e)),r.done}catch(n){if(n instanceof vn)eo.warn(n.message);else{const r=ti.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});eo.warn(r.message)}}}function KS(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=1024,BO=30*24*60*60*1e3;class zO{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=BO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$_(),{heartbeatsToSend:n,unsentEntries:r}=WO(this._heartbeatsCache.heartbeats),i=cc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function $_(){return new Date().toISOString().substring(0,10)}function WO(e,t=jO){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),j_(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),j_(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class VO{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kN()?PN().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await $O(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return U_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return U_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function j_(e){return cc(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(e){to(new di("platform-logger",t=>new sO(t),"PRIVATE")),to(new di("heartbeat",t=>new zO(t),"PRIVATE")),Qn(bp,F_,e),Qn(bp,F_,"esm2017"),Qn("fire-js","")}HO("");var GO="firebase",KO="9.18.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn(GO,KO,"app");function kg(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function YS(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YO=YS,qS=new wl("auth","Firebase",YS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new Ig("@firebase/auth");function bu(e,...t){B_.logLevel<=Le.ERROR&&B_.error(`Auth (${xs}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(e,...t){throw Pg(e,...t)}function Xn(e,...t){return Pg(e,...t)}function qO(e,t,n){const r=Object.assign(Object.assign({},YO()),{[t]:n});return new wl("auth","Firebase",r).create(t,{appName:e.name})}function Pg(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return qS.create(e,...t)}function ce(e,t,...n){if(!e)throw Pg(t,...n)}function dr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw bu(t),new Error(t)}function Er(e,t){e||dr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=new Map;function fr(e){Er(e instanceof Function,"Expected a class definition");let t=z_.get(e);return t?(Er(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,z_.set(e,t),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(e,t){const n=Ad(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(hc(o,t??{}))return i;Dn(i,"already-initialized")}return n.initialize({options:t})}function XO(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function JO(){return W_()==="http:"||W_()==="https:"}function W_(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JO()||bN()||"connection"in navigator)?navigator.onLine:!0}function eD(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(t,n){this.shortDelay=t,this.longDelay=n,Er(n>t,"Short delay should be less than long delay!"),this.isMobile=xg()||jS()}get(){return ZO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(e,t){Er(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=new El(3e4,6e4);function Is(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function po(e,t,n,r,i={}){return XS(e,i,async()=>{let o={},s={};r&&(t==="GET"?s=r:o={body:JSON.stringify(r)});const a=Ts(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),QS.fetch()(JS(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},o))})}async function XS(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},tD),t);try{const i=new rD(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw iu(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw iu(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw iu(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw iu(e,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw qO(e,c,u);Dn(e,c)}}catch(i){if(i instanceof vn)throw i;Dn(e,"internal-error",{message:String(i)})}}async function Sl(e,t,n,r,i={}){const o=await po(e,t,n,r,i);return"mfaPendingCredential"in o&&Dn(e,"multi-factor-auth-required",{_serverResponse:o}),o}function JS(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Ag(e.config,i):`${e.config.apiScheme}://${i}`}class rD{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xn(this.auth,"network-request-failed")),nD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function iu(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xn(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(e,t){return po(e,"POST","/v1/accounts:delete",t)}async function oD(e,t){return po(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function sD(e,t=!1){const n=Ye(e),r=await n.getIdToken(t),i=Ng(r);ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:ga(Hf(i.auth_time)),issuedAtTime:ga(Hf(i.iat)),expirationTime:ga(Hf(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Hf(e){return Number(e)*1e3}function Ng(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return bu("JWT malformed, contained fewer than 3 sections"),null;try{const i=dc(n);return i?JSON.parse(i):(bu("Failed to decode base64 JWT payload"),null)}catch(i){return bu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function aD(e){const t=Ng(e);return ce(t,"internal-error"),ce(typeof t.exp<"u","internal-error"),ce(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cs(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof vn&&lD(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function lD({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ga(this.lastLoginAt),this.creationTime=ga(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(e){var t;const n=e.auth,r=await e.getIdToken(),i=await cs(e,oD(n,{idToken:r}));ce(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?fD(o.providerUserInfo):[],a=dD(e.providerData,s),l=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ZS(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function cD(e){const t=Ye(e);await mc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function dD(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function fD(e){return e.map(t=>{var{providerId:n}=t,r=kg(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(e,t){const n=await XS(e,{},async()=>{const r=Ts({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=JS(e,i,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",QS.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ce(t.idToken,"internal-error"),ce(typeof t.idToken<"u","internal-error"),ce(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):aD(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return ce(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await hD(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Xa;return r&&(ce(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(ce(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(e,t){ce(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Bi{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=kg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ZS(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await cs(this,this.stsTokenManager.getToken(this.auth,t));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return sD(this,t)}reload(){return cD(this)}_assign(t){this!==t&&(ce(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Bi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await mc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await cs(this,iD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,y=(s=n.photoURL)!==null&&s!==void 0?s:void 0,h=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:S,isAnonymous:x,providerData:F,stsTokenManager:L}=n;ce(_&&L,t,"internal-error");const B=Xa.fromJSON(this.name,L);ce(typeof _=="string",t,"internal-error"),Pr(d,t.name),Pr(f,t.name),ce(typeof S=="boolean",t,"internal-error"),ce(typeof x=="boolean",t,"internal-error"),Pr(g,t.name),Pr(y,t.name),Pr(h,t.name),Pr(E,t.name),Pr(v,t.name),Pr(m,t.name);const se=new Bi({uid:_,auth:t,email:f,emailVerified:S,displayName:d,isAnonymous:x,photoURL:y,phoneNumber:g,tenantId:h,stsTokenManager:B,createdAt:v,lastLoginAt:m});return F&&Array.isArray(F)&&(se.providerData=F.map(Q=>Object.assign({},Q))),E&&(se._redirectEventId=E),se}static async _fromIdTokenResponse(t,n,r=!1){const i=new Xa;i.updateFromServerResponse(n);const o=new Bi({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await mc(o),o}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}eC.type="NONE";const V_=eC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(e,t,n){return`firebase:${e}:${t}:${n}`}class Qo{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ru(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ru("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Bi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Qo(fr(V_),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||fr(V_);const s=Ru(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=Bi._fromJSON(t,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Qo(o,t,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Qo(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rC(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(tC(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(oC(t))return"Blackberry";if(sC(t))return"Webos";if(Og(t))return"Safari";if((t.includes("chrome/")||nC(t))&&!t.includes("edge/"))return"Chrome";if(iC(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function tC(e=Ot()){return/firefox\//i.test(e)}function Og(e=Ot()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function nC(e=Ot()){return/crios\//i.test(e)}function rC(e=Ot()){return/iemobile/i.test(e)}function iC(e=Ot()){return/android/i.test(e)}function oC(e=Ot()){return/blackberry/i.test(e)}function sC(e=Ot()){return/webos/i.test(e)}function Nd(e=Ot()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function pD(e=Ot()){var t;return Nd(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function mD(){return RN()&&document.documentMode===10}function aC(e=Ot()){return Nd(e)||iC(e)||sC(e)||oC(e)||/windows phone/i.test(e)||rC(e)}function gD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(e,t=[]){let n;switch(e){case"Browser":n=H_(Ot());break;case"Worker":n=`${H_(Ot())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${xs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,a)=>{try{const l=t(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(t,n,r){this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G_(this),this.idTokenSubscription=new G_(this),this.beforeStateQueue=new vD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qS,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=fr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Qo.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await mc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=eD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?Ye(t):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ce(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(t))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new wl("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&fr(t)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return ce(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?t.addObserver(n,r,i):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=lC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Cl(e){return Ye(e)}class G_{constructor(t){this.auth=t,this.observer=null,this.addObserver=FN(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _D(e,t,n){const r=Cl(e);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=uC(t),{host:s,port:a}=wD(t),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||ED()}function uC(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function wD(e){const t=uC(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:K_(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:K_(s)}}}function K_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function ED(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return dr("not implemented")}_getIdTokenResponse(t){return dr("not implemented")}_linkToIdToken(t,n){return dr("not implemented")}_getReauthenticationResolver(t){return dr("not implemented")}}async function SD(e,t){return po(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(e,t){return Sl(e,"POST","/v1/accounts:signInWithPassword",Is(e,t))}async function cC(e,t){return po(e,"POST","/v1/accounts:sendOobCode",Is(e,t))}async function TD(e,t){return cC(e,t)}async function xD(e,t){return cC(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(e,t){return Sl(e,"POST","/v1/accounts:signInWithEmailLink",Is(e,t))}async function bD(e,t){return Sl(e,"POST","/v1/accounts:signInWithEmailLink",Is(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends Dg{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Ja(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Ja(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return CD(t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return ID(t,{email:this._email,oobCode:this._password});default:Dn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return SD(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return bD(t,{idToken:n,email:this._email,oobCode:this._password});default:Dn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(e,t){return Sl(e,"POST","/v1/accounts:signInWithIdp",Is(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="http://localhost";class no extends Dg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new no(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Dn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,o=kg(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new no(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){const n=this.buildRequest();return Xo(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Xo(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Xo(t,n)}buildRequest(){const t={requestUri:RD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ts(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PD(e){const t=ra(ia(e)).link,n=t?ra(ia(t)).deep_link_id:null,r=ra(ia(e)).deep_link_id;return(r?ra(ia(r)).link:null)||r||n||t||e}class Lg{constructor(t){var n,r,i,o,s,a;const l=ra(ia(t)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=kD((i=l.mode)!==null&&i!==void 0?i:null);ce(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=PD(t);try{return new Lg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(){this.providerId=bs.PROVIDER_ID}static credential(t,n){return Ja._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Lg.parseLink(n);return ce(r,"argument-error"),Ja._fromEmailAndCode(t,r.code,r.tenantId)}}bs.PROVIDER_ID="password";bs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends dC{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Tl{constructor(){super("facebook.com")}static credential(t){return no._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Mr.credential(t.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Tl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return no._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Fr.credential(n,r)}catch{return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com";Fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Tl{constructor(){super("github.com")}static credential(t){return no._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ur.credential(t.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Tl{constructor(){super("twitter.com")}static credential(t,n){return no._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return $r.credentialFromTaggedObject(t)}static credentialFromError(t){return $r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return $r.credential(n,r)}catch{return null}}}$r.TWITTER_SIGN_IN_METHOD="twitter.com";$r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(e,t){return Sl(e,"POST","/v1/accounts:signUp",Is(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const o=await Bi._fromIdTokenResponse(t,r,i),s=Y_(r);return new ro({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=Y_(r);return new ro({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function Y_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends vn{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gc.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new gc(t,n,r,i)}}function fC(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?gc._fromErrorAndOperation(e,o,t,r):o})}async function ND(e,t,n=!1){const r=await cs(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ro._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await cs(e,fC(r,i,t,e),n);ce(o.idToken,r,"internal-error");const s=Ng(o.idToken);ce(s,r,"internal-error");const{sub:a}=s;return ce(e.uid===a,r,"user-mismatch"),ro._forOperation(e,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Dn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(e,t,n=!1){const r="signIn",i=await fC(e,r,t),o=await ro._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function DD(e,t){return hC(Cl(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(e,t,n){var r;ce(((r=n.url)===null||r===void 0?void 0:r.length)>0,e,"invalid-continue-uri"),ce(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ce(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ce(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(e,t,n){const r=Ye(e),i={requestType:"PASSWORD_RESET",email:t};n&&pC(r,i,n),await xD(r,i)}async function MD(e,t,n){const r=Cl(e),i=await AD(r,{returnSecureToken:!0,email:t,password:n}),o=await ro._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}function FD(e,t,n){return DD(Ye(e),bs.credential(t,n))}async function UD(e,t){const n=Ye(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&pC(n.auth,i,t);const{email:o}=await TD(n.auth,i);o!==e.email&&await e.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(e,t){return po(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const r=Ye(e),o={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},s=await cs(r,$D(r.auth,o));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function jD(e,t,n,r){return Ye(e).onIdTokenChanged(t,n,r)}function BD(e,t,n){return Ye(e).beforeAuthStateChanged(t,n)}function zD(e,t,n,r){return Ye(e).onAuthStateChanged(t,n,r)}function WD(e){return Ye(e).signOut()}const vc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vc,"1"),this.storage.removeItem(vc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(){const e=Ot();return Og(e)||Nd(e)}const HD=1e3,GD=10;class vC extends gC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=VD()&&gD(),this.fallbackToPolling=aC(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(t.newValue!==s)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);mD()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,GD):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},HD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}vC.type="LOCAL";const KD=vC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC extends gC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}yC.type="SESSION";const _C=yC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new Od(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await YD(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Od.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Mg("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(){return window}function QD(e){Jn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(){return typeof Jn().WorkerGlobalScope<"u"&&typeof Jn().importScripts=="function"}async function XD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JD(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function ZD(){return wC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="firebaseLocalStorageDb",e2=1,yc="firebaseLocalStorage",SC="fbase_key";class xl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dd(e,t){return e.transaction([yc],t?"readwrite":"readonly").objectStore(yc)}function t2(){const e=indexedDB.deleteDatabase(EC);return new xl(e).toPromise()}function Ap(){const e=indexedDB.open(EC,e2);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(yc,{keyPath:SC})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(yc)?t(r):(r.close(),await t2(),t(await Ap()))})})}async function q_(e,t,n){const r=Dd(e,!0).put({[SC]:t,value:n});return new xl(r).toPromise()}async function n2(e,t){const n=Dd(e,!1).get(t),r=await new xl(n).toPromise();return r===void 0?null:r.value}function Q_(e,t){const n=Dd(e,!0).delete(t);return new xl(n).toPromise()}const r2=800,i2=3;class CC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ap(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>i2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Od._getInstance(ZD()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await XD(),!this.activeServiceWorker)return;this.sender=new qD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||JD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ap();return await q_(t,vc,"1"),await Q_(t,vc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>q_(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>n2(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Q_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=Dd(i,!1).getAll();return new xl(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),r2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CC.type="LOCAL";const o2=CC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function a2(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=Xn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",s2().appendChild(r)})}function l2(e){return`__${e}${Math.floor(Math.random()*1e6)}`}new El(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(e,t){return t?fr(t):(ce(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg extends Dg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Xo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Xo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function c2(e){return hC(e.auth,new Fg(e),e.bypassAuthState)}function d2(e){const{auth:t,user:n}=e;return ce(n,t,"internal-error"),OD(n,new Fg(e),e.bypassAuthState)}async function f2(e){const{auth:t,user:n}=e;return ce(n,t,"internal-error"),ND(n,new Fg(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return c2;case"linkViaPopup":case"linkViaRedirect":return f2;case"reauthViaPopup":case"reauthViaRedirect":return d2;default:Dn(this.auth,"internal-error")}}resolve(t){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=new El(2e3,1e4);class Uo extends TC{constructor(t,n,r,i,o){super(t,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ce(t,this.auth,"internal-error"),t}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const t=Mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(t,h2.get())};t()}}Uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="pendingRedirect",ku=new Map;class m2 extends TC{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=ku.get(this.auth._key());if(!t){try{const r=await g2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}ku.set(this.auth._key(),t)}return this.bypassAuthState||ku.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g2(e,t){const n=_2(t),r=y2(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function v2(e,t){ku.set(e._key(),t)}function y2(e){return fr(e._redirectPersistence)}function _2(e){return Ru(p2,e.config.apiKey,e.name)}async function w2(e,t,n=!1){const r=Cl(e),i=u2(r,t),s=await new m2(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=10*60*1e3;class S2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!C2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!xC(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xn(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=E2&&this.cachedEventUids.clear(),this.cachedEventUids.has(X_(t))}saveEventToCache(t){this.cachedEventUids.add(X_(t)),this.lastProcessedEventTime=Date.now()}}function X_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function xC({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function C2(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xC(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(e,t={}){return po(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I2=/^https?/;async function b2(e){if(e.config.emulator)return;const{authorizedDomains:t}=await T2(e);for(const n of t)try{if(R2(n))return}catch{}Dn(e,"unauthorized-domain")}function R2(e){const t=Pp(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!I2.test(n))return!1;if(x2.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new El(3e4,6e4);function J_(){const e=Jn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function P2(e){return new Promise((t,n)=>{var r,i,o;function s(){J_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{J_(),n(Xn(e,"network-request-failed"))},timeout:k2.get()})}if(!((i=(r=Jn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=Jn().gapi)===null||o===void 0)&&o.load)s();else{const a=l2("iframefcb");return Jn()[a]=()=>{gapi.load?s():n(Xn(e,"network-request-failed"))},a2(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Pu=null,t})}let Pu=null;function A2(e){return Pu=Pu||P2(e),Pu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new El(5e3,15e3),O2="__/auth/iframe",D2="emulator/auth/iframe",L2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F2(e){const t=e.config;ce(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ag(t,D2):`https://${e.config.authDomain}/${O2}`,r={apiKey:t.apiKey,appName:e.name,v:xs},i=M2.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ts(r).slice(1)}`}async function U2(e){const t=await A2(e),n=Jn().gapi;return ce(n,e,"internal-error"),t.open({where:document.body,url:F2(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L2,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Xn(e,"network-request-failed"),a=Jn().setTimeout(()=>{o(s)},N2.get());function l(){Jn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j2=500,B2=600,z2="_blank",W2="http://localhost";class Z_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V2(e,t,n,r=j2,i=B2){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},$2),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Ot().toLowerCase();n&&(a=nC(u)?z2:n),tC(u)&&(t=t||W2,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[g,y])=>`${f}${g}=${y},`,"");if(pD(u)&&a!=="_self")return H2(t||"",a),new Z_(null);const d=window.open(t||"",a,c);ce(d,e,"popup-blocked");try{d.focus()}catch{}return new Z_(d)}function H2(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="__/auth/handler",K2="emulator/auth/handler";function e0(e,t,n,r,i,o){ce(e.config.authDomain,e,"auth-domain-config-required"),ce(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:xs,eventId:i};if(t instanceof dC){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Tp(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[l,u]of Object.entries(o||{}))s[l]=u}if(t instanceof Tl){const l=t.getScopes().filter(u=>u!=="");l.length>0&&(s.scopes=l.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${Y2(e)}?${Ts(a).slice(1)}`}function Y2({config:e}){return e.emulator?Ag(e,K2):`https://${e.authDomain}/${G2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="webStorageSupport";class q2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_C,this._completeRedirectFn=w2,this._overrideRedirectResult=v2}async _openPopup(t,n,r,i){var o;Er((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=e0(t,n,r,Pp(),i);return V2(t,s,Mg())}async _openRedirect(t,n,r,i){return await this._originValidation(t),QD(e0(t,n,r,Pp(),i)),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Er(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await U2(t),r=new S2(t);return n.register("authEvent",i=>(ce(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Gf,{type:Gf},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Gf];s!==void 0&&n(!!s),Dn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=b2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return aC()||Og()||Nd()}}const Q2=q2;var t0="@firebase/auth",n0="0.21.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Z2(e){to(new di("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),{apiKey:o,authDomain:s}=r.options;return((a,l)=>{ce(o&&!o.includes(":"),"invalid-api-key",{appName:a.name}),ce(!(s!=null&&s.includes(":")),"argument-error",{appName:a.name});const u={apiKey:o,authDomain:s,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lC(e)},c=new yD(a,l,u);return XO(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),to(new di("auth-internal",t=>{const n=Cl(t.getProvider("auth").getImmediate());return(r=>new X2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qn(t0,n0,J2(e)),Qn(t0,n0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=5*60,tL=US("authIdTokenMaxAge")||eL;let r0=null;const nL=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tL)return;const i=n==null?void 0:n.token;r0!==i&&(r0=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function rL(e=Rg()){const t=Ad(e,"auth");if(t.isInitialized())return t.getImmediate();const n=QO(e,{popupRedirectResolver:Q2,persistence:[o2,KD,_C]}),r=US("authTokenSyncURL");if(r){const o=nL(r);BD(n,o,()=>o(n.currentUser)),jD(n,s=>o(s))}const i=MS("auth");return i&&_D(n,`http://${i}`),n}Z2("Browser");const i0="@firebase/database",o0="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IC="";function iL(e){IC=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ct(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:qa(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return nr(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new oL(t)}}catch{}return new sL},Fi=bC("localStorage"),Np=bC("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=new Ig("@firebase/database"),aL=function(){let e=1;return function(){return e++}}(),RC=function(e){const t=jN(e),n=new MN;n.update(t);const r=n.digest();return Tg.encodeByteArray(r)},Il=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Il.apply(null,r):typeof r=="object"?t+=ct(r):t+=r,t+=" "}return t};let zi=null,s0=!0;const lL=function(e,t){z(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Jo.logLevel=Le.VERBOSE,zi=Jo.log.bind(Jo),t&&Np.set("logging_enabled",!0)):typeof e=="function"?zi=e:(zi=null,Np.remove("logging_enabled"))},At=function(...e){if(s0===!0&&(s0=!1,zi===null&&Np.get("logging_enabled")===!0&&lL(!0)),zi){const t=Il.apply(null,e);zi(t)}},bl=function(e){return function(...t){At(e,...t)}},Op=function(...e){const t="FIREBASE INTERNAL ERROR: "+Il(...e);Jo.error(t)},Sr=function(...e){const t=`FIREBASE FATAL ERROR: ${Il(...e)}`;throw Jo.error(t),new Error(t)},Yt=function(...e){const t="FIREBASE WARNING: "+Il(...e);Jo.warn(t)},uL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Yt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ug=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},cL=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},io="[MIN_NAME]",fi="[MAX_NAME]",Rs=function(e,t){if(e===t)return 0;if(e===io||t===fi)return-1;if(t===io||e===fi)return 1;{const n=a0(e),r=a0(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},dL=function(e,t){return e===t?0:e<t?-1:1},Hs=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ct(t))},$g=function(e){if(typeof e!="object"||e===null)return ct(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=ct(t[r]),n+=":",n+=$g(e[t[r]]);return n+="}",n},kC=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function qt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const PC=function(e){z(!Ug(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,o,s,a,l;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=t;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},fL=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},hL=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function pL(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const mL=new RegExp("^-?(0*)\\d{1,10}$"),gL=-2147483648,vL=2147483647,a0=function(e){if(mL.test(e)){const t=Number(e);if(t>=gL&&t<=vL)return t}return null},ks=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Yt("Exception was thrown by user callback.",n),t},Math.floor(0))}},yL=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},va=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Yt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(At("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Yt(t)}}class Zo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Zo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="5",AC="v",NC="s",OC="r",DC="f",LC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,MC="ls",FC="p",Dp="ac",UC="websocket",$C="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(t,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fi.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Fi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function EL(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function BC(e,t,n){z(typeof t=="string","typeof type must == string"),z(typeof n=="object","typeof params must == object");let r;if(t===UC)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===$C)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);EL(e)&&(n.ns=e.namespace);const i=[];return qt(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(){this.counters_={}}incrementCounter(t,n=1){nr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return _N(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf={},Yf={};function Bg(e){const t=e.toString();return Kf[t]||(Kf[t]=new SL),Kf[t]}function CL(e,t){const n=e.toString();return Yf[n]||(Yf[n]=t()),Yf[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ks(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="start",xL="close",IL="pLPCommand",bL="pRTLPCB",zC="id",WC="pw",VC="ser",RL="cb",kL="seg",PL="ts",AL="d",NL="dframe",HC=1870,GC=30,OL=HC-GC,DL=25e3,LL=3e4;class $o{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bl(t),this.stats_=Bg(n),this.urlFn=l=>(this.appCheckToken&&(l[Dp]=this.appCheckToken),BC(n,$C,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new TL(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(LL)),cL(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zg((...o)=>{const[s,a,l,u,c]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===l0)this.id=a,this.password=l;else if(s===xL)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[l0]="t",r[VC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[RL]=this.scriptTagHolder.uniqueCallbackIdentifier),r[AC]=jg,this.transportSessionId&&(r[NC]=this.transportSessionId),this.lastSessionId&&(r[MC]=this.lastSessionId),this.applicationId&&(r[FC]=this.applicationId),this.appCheckToken&&(r[Dp]=this.appCheckToken),typeof location<"u"&&location.hostname&&LC.test(location.hostname)&&(r[OC]=DC);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){$o.forceAllow_=!0}static forceDisallow(){$o.forceDisallow_=!0}static isAvailable(){return $o.forceAllow_?!0:!$o.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!fL()&&!hL()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=ct(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=DS(n),i=kC(r,OL);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[NL]="t",r[zC]=t,r[WC]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=ct(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class zg{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=aL(),window[IL+this.uniqueCallbackIdentifier]=t,window[bL+this.uniqueCallbackIdentifier]=n,this.myIFrame=zg.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){At("frame writing exception"),a.stack&&At(a.stack),At(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||At("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[zC]=this.myID,t[WC]=this.myPW,t[VC]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+GC+r.length<=HC;){const s=this.pendingSegs.shift();r=r+"&"+kL+i+"="+s.seg+"&"+PL+i+"="+s.ts+"&"+AL+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(DL)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{At("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=16384,FL=45e3;let _c=null;typeof MozWebSocket<"u"?_c=MozWebSocket:typeof WebSocket<"u"&&(_c=WebSocket);class xn{constructor(t,n,r,i,o,s,a){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bl(this.connId),this.stats_=Bg(n),this.connURL=xn.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,o){const s={};return s[AC]=jg,typeof location<"u"&&location.hostname&&LC.test(location.hostname)&&(s[OC]=DC),n&&(s[NC]=n),r&&(s[MC]=r),i&&(s[Dp]=i),o&&(s[FC]=o),BC(t,UC,s)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fi.set("previous_websocket_failure",!0);try{let r;BS(),this.mySock=new _c(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){xn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&_c!==null&&!xn.forceDisallow_}static previouslyFailed(){return Fi.isInMemoryStorage||Fi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Fi.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=qa(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(z(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=ct(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=kC(n,ML);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(FL))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}xn.responsesRequiredToBeHealthy=2;xn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[$o,xn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=xn&&xn.isAvailable();let r=n&&!xn.previouslyFailed();if(t.webSocketOnly&&(n||Yt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[xn];else{const i=this.transports_=[];for(const o of Za.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);Za.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Za.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=6e4,$L=5e3,jL=10*1024,BL=100*1024,qf="t",u0="d",zL="s",c0="r",WL="e",d0="o",f0="a",h0="n",p0="p",VL="h";class HL{constructor(t,n,r,i,o,s,a,l,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bl("c:"+this.id+":"),this.transportManager_=new Za(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=va(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>BL?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>jL?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(qf in t){const n=t[qf];n===f0?this.upgradeIfSecondaryHealthy_():n===c0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===d0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Hs("t",t),r=Hs("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:p0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:f0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:h0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Hs("t",t),r=Hs("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Hs(qf,t);if(u0 in t){const r=t[u0];if(n===VL){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===h0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===zL?this.onConnectionShutdown_(r):n===c0?this.onReset_(r):n===WL?Op("Server Error: "+r):n===d0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Op("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),jg!==r&&Yt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),va(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UL))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):va(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor($L))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:p0,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(t){this.allowedEvents_=t,this.listeners_={},z(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){z(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends YC{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!xg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new wc}getInitialEvent(t){return z(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=32,g0=768;class De{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function Re(){return new De("")}function we(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function hi(e){return e.pieces_.length-e.pieceNum_}function Ue(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new De(e.pieces_,t)}function qC(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function GL(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function QC(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function XC(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new De(t,0)}function dt(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof De)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new De(n,0)}function ye(e){return e.pieceNum_>=e.pieces_.length}function Ut(e,t){const n=we(e),r=we(t);if(n===null)return t;if(n===r)return Ut(Ue(e),Ue(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function JC(e,t){if(hi(e)!==hi(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function bn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(hi(e)>hi(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class KL{constructor(t,n){this.errorPrefix_=n,this.parts_=QC(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Pd(this.parts_[r]);ZC(this)}}function YL(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Pd(t),ZC(e)}function qL(e){const t=e.parts_.pop();e.byteLength_-=Pd(t),e.parts_.length>0&&(e.byteLength_-=1)}function ZC(e){if(e.byteLength_>g0)throw new Error(e.errorPrefix_+"has a key path longer than "+g0+" bytes ("+e.byteLength_+").");if(e.parts_.length>m0)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+m0+") or object contains a cycle "+ki(e))}function ki(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg extends YC{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Wg}getInitialEvent(t){return z(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=1e3,QL=60*5*1e3,v0=30*1e3,XL=1.3,JL=3e4,ZL="server_kill",y0=3;class mr extends KC{constructor(t,n,r,i,o,s,a,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=mr.nextPersistentConnectionId_++,this.log_=bl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Gs,this.maxReconnectDelay_=QL,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!BS())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Wg.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&wc.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,o={r:i,a:t,b:n};this.log_(ct(o)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new Rd,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(t,n,r,i){this.initConnection_();const o=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),z(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";t.tag&&(o.q=n._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,u=a.s;mr.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&nr(t,"w")){const r=us(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Yt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||LN(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=v0)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=DN(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),z(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const o={p:t},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:t,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+ct(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):Op("Unrecognized action received from server: "+ct(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gs,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Gs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>JL&&(this.reconnectDelay_=Gs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*XL)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+mr.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},u=function(d){z(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?At("getToken() completed but was canceled"):(At("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new HL(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,g=>{Yt(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(ZL)},o))}catch(d){this.log_("Failed to get token: "+d),s||(this.repoInfo_.nodeAdmin&&Yt(d),l())}}}interrupt(t){At("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){At("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Tp(this.interruptReasons_)&&(this.reconnectDelay_=Gs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(o=>$g(o)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new De(t).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){At("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=y0&&(this.reconnectDelay_=v0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){At("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=y0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+IC.replace(/\./g,"-")]=1,xg()?t["framework.cordova"]=1:jS()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=wc.getInstance().currentlyOnline();return Tp(this.interruptReasons_)&&t}}mr.nextPersistentConnectionId_=0;mr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new _e(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new _e(io,t),i=new _e(io,n);return this.compare(r,i)!==0}minPost(){return _e.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou;class eT extends Ld{static get __EMPTY_NODE(){return ou}static set __EMPTY_NODE(t){ou=t}compare(t,n){return Rs(t.name,n.name)}isDefinedOn(t){throw Cs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return _e.MIN}maxPost(){return new _e(fi,ou)}makePost(t,n){return z(typeof t=="string","KeyIndex indexValue must always be a string."),new _e(t,ou)}toString(){return".key"}}const ni=new eT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class mt{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??mt.RED,this.left=i??Vt.EMPTY_NODE,this.right=o??Vt.EMPTY_NODE}copy(t,n,r,i,o){return new mt(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Vt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Vt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}mt.RED=!0;mt.BLACK=!1;class eM{copy(t,n,r,i,o){return this}insert(t,n,r){return new mt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Vt{constructor(t,n=Vt.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Vt(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,mt.BLACK,null,null))}remove(t){return new Vt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,mt.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new su(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new su(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new su(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new su(this.root_,null,this.comparator_,!0,t)}}Vt.EMPTY_NODE=new eM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(e,t){return Rs(e.name,t.name)}function Vg(e,t){return Rs(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lp;function nM(e){Lp=e}const tT=function(e){return typeof e=="number"?"number:"+PC(e):"string:"+e},nT=function(e){if(e.isLeafNode()){const t=e.val();z(typeof t=="string"||typeof t=="number"||typeof t=="object"&&nr(t,".sv"),"Priority must be a string or number.")}else z(e===Lp||e.isEmpty(),"priority of unexpected type.");z(e===Lp||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _0;class ht{constructor(t,n=ht.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),nT(this.priorityNode_)}static set __childrenNodeConstructor(t){_0=t}static get __childrenNodeConstructor(){return _0}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new ht(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:ht.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ye(t)?this:we(t)===".priority"?this.priorityNode_:ht.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:ht.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=we(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(z(r!==".priority"||hi(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ht.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ue(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+tT(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=PC(this.value_):t+=this.value_,this.lazyHash_=RC(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===ht.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof ht.__childrenNodeConstructor?-1:(z(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=ht.VALUE_TYPE_ORDER.indexOf(n),o=ht.VALUE_TYPE_ORDER.indexOf(r);return z(i>=0,"Unknown leaf type: "+n),z(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ht.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rT,iT;function rM(e){rT=e}function iM(e){iT=e}class oM extends Ld{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Rs(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return _e.MIN}maxPost(){return new _e(fi,new ht("[PRIORITY-POST]",iT))}makePost(t,n){const r=rT(t);return new _e(n,new ht("[PRIORITY-POST]",r))}toString(){return".priority"}}const Qe=new oM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=Math.log(2);class aM{constructor(t){const n=o=>parseInt(Math.log(o)/sM,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ec=function(e,t,n,r){e.sort(t);const i=function(l,u){const c=u-l;let d,f;if(c===0)return null;if(c===1)return d=e[l],f=n?n(d):d,new mt(f,d.node,mt.BLACK,null,null);{const g=parseInt(c/2,10)+l,y=i(l,g),h=i(g+1,u);return d=e[g],f=n?n(d):d,new mt(f,d.node,mt.BLACK,y,h)}},o=function(l){let u=null,c=null,d=e.length;const f=function(y,h){const E=d-y,v=d;d-=y;const m=i(E+1,v),_=e[E],S=n?n(_):_;g(new mt(S,_.node,h,null,m))},g=function(y){u?(u.left=y,u=y):(c=y,u=y)};for(let y=0;y<l.count;++y){const h=l.nextBitIsOne(),E=Math.pow(2,l.count-(y+1));h?f(E,mt.BLACK):(f(E,mt.BLACK),f(E,mt.RED))}return c},s=new aM(e.length),a=o(s);return new Vt(r||t,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf;const So={};class hr{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return z(So&&Qe,"ChildrenNode.ts has not been loaded"),Qf=Qf||new hr({".priority":So},{".priority":Qe}),Qf}get(t){const n=us(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Vt?n:null}hasIndex(t){return nr(this.indexSet_,t.toString())}addIndex(t,n){z(t!==ni,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(_e.Wrap);let s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Ec(r,t.getCompare()):a=So;const l=t.toString(),u=Object.assign({},this.indexSet_);u[l]=t;const c=Object.assign({},this.indexes_);return c[l]=a,new hr(c,u)}addToIndexes(t,n){const r=fc(this.indexes_,(i,o)=>{const s=us(this.indexSet_,o);if(z(s,"Missing index implementation for "+o),i===So)if(s.isDefinedOn(t.node)){const a=[],l=n.getIterator(_e.Wrap);let u=l.getNext();for(;u;)u.name!==t.name&&a.push(u),u=l.getNext();return a.push(t),Ec(a,s.getCompare())}else return So;else{const a=n.get(t.name);let l=i;return a&&(l=l.remove(new _e(t.name,a))),l.insert(t,t.node)}});return new hr(r,this.indexSet_)}removeFromIndexes(t,n){const r=fc(this.indexes_,i=>{if(i===So)return i;{const o=n.get(t.name);return o?i.remove(new _e(t.name,o)):i}});return new hr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ks;class fe{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&nT(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ks||(Ks=new fe(new Vt(Vg),null,hr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ks}updatePriority(t){return this.children_.isEmpty()?this:new fe(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Ks:n}}getChild(t){const n=we(t);return n===null?this:this.getImmediateChild(n).getChild(Ue(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(z(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new _e(t,n);let i,o;n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?Ks:this.priorityNode_;return new fe(i,s,o)}}updateChild(t,n){const r=we(t);if(r===null)return n;{z(we(t)!==".priority"||hi(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Ue(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(Qe,(s,a)=>{n[s]=a.val(t),r++,o&&fe.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!t&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+tT(this.getPriority().val())+":"),this.forEachChild(Qe,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":RC(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new _e(t,n));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new _e(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new _e(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,_e.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,t)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,_e.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,t)>0;)i.getNext(),o=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Rl?-1:0}withIndex(t){if(t===ni||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new fe(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===ni||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Qe),i=n.getIterator(Qe);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(t){return t===ni?null:this.indexMap_.get(t.toString())}}fe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class lM extends fe{constructor(){super(new Vt(Vg),fe.EMPTY_NODE,hr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return fe.EMPTY_NODE}isEmpty(){return!1}}const Rl=new lM;Object.defineProperties(_e,{MIN:{value:new _e(io,fe.EMPTY_NODE)},MAX:{value:new _e(fi,Rl)}});eT.__EMPTY_NODE=fe.EMPTY_NODE;ht.__childrenNodeConstructor=fe;nM(Rl);iM(Rl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=!0;function gt(e,t=null){if(e===null)return fe.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),z(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new ht(n,gt(t))}if(!(e instanceof Array)&&uM){const n=[];let r=!1;if(qt(e,(s,a)=>{if(s.substring(0,1)!=="."){const l=gt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new _e(s,l)))}}),n.length===0)return fe.EMPTY_NODE;const o=Ec(n,tM,s=>s.name,Vg);if(r){const s=Ec(n,Qe.getCompare());return new fe(o,gt(t),new hr({".priority":s},{".priority":Qe}))}else return new fe(o,gt(t),hr.Default)}else{let n=fe.EMPTY_NODE;return qt(e,(r,i)=>{if(nr(e,r)&&r.substring(0,1)!=="."){const o=gt(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(gt(t))}}rM(gt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg extends Ld{constructor(t){super(),this.indexPath_=t,z(!ye(t)&&we(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Rs(t.name,n.name):o}makePost(t,n){const r=gt(t),i=fe.EMPTY_NODE.updateChild(this.indexPath_,r);return new _e(n,i)}maxPost(){const t=fe.EMPTY_NODE.updateChild(this.indexPath_,Rl);return new _e(fi,t)}toString(){return QC(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM extends Ld{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Rs(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return _e.MIN}maxPost(){return _e.MAX}makePost(t,n){const r=gt(t);return new _e(n,r)}toString(){return".value"}}const oT=new cM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(e){return{type:"value",snapshotNode:e}}function ds(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function el(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function tl(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function dM(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){z(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(el(n,a)):z(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ds(n,r)):s.trackChildChange(tl(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Qe,(i,o)=>{n.hasChild(i)||r.trackChildChange(el(i,o))}),n.isLeafNode()||n.forEachChild(Qe,(i,o)=>{if(t.hasChild(i)){const s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(tl(i,o,s))}else r.trackChildChange(ds(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?fe.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(t){this.indexedFilter_=new Gg(t.getIndex()),this.index_=t.getIndex(),this.startPost_=nl.getStartPost_(t),this.endPost_=nl.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new _e(n,r))||(r=fe.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=fe.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(fe.EMPTY_NODE);const o=this;return n.forEachChild(Qe,(s,a)=>{o.matches(new _e(s,a))||(i=i.updateImmediateChild(s,fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new nl(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new _e(n,r))||(r=fe.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=fe.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(fe.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){const d=this.index_.getCompare();s=(f,g)=>d(g,f)}else s=this.index_.getCompare();const a=t;z(a.numChildren()===this.limit_,"");const l=new _e(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const g=f==null?1:s(f,l);if(c&&!r.isEmpty()&&g>=0)return o!=null&&o.trackChildChange(tl(n,r,d)),a.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(el(n,d));const h=a.updateImmediateChild(n,fe.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o!=null&&o.trackChildChange(ds(f.name,f.node)),h.updateImmediateChild(f.name,f.node)):h}}else return r.isEmpty()?t:c&&s(u,l)>=0?(o!=null&&(o.trackChildChange(el(u.name,u.node)),o.trackChildChange(ds(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,fe.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:io}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qe}copy(){const t=new Kg;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function hM(e){return e.loadsAllData()?new Gg(e.getIndex()):e.hasLimit()?new fM(e):new nl(e)}function pM(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function mM(e,t,n){const r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function gM(e,t,n){const r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function aT(e,t){const n=e.copy();return n.index_=t,n}function w0(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Qe?n="$priority":e.index_===oT?n="$value":e.index_===ni?n="$key":(z(e.index_ instanceof Hg,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ct(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=ct(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+ct(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=ct(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+ct(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function E0(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Qe&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends KC{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=bl("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(z(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=Sc.getListenId_(t,r),a={};this.listens_[s]=a;const l=w0(t._queryParams);this.restRequest_(o+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(o,d,!1,r),us(this.listens_,s)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(t,n){const r=Sc.getListenId_(t,n);delete this.listens_[r]}get(t){const n=w0(t._queryParams),r=t._path.toString(),i=new Rd;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Ts(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=qa(a.responseText)}catch{Yt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Yt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this.rootNode_=fe.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(){return{value:null,children:new Map}}function lT(e,t,n){if(ye(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=we(t);e.children.has(r)||e.children.set(r,Cc());const i=e.children.get(r);t=Ue(t),lT(i,t,n)}}function Mp(e,t,n){e.value!==null?n(t,e.value):yM(e,(r,i)=>{const o=new De(t.toString()+"/"+r);Mp(i,o,n)})}function yM(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&qt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=10*1e3,wM=30*1e3,EM=5*60*1e3;class SM{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new _M(t);const r=S0+(wM-S0)*Math.random();va(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;qt(t,(i,o)=>{o>0&&nr(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),va(this.reportStats_.bind(this),Math.floor(Math.random()*2*EM))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Rn||(Rn={}));function uT(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Yg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function qg(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Rn.ACK_USER_WRITE,this.source=uT()}operationForChild(t){if(ye(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new De(t));return new Tc(Re(),n,this.revert)}}else return z(we(this.path)===t,"operationForChild called for unrelated child."),new Tc(Ue(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(t,n){this.source=t,this.path=n,this.type=Rn.LISTEN_COMPLETE}operationForChild(t){return ye(this.path)?new rl(this.source,Re()):new rl(this.source,Ue(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Rn.OVERWRITE}operationForChild(t){return ye(this.path)?new oo(this.source,Re(),this.snap.getImmediateChild(t)):new oo(this.source,Ue(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Rn.MERGE}operationForChild(t){if(ye(this.path)){const n=this.children.subtree(new De(t));return n.isEmpty()?null:n.value?new oo(this.source,Re(),n.value):new il(this.source,Re(),n)}else return z(we(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new il(this.source,Ue(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ye(t))return this.isFullyInitialized()&&!this.filtered_;const n=we(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function TM(e,t,n,r){const i=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(dM(s.childName,s.snapshotNode))}),Ys(e,i,"child_removed",t,r,n),Ys(e,i,"child_added",t,r,n),Ys(e,i,"child_moved",o,r,n),Ys(e,i,"child_changed",t,r,n),Ys(e,i,"value",t,r,n),i}function Ys(e,t,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>IM(e,a,l)),s.forEach(a=>{const l=xM(e,a,o);i.forEach(u=>{u.respondsTo(a.type)&&t.push(u.createEvent(l,e.query_))})})}function xM(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function IM(e,t,n){if(t.childName==null||n.childName==null)throw Cs("Should only compare child_ events.");const r=new _e(t.childName,t.snapshotNode),i=new _e(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(e,t){return{eventCache:e,serverCache:t}}function ya(e,t,n,r){return Md(new pi(t,n,r),e.serverCache)}function cT(e,t,n,r){return Md(e.eventCache,new pi(t,n,r))}function xc(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function so(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xf;const bM=()=>(Xf||(Xf=new Vt(dL)),Xf);class We{constructor(t,n=bM()){this.value=t,this.children=n}static fromObject(t){let n=new We(null);return qt(t,(r,i)=>{n=n.set(new De(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Re(),value:this.value};if(ye(t))return null;{const r=we(t),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(Ue(t),n);return o!=null?{path:dt(new De(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ye(t))return this;{const n=we(t),r=this.children.get(n);return r!==null?r.subtree(Ue(t)):new We(null)}}set(t,n){if(ye(t))return new We(n,this.children);{const r=we(t),o=(this.children.get(r)||new We(null)).set(Ue(t),n),s=this.children.insert(r,o);return new We(this.value,s)}}remove(t){if(ye(t))return this.children.isEmpty()?new We(null):new We(null,this.children);{const n=we(t),r=this.children.get(n);if(r){const i=r.remove(Ue(t));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new We(null):new We(this.value,o)}else return this}}get(t){if(ye(t))return this.value;{const n=we(t),r=this.children.get(n);return r?r.get(Ue(t)):null}}setTree(t,n){if(ye(t))return n;{const r=we(t),o=(this.children.get(r)||new We(null)).setTree(Ue(t),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new We(this.value,s)}}fold(t){return this.fold_(Re(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(dt(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,Re(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ye(t))return null;{const o=we(t),s=this.children.get(o);return s?s.findOnPath_(Ue(t),dt(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Re(),n)}foreachOnPath_(t,n,r){if(ye(t))return this;{this.value&&r(n,this.value);const i=we(t),o=this.children.get(i);return o?o.foreachOnPath_(Ue(t),dt(n,i),r):new We(null)}}foreach(t){this.foreach_(Re(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(dt(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.writeTree_=t}static empty(){return new Nn(new We(null))}}function _a(e,t,n){if(ye(t))return new Nn(new We(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let o=r.value;const s=Ut(i,t);return o=o.updateChild(s,n),new Nn(e.writeTree_.set(i,o))}else{const i=new We(n),o=e.writeTree_.setTree(t,i);return new Nn(o)}}}function C0(e,t,n){let r=e;return qt(n,(i,o)=>{r=_a(r,dt(t,i),o)}),r}function T0(e,t){if(ye(t))return Nn.empty();{const n=e.writeTree_.setTree(t,new We(null));return new Nn(n)}}function Fp(e,t){return mo(e,t)!=null}function mo(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Ut(n.path,t)):null}function x0(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Qe,(r,i)=>{t.push(new _e(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new _e(r,i.value))}),t}function ri(e,t){if(ye(t))return e;{const n=mo(e,t);return n!=null?new Nn(new We(n)):new Nn(e.writeTree_.subtree(t))}}function Up(e){return e.writeTree_.isEmpty()}function fs(e,t){return dT(Re(),e.writeTree_,t)}function dT(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(z(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=dT(dt(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(dt(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(e,t){return mT(t,e)}function RM(e,t,n,r,i){z(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=_a(e.visibleWrites,t,n)),e.lastWriteId=r}function kM(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function PM(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);z(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const a=e.allWrites[s];a.visible&&(s>=n&&AM(a,r.path)?i=!1:bn(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return NM(e),!0;if(r.snap)e.visibleWrites=T0(e.visibleWrites,r.path);else{const a=r.children;qt(a,l=>{e.visibleWrites=T0(e.visibleWrites,dt(r.path,l))})}return!0}else return!1}function AM(e,t){if(e.snap)return bn(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&bn(dt(e.path,n),t))return!0;return!1}function NM(e){e.visibleWrites=fT(e.allWrites,OM,Re()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function OM(e){return e.visible}function fT(e,t,n){let r=Nn.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const s=o.path;let a;if(o.snap)bn(n,s)?(a=Ut(n,s),r=_a(r,a,o.snap)):bn(s,n)&&(a=Ut(s,n),r=_a(r,Re(),o.snap.getChild(a)));else if(o.children){if(bn(n,s))a=Ut(n,s),r=C0(r,a,o.children);else if(bn(s,n))if(a=Ut(s,n),ye(a))r=C0(r,Re(),o.children);else{const l=us(o.children,we(a));if(l){const u=l.getChild(Ue(a));r=_a(r,Re(),u)}}}else throw Cs("WriteRecord should have .snap or .children")}}return r}function hT(e,t,n,r,i){if(!r&&!i){const o=mo(e.visibleWrites,t);if(o!=null)return o;{const s=ri(e.visibleWrites,t);if(Up(s))return n;if(n==null&&!Fp(s,Re()))return null;{const a=n||fe.EMPTY_NODE;return fs(s,a)}}}else{const o=ri(e.visibleWrites,t);if(!i&&Up(o))return n;if(!i&&n==null&&!Fp(o,Re()))return null;{const s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(bn(u.path,t)||bn(t,u.path))},a=fT(e.allWrites,s,t),l=n||fe.EMPTY_NODE;return fs(a,l)}}}function DM(e,t,n){let r=fe.EMPTY_NODE;const i=mo(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Qe,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=ri(e.visibleWrites,t);return n.forEachChild(Qe,(s,a)=>{const l=fs(ri(o,new De(s)),a);r=r.updateImmediateChild(s,l)}),x0(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=ri(e.visibleWrites,t);return x0(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function LM(e,t,n,r,i){z(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=dt(t,n);if(Fp(e.visibleWrites,o))return null;{const s=ri(e.visibleWrites,o);return Up(s)?i.getChild(n):fs(s,i.getChild(n))}}function MM(e,t,n,r){const i=dt(t,n),o=mo(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=ri(e.visibleWrites,i);return fs(s,r.getNode().getImmediateChild(n))}else return null}function FM(e,t){return mo(e.visibleWrites,t)}function UM(e,t,n,r,i,o,s){let a;const l=ri(e.visibleWrites,t),u=mo(l,Re());if(u!=null)a=u;else if(n!=null)a=fs(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let g=f.getNext();for(;g&&c.length<i;)d(g,r)!==0&&c.push(g),g=f.getNext();return c}else return[]}function $M(){return{visibleWrites:Nn.empty(),allWrites:[],lastWriteId:-1}}function Ic(e,t,n,r){return hT(e.writeTree,e.treePath,t,n,r)}function Qg(e,t){return DM(e.writeTree,e.treePath,t)}function I0(e,t,n,r){return LM(e.writeTree,e.treePath,t,n,r)}function bc(e,t){return FM(e.writeTree,dt(e.treePath,t))}function jM(e,t,n,r,i,o){return UM(e.writeTree,e.treePath,t,n,r,i,o)}function Xg(e,t,n){return MM(e.writeTree,e.treePath,t,n)}function pT(e,t){return mT(dt(e.treePath,t),e.writeTree)}function mT(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;z(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),z(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,tl(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,el(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,ds(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,tl(r,t.snapshotNode,i.oldSnap));else throw Cs("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const gT=new zM;class Jg{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new pi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Xg(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:so(this.viewCache_),o=jM(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(e){return{filter:e}}function VM(e,t){z(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),z(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function HM(e,t,n,r,i){const o=new BM;let s,a;if(n.type===Rn.OVERWRITE){const u=n;u.source.fromUser?s=$p(e,t,u.path,u.snap,r,i,o):(z(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!ye(u.path),s=Rc(e,t,u.path,u.snap,r,i,a,o))}else if(n.type===Rn.MERGE){const u=n;u.source.fromUser?s=KM(e,t,u.path,u.children,r,i,o):(z(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered(),s=jp(e,t,u.path,u.children,r,i,a,o))}else if(n.type===Rn.ACK_USER_WRITE){const u=n;u.revert?s=QM(e,t,u.path,r,i,o):s=YM(e,t,u.path,u.affectedTree,r,i,o)}else if(n.type===Rn.LISTEN_COMPLETE)s=qM(e,t,n.path,r,o);else throw Cs("Unknown operation type: "+n.type);const l=o.getChanges();return GM(t,s,l),{viewCache:s,changes:l}}function GM(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=xc(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(sT(xc(t)))}}function vT(e,t,n,r,i,o){const s=t.eventCache;if(bc(r,n)!=null)return t;{let a,l;if(ye(n))if(z(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=so(t),c=u instanceof fe?u:fe.EMPTY_NODE,d=Qg(r,c);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{const u=Ic(r,so(t));a=e.filter.updateFullNode(t.eventCache.getNode(),u,o)}else{const u=we(n);if(u===".priority"){z(hi(n)===1,"Can't have a priority with additional path components");const c=s.getNode();l=t.serverCache.getNode();const d=I0(r,n,c,l);d!=null?a=e.filter.updatePriority(c,d):a=s.getNode()}else{const c=Ue(n);let d;if(s.isCompleteForChild(u)){l=t.serverCache.getNode();const f=I0(r,n,s.getNode(),l);f!=null?d=s.getNode().getImmediateChild(u).updateChild(c,f):d=s.getNode().getImmediateChild(u)}else d=Xg(r,u,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),u,d,c,i,o):a=s.getNode()}}return ya(t,a,s.isFullyInitialized()||ye(n),e.filter.filtersNodes())}}function Rc(e,t,n,r,i,o,s,a){const l=t.serverCache;let u;const c=s?e.filter:e.filter.getIndexedFilter();if(ye(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const g=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),g,null)}else{const g=we(n);if(!l.isCompleteForPath(n)&&hi(n)>1)return t;const y=Ue(n),E=l.getNode().getImmediateChild(g).updateChild(y,r);g===".priority"?u=c.updatePriority(l.getNode(),E):u=c.updateChild(l.getNode(),g,E,y,gT,null)}const d=cT(t,u,l.isFullyInitialized()||ye(n),c.filtersNodes()),f=new Jg(i,d,o);return vT(e,d,n,i,f,a)}function $p(e,t,n,r,i,o,s){const a=t.eventCache;let l,u;const c=new Jg(i,t,o);if(ye(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=ya(t,u,!0,e.filter.filtersNodes());else{const d=we(n);if(d===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),l=ya(t,u,a.isFullyInitialized(),a.isFiltered());else{const f=Ue(n),g=a.getNode().getImmediateChild(d);let y;if(ye(f))y=r;else{const h=c.getCompleteChild(d);h!=null?qC(f)===".priority"&&h.getChild(XC(f)).isEmpty()?y=h:y=h.updateChild(f,r):y=fe.EMPTY_NODE}if(g.equals(y))l=t;else{const h=e.filter.updateChild(a.getNode(),d,y,f,c,s);l=ya(t,h,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function b0(e,t){return e.eventCache.isCompleteForChild(t)}function KM(e,t,n,r,i,o,s){let a=t;return r.foreach((l,u)=>{const c=dt(n,l);b0(t,we(c))&&(a=$p(e,a,c,u,i,o,s))}),r.foreach((l,u)=>{const c=dt(n,l);b0(t,we(c))||(a=$p(e,a,c,u,i,o,s))}),a}function R0(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function jp(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,u;ye(n)?u=r:u=new We(null).setTree(n,r);const c=t.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const g=t.serverCache.getNode().getImmediateChild(d),y=R0(e,g,f);l=Rc(e,l,new De(d),y,i,o,s,a)}}),u.children.inorderTraversal((d,f)=>{const g=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!g){const y=t.serverCache.getNode().getImmediateChild(d),h=R0(e,y,f);l=Rc(e,l,new De(d),h,i,o,s,a)}}),l}function YM(e,t,n,r,i,o,s){if(bc(i,n)!=null)return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(ye(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Rc(e,t,n,l.getNode().getChild(n),i,o,a,s);if(ye(n)){let u=new We(null);return l.getNode().forEachChild(ni,(c,d)=>{u=u.set(new De(c),d)}),jp(e,t,n,u,i,o,a,s)}else return t}else{let u=new We(null);return r.foreach((c,d)=>{const f=dt(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),jp(e,t,n,u,i,o,a,s)}}function qM(e,t,n,r,i){const o=t.serverCache,s=cT(t,o.getNode(),o.isFullyInitialized()||ye(n),o.isFiltered());return vT(e,s,n,r,gT,i)}function QM(e,t,n,r,i,o){let s;if(bc(r,n)!=null)return t;{const a=new Jg(r,t,i),l=t.eventCache.getNode();let u;if(ye(n)||we(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=Ic(r,so(t));else{const d=t.serverCache.getNode();z(d instanceof fe,"serverChildren would be complete if leaf node"),c=Qg(r,d)}c=c,u=e.filter.updateFullNode(l,c,o)}else{const c=we(n);let d=Xg(r,c,t.serverCache);d==null&&t.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=e.filter.updateChild(l,c,d,Ue(n),a,o):t.eventCache.getNode().hasChild(c)?u=e.filter.updateChild(l,c,fe.EMPTY_NODE,Ue(n),a,o):u=l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Ic(r,so(t)),s.isLeafNode()&&(u=e.filter.updateFullNode(u,s,o)))}return s=t.serverCache.isFullyInitialized()||bc(r,Re())!=null,ya(t,u,s,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Gg(r.getIndex()),o=hM(r);this.processor_=WM(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(fe.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(fe.EMPTY_NODE,a.getNode(),null),c=new pi(l,s.isFullyInitialized(),i.filtersNodes()),d=new pi(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Md(d,c),this.eventGenerator_=new CM(this.query_)}get query(){return this.query_}}function JM(e){return e.viewCache_.serverCache.getNode()}function ZM(e){return xc(e.viewCache_)}function eF(e,t){const n=so(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ye(t)&&!n.getImmediateChild(we(t)).isEmpty())?n.getChild(t):null}function k0(e){return e.eventRegistrations_.length===0}function tF(e,t){e.eventRegistrations_.push(t)}function P0(e,t,n){const r=[];if(n){z(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){const s=e.eventRegistrations_[o];if(!s.matches(t))i.push(s);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function A0(e,t,n,r){t.type===Rn.MERGE&&t.source.queryId!==null&&(z(so(e.viewCache_),"We should always have a full cache before handling merges"),z(xc(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=HM(e.processor_,i,t,n,r);return VM(e.processor_,o.viewCache),z(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,yT(e,o.changes,o.viewCache.eventCache.getNode(),null)}function nF(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Qe,(o,s)=>{r.push(ds(o,s))}),n.isFullyInitialized()&&r.push(sT(n.getNode())),yT(e,r,n.getNode(),t)}function yT(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return TM(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc;class _T{constructor(){this.views=new Map}}function rF(e){z(!kc,"__referenceConstructor has already been defined"),kc=e}function iF(){return z(kc,"Reference.ts has not been loaded"),kc}function oF(e){return e.views.size===0}function Zg(e,t,n,r){const i=t.source.queryId;if(i!==null){const o=e.views.get(i);return z(o!=null,"SyncTree gave us an op for an invalid query."),A0(o,t,n,r)}else{let o=[];for(const s of e.views.values())o=o.concat(A0(s,t,n,r));return o}}function wT(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=Ic(n,i?r:null),l=!1;a?l=!0:r instanceof fe?(a=Qg(n,r),l=!1):(a=fe.EMPTY_NODE,l=!1);const u=Md(new pi(a,l,!1),new pi(r,i,!1));return new XM(t,u)}return s}function sF(e,t,n,r,i,o){const s=wT(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),tF(s,n),nF(s,n)}function aF(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=mi(e);if(i==="default")for(const[l,u]of e.views.entries())s=s.concat(P0(u,n,r)),k0(u)&&(e.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{const l=e.views.get(i);l&&(s=s.concat(P0(l,n,r)),k0(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!mi(e)&&o.push(new(iF())(t._repo,t._path)),{removed:o,events:s}}function ET(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ii(e,t){let n=null;for(const r of e.views.values())n=n||eF(r,t);return n}function ST(e,t){if(t._queryParams.loadsAllData())return Ud(e);{const r=t._queryIdentifier;return e.views.get(r)}}function CT(e,t){return ST(e,t)!=null}function mi(e){return Ud(e)!=null}function Ud(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc;function lF(e){z(!Pc,"__referenceConstructor has already been defined"),Pc=e}function uF(){return z(Pc,"Reference.ts has not been loaded"),Pc}let cF=1;class N0{constructor(t){this.listenProvider_=t,this.syncPointTree_=new We(null),this.pendingWriteTree_=$M(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function TT(e,t,n,r,i){return RM(e.pendingWriteTree_,t,n,r,i),i?Pl(e,new oo(uT(),t,n)):[]}function Ui(e,t,n=!1){const r=kM(e.pendingWriteTree_,t);if(PM(e.pendingWriteTree_,t)){let o=new We(null);return r.snap!=null?o=o.set(Re(),!0):qt(r.children,s=>{o=o.set(new De(s),!0)}),Pl(e,new Tc(r.path,o,n))}else return[]}function kl(e,t,n){return Pl(e,new oo(Yg(),t,n))}function dF(e,t,n){const r=We.fromObject(n);return Pl(e,new il(Yg(),t,r))}function fF(e,t){return Pl(e,new rl(Yg(),t))}function hF(e,t,n){const r=tv(e,n);if(r){const i=nv(r),o=i.path,s=i.queryId,a=Ut(o,t),l=new rl(qg(s),a);return rv(e,o,l)}else return[]}function xT(e,t,n,r,i=!1){const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&(t._queryIdentifier==="default"||CT(s,t))){const l=aF(s,t,n,r);oF(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(f,g)=>mi(g));if(c&&!d){const f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){const g=vF(f);for(let y=0;y<g.length;++y){const h=g[y],E=h.query,v=kT(e,h);e.listenProvider_.startListening(wa(E),ol(e,E),v.hashFn,v.onComplete)}}}!d&&u.length>0&&!r&&(c?e.listenProvider_.stopListening(wa(t),null):u.forEach(f=>{const g=e.queryToTagMap.get($d(f));e.listenProvider_.stopListening(wa(f),g)}))}yF(e,u)}return a}function IT(e,t,n,r){const i=tv(e,r);if(i!=null){const o=nv(i),s=o.path,a=o.queryId,l=Ut(s,t),u=new oo(qg(a),l,n);return rv(e,s,u)}else return[]}function pF(e,t,n,r){const i=tv(e,r);if(i){const o=nv(i),s=o.path,a=o.queryId,l=Ut(s,t),u=We.fromObject(n),c=new il(qg(a),l,u);return rv(e,s,c)}else return[]}function mF(e,t,n,r=!1){const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,g)=>{const y=Ut(f,i);o=o||ii(g,y),s=s||mi(g)});let a=e.syncPointTree_.get(i);a?(s=s||mi(a),o=o||ii(a,Re())):(a=new _T,e.syncPointTree_=e.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=fe.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((g,y)=>{const h=ii(y,Re());h&&(o=o.updateImmediateChild(g,h))}));const u=CT(a,t);if(!u&&!t._queryParams.loadsAllData()){const f=$d(t);z(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");const g=_F();e.queryToTagMap.set(f,g),e.tagToQueryMap.set(g,f)}const c=Fd(e.pendingWriteTree_,i);let d=sF(a,t,n,c,o,l);if(!u&&!s&&!r){const f=ST(a,t);d=d.concat(wF(e,t,f))}return d}function ev(e,t,n){const i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{const l=Ut(s,t),u=ii(a,l);if(u)return u});return hT(i,t,o,n,!0)}function gF(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=Ut(u,n);r=r||ii(c,d)});let i=e.syncPointTree_.get(n);i?r=r||ii(i,Re()):(i=new _T,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=r!=null,s=o?new pi(r,!0,!1):null,a=Fd(e.pendingWriteTree_,t._path),l=wT(i,t,a,o?s.getNode():fe.EMPTY_NODE,o);return ZM(l)}function Pl(e,t){return bT(t,e.syncPointTree_,null,Fd(e.pendingWriteTree_,Re()))}function bT(e,t,n,r){if(ye(e.path))return RT(e,t,n,r);{const i=t.get(Re());n==null&&i!=null&&(n=ii(i,Re()));let o=[];const s=we(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,c=pT(r,s);o=o.concat(bT(a,l,u,c))}return i&&(o=o.concat(Zg(i,e,r,n))),o}}function RT(e,t,n,r){const i=t.get(Re());n==null&&i!=null&&(n=ii(i,Re()));let o=[];return t.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=pT(r,s),c=e.operationForChild(s);c&&(o=o.concat(RT(c,a,l,u)))}),i&&(o=o.concat(Zg(i,e,r,n))),o}function kT(e,t){const n=t.query,r=ol(e,n);return{hashFn:()=>(JM(t)||fe.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?hF(e,n._path,r):fF(e,n._path);{const o=pL(i,n);return xT(e,n,null,o)}}}}function ol(e,t){const n=$d(t);return e.queryToTagMap.get(n)}function $d(e){return e._path.toString()+"$"+e._queryIdentifier}function tv(e,t){return e.tagToQueryMap.get(t)}function nv(e){const t=e.indexOf("$");return z(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new De(e.substr(0,t))}}function rv(e,t,n){const r=e.syncPointTree_.get(t);z(r,"Missing sync point for query tag that we're tracking");const i=Fd(e.pendingWriteTree_,t);return Zg(r,n,i,null)}function vF(e){return e.fold((t,n,r)=>{if(n&&mi(n))return[Ud(n)];{let i=[];return n&&(i=ET(n)),qt(r,(o,s)=>{i=i.concat(s)}),i}})}function wa(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(uF())(e._repo,e._path):e}function yF(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=$d(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function _F(){return cF++}function wF(e,t,n){const r=t._path,i=ol(e,t),o=kT(e,n),s=e.listenProvider_.startListening(wa(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)z(!mi(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!ye(u)&&c&&mi(c))return[Ud(c).query];{let f=[];return c&&(f=f.concat(ET(c).map(g=>g.query))),qt(d,(g,y)=>{f=f.concat(y)}),f}});for(let u=0;u<l.length;++u){const c=l[u];e.listenProvider_.stopListening(wa(c),ol(e,c))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new iv(n)}node(){return this.node_}}class ov{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=dt(this.path_,t);return new ov(this.syncTree_,n)}node(){return ev(this.syncTree_,this.path_)}}const EF=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},O0=function(e,t,n){if(!e||typeof e!="object")return e;if(z(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return SF(e[".sv"],t,n);if(typeof e[".sv"]=="object")return CF(e[".sv"],t);z(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},SF=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:z(!1,"Unexpected server value: "+e)}},CF=function(e,t,n){e.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&z(!1,"Unexpected increment value: "+r);const i=t.node();if(z(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},TF=function(e,t,n,r){return sv(t,new ov(n,e),r)},PT=function(e,t,n){return sv(e,new iv(t),n)};function sv(e,t,n){const r=e.getPriority().val(),i=O0(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const s=e,a=O0(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new ht(a,gt(i)):e}else{const s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new ht(i))),s.forEachChild(Qe,(a,l)=>{const u=sv(l,t.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function lv(e,t){let n=t instanceof De?t:new De(t),r=e,i=we(n);for(;i!==null;){const o=us(r.node.children,i)||{children:{},childCount:0};r=new av(i,r,o),n=Ue(n),i=we(n)}return r}function Ps(e){return e.node.value}function AT(e,t){e.node.value=t,Bp(e)}function NT(e){return e.node.childCount>0}function xF(e){return Ps(e)===void 0&&!NT(e)}function jd(e,t){qt(e.node.children,(n,r)=>{t(new av(n,e,r))})}function OT(e,t,n,r){n&&!r&&t(e),jd(e,i=>{OT(i,t,!0,r)}),n&&r&&t(e)}function IF(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Al(e){return new De(e.parent===null?e.name:Al(e.parent)+"/"+e.name)}function Bp(e){e.parent!==null&&bF(e.parent,e.name,e)}function bF(e,t,n){const r=xF(n),i=nr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Bp(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Bp(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=/[\[\].#$\/\u0000-\u001F\u007F]/,kF=/[\[\].#$\u0000-\u001F\u007F]/,Jf=10*1024*1024,uv=function(e){return typeof e=="string"&&e.length!==0&&!RF.test(e)},DT=function(e){return typeof e=="string"&&e.length!==0&&!kF.test(e)},PF=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),DT(e)},D0=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Ug(e)||e&&typeof e=="object"&&nr(e,".sv")},Nl=function(e,t,n,r){r&&t===void 0||cv(kd(e,"value"),t,n)},cv=function(e,t,n){const r=n instanceof De?new KL(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+ki(r));if(typeof t=="function")throw new Error(e+"contains a function "+ki(r)+" with contents = "+t.toString());if(Ug(t))throw new Error(e+"contains "+t.toString()+" "+ki(r));if(typeof t=="string"&&t.length>Jf/3&&Pd(t)>Jf)throw new Error(e+"contains a string greater than "+Jf+" utf8 bytes "+ki(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(qt(t,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!uv(s)))throw new Error(e+" contains an invalid key ("+s+") "+ki(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);YL(r,s),cv(e,a,r),qL(r)}),i&&o)throw new Error(e+' contains ".value" child '+ki(r)+" in addition to actual children.")}},LT=function(e,t,n,r){if(!(r&&n===void 0)&&!uv(n))throw new Error(kd(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},dv=function(e,t,n,r){if(!(r&&n===void 0)&&!DT(n))throw new Error(kd(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},AF=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),dv(e,t,n,r)},MT=function(e,t){if(we(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},NF=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!uv(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!PF(n))throw new Error(kd(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function FT(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();n!==null&&!JC(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function tr(e,t,n){FT(e,n),DF(e,r=>bn(r,t)||bn(t,r))}function DF(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const o=i.path;t(o)?(LF(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function LF(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();zi&&At("event: "+n.toString()),ks(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF="repo_interrupt",FF=25;class UF{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new OF,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Cc(),this.transactionQueueTree_=new av,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $F(e,t,n){if(e.stats_=Bg(e.repoInfo_),e.forceRestClient_||yL())e.server_=new Sc(e.repoInfo_,(r,i,o,s)=>{L0(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>M0(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ct(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new mr(e.repoInfo_,t,(r,i,o,s)=>{L0(e,r,i,o,s)},r=>{M0(e,r)},r=>{jF(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=CL(e.repoInfo_,()=>new SM(e.stats_,e.server_)),e.infoData_=new vM,e.infoSyncTree_=new N0({startListening:(r,i,o,s)=>{let a=[];const l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=kl(e.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),hv(e,"connected",!1),e.serverSyncTree_=new N0({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);tr(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function UT(e){const n=e.infoData_.getNode(new De(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function fv(e){return EF({timestamp:UT(e)})}function L0(e,t,n,r,i){e.dataUpdateCount++;const o=new De(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const l=fc(n,u=>gt(u));s=pF(e.serverSyncTree_,o,l,i)}else{const l=gt(n);s=IT(e.serverSyncTree_,o,l,i)}else if(r){const l=fc(n,u=>gt(u));s=dF(e.serverSyncTree_,o,l)}else{const l=gt(n);s=kl(e.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=zd(e,o)),tr(e.eventQueue_,a,s)}function M0(e,t){hv(e,"connected",t),t===!1&&WF(e)}function jF(e,t){qt(t,(n,r)=>{hv(e,n,r)})}function hv(e,t,n){const r=new De("/.info/"+t),i=gt(n);e.infoData_.updateSnapshot(r,i);const o=kl(e.infoSyncTree_,r,i);tr(e.eventQueue_,r,o)}function $T(e){return e.nextWriteId_++}function BF(e,t,n){const r=gF(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{const o=gt(i).withIndex(t._queryParams.getIndex());mF(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=kl(e.serverSyncTree_,t._path,o);else{const a=ol(e.serverSyncTree_,t);s=IT(e.serverSyncTree_,t._path,o,a)}return tr(e.eventQueue_,t._path,s),xT(e.serverSyncTree_,t,n,null,!0),o},i=>(Bd(e,"get for query "+ct(t)+" failed: "+i),Promise.reject(new Error(i))))}function zF(e,t,n,r,i){Bd(e,"set",{path:t.toString(),value:n,priority:r});const o=fv(e),s=gt(n,r),a=ev(e.serverSyncTree_,t),l=PT(s,a,o),u=$T(e),c=TT(e.serverSyncTree_,t,l,u,!0);FT(e.eventQueue_,c),e.server_.put(t.toString(),s.val(!0),(f,g)=>{const y=f==="ok";y||Yt("set at "+t+" failed: "+f);const h=Ui(e.serverSyncTree_,u,!y);tr(e.eventQueue_,t,h),HF(e,i,f,g)});const d=VT(e,t);zd(e,d),tr(e.eventQueue_,d,[])}function WF(e){Bd(e,"onDisconnectEvents");const t=fv(e),n=Cc();Mp(e.onDisconnect_,Re(),(i,o)=>{const s=TF(i,o,e.serverSyncTree_,t);lT(n,i,s)});let r=[];Mp(n,Re(),(i,o)=>{r=r.concat(kl(e.serverSyncTree_,i,o));const s=VT(e,i);zd(e,s)}),e.onDisconnect_=Cc(),tr(e.eventQueue_,Re(),r)}function VF(e){e.persistentConnection_&&e.persistentConnection_.interrupt(MF)}function Bd(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),At(n,...t)}function HF(e,t,n,r){t&&ks(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,t(s)}})}function jT(e,t,n){return ev(e.serverSyncTree_,t,n)||fe.EMPTY_NODE}function pv(e,t=e.transactionQueueTree_){if(t||Wd(e,t),Ps(t)){const n=zT(e,t);z(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&GF(e,Al(t),n)}else NT(t)&&jd(t,n=>{pv(e,n)})}function GF(e,t,n){const r=n.map(u=>u.currentWriteId),i=jT(e,t,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const c=n[u];z(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Ut(t,c.path);o=o.updateChild(d,c.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,u=>{Bd(e,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(Ui(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Wd(e,lv(e.transactionQueueTree_,t)),pv(e,e.transactionQueueTree_),tr(e.eventQueue_,t,c);for(let f=0;f<d.length;f++)ks(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Yt("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}zd(e,t)}},s)}function zd(e,t){const n=BT(e,t),r=Al(n),i=zT(e,n);return KF(e,i,r),r}function KF(e,t,n){if(t.length===0)return;const r=[];let i=[];const s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],u=Ut(n,l.path);let c=!1,d;if(z(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(Ui(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=FF)c=!0,d="maxretry",i=i.concat(Ui(e.serverSyncTree_,l.currentWriteId,!0));else{const f=jT(e,l.path,s);l.currentInputSnapshot=f;const g=t[a].update(f.val());if(g!==void 0){cv("transaction failed: Data returned ",g,l.path);let y=gt(g);typeof g=="object"&&g!=null&&nr(g,".priority")||(y=y.updatePriority(f.getPriority()));const E=l.currentWriteId,v=fv(e),m=PT(y,f,v);l.currentOutputSnapshotRaw=y,l.currentOutputSnapshotResolved=m,l.currentWriteId=$T(e),s.splice(s.indexOf(E),1),i=i.concat(TT(e.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally)),i=i.concat(Ui(e.serverSyncTree_,E,!0))}else c=!0,d="nodata",i=i.concat(Ui(e.serverSyncTree_,l.currentWriteId,!0))}tr(e.eventQueue_,n,i),i=[],c&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}Wd(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)ks(r[a]);pv(e,e.transactionQueueTree_)}function BT(e,t){let n,r=e.transactionQueueTree_;for(n=we(t);n!==null&&Ps(r)===void 0;)r=lv(r,n),t=Ue(t),n=we(t);return r}function zT(e,t){const n=[];return WT(e,t,n),n.sort((r,i)=>r.order-i.order),n}function WT(e,t,n){const r=Ps(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);jd(t,i=>{WT(e,i,n)})}function Wd(e,t){const n=Ps(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,AT(t,n.length>0?n:void 0)}jd(t,r=>{Wd(e,r)})}function VT(e,t){const n=Al(BT(e,t)),r=lv(e.transactionQueueTree_,t);return IF(r,i=>{Zf(e,i)}),Zf(e,r),OT(r,i=>{Zf(e,i)}),n}function Zf(e,t){const n=Ps(t);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(z(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(z(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Ui(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?AT(t,void 0):n.length=o+1,tr(e.eventQueue_,Al(t),i);for(let s=0;s<r.length;s++)ks(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function qF(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Yt(`Invalid query segment '${n}' in query '${e}'`)}return t}const F0=function(e,t){const n=QF(e),r=n.namespace;n.domain==="firebase.com"&&Sr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Sr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||uL();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new jC(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new De(n.pathString)}},QF=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");c===-1&&(c=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=YF(e.substring(c,d)));const f=qF(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(s=a==="https"||a==="wss",l=parseInt(t.substring(u+1),10)):u=t.length;const g=t.slice(0,u);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const y=t.indexOf(".");r=t.substring(0,y).toLowerCase(),n=t.substring(y+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",XF=function(){let e=0;const t=[];return function(n){const r=n===e;e=n;let i;const o=new Array(8);for(i=7;i>=0;i--)o[i]=U0.charAt(n%64),n=Math.floor(n/64);z(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=U0.charAt(t[i]);return z(s.length===20,"nextPushId: Length should be 20."),s}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ct(this.snapshot.exportVal())}}class ZF{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ye(this._path)?null:qC(this._path)}get ref(){return new Ir(this._repo,this._path)}get _queryIdentifier(){const t=E0(this._queryParams),n=$g(t);return n==="{}"?"default":n}get _queryObject(){return E0(this._queryParams)}isEqual(t){if(t=Ye(t),!(t instanceof Ei))return!1;const n=this._repo===t._repo,r=JC(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+GL(this._path)}}function HT(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function Vd(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===ni){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==io)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==fi)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===Qe){if(t!=null&&!D0(t)||n!=null&&!D0(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(z(e.getIndex()instanceof Hg||e.getIndex()===oT,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function GT(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ir extends Ei{constructor(t,n){super(t,n,new Kg,!1)}get parent(){const t=XC(this._path);return t===null?null:new Ir(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class sl{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new De(t),r=hs(this.ref,t);return new sl(this._node.getChild(n),r,Qe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new sl(i,hs(this.ref,r),Qe)))}hasChild(t){const n=new De(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ln(e,t){return e=Ye(e),e._checkNotDeleted("ref"),t!==void 0?hs(e._root,t):e._root}function hs(e,t){return e=Ye(e),we(e._path)===null?AF("child","path",t,!1):dv("child","path",t,!1),new Ir(e._repo,dt(e._path,t))}function t3(e,t){e=Ye(e),MT("push",e._path),Nl("push",t,e._path,!0);const n=UT(e._repo),r=XF(n),i=hs(e,r),o=hs(e,r);let s;return t!=null?s=Ol(o,t).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function Ol(e,t){e=Ye(e),MT("set",e._path),Nl("set",t,e._path,!1);const n=new Rd;return zF(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function As(e){e=Ye(e);const t=new e3(()=>{}),n=new mv(t);return BF(e._repo,e,n).then(r=>new sl(r,new Ir(e._repo,e._path),e._queryParams.getIndex()))}class mv{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new JF("value",this,new sl(t.snapshotNode,new Ir(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new ZF(this,t,n):null}matches(t){return t instanceof mv?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Ns{}class n3 extends Ns{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){Nl("endAt",this._value,t._path,!0);const n=gM(t._queryParams,this._value,this._key);if(GT(n),Vd(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ei(t._repo,t._path,n,t._orderByCalled)}}class KT extends Ns{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){Nl("startAt",this._value,t._path,!0);const n=mM(t._queryParams,this._value,this._key);if(GT(n),Vd(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ei(t._repo,t._path,n,t._orderByCalled)}}function r3(e=null,t){return LT("startAt","key",t,!0),new KT(e,t)}class i3 extends Ns{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ei(t._repo,t._path,pM(t._queryParams,this._limit),t._orderByCalled)}}function o3(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new i3(e)}class s3 extends Ns{constructor(t){super(),this._path=t}_apply(t){HT(t,"orderByChild");const n=new De(this._path);if(ye(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Hg(n),i=aT(t._queryParams,r);return Vd(i),new Ei(t._repo,t._path,i,!0)}}function a3(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return dv("orderByChild","path",e,!1),new s3(e)}class l3 extends Ns{_apply(t){HT(t,"orderByKey");const n=aT(t._queryParams,ni);return Vd(n),new Ei(t._repo,t._path,n,!0)}}function u3(){return new l3}class c3 extends Ns{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){if(Nl("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new n3(this._value,this._key)._apply(new KT(this._value,this._key)._apply(t))}}function d3(e,t){return LT("equalTo","key",t,!0),new c3(e,t)}function Hd(e,...t){let n=Ye(e);for(const r of t)n=r._apply(n);return n}rF(Ir);lF(Ir);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="FIREBASE_DATABASE_EMULATOR_HOST",zp={};let h3=!1;function p3(e,t,n,r){e.repoInfo_=new jC(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function m3(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||Sr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),At("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=F0(o,i),a=s.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[f3]),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=F0(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const c=i&&l?new Zo(Zo.OWNER):new wL(e.name,e.options,t);NF("Invalid Firebase Database URL",s),ye(s.path)||Sr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=v3(a,e,c,new _L(e.name,n));return new y3(d,e)}function g3(e,t){const n=zp[t];(!n||n[e.key]!==e)&&Sr(`Database ${t}(${e.repoInfo_}) has already been deleted.`),VF(e),delete n[e.key]}function v3(e,t,n,r){let i=zp[t.name];i||(i={},zp[t.name]=i);let o=i[e.toURLString()];return o&&Sr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new UF(e,h3,n,r),i[e.toURLString()]=o,o}class y3{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($F(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ir(this._repo,Re())),this._rootInternal}_delete(){return this._rootInternal!==null&&(g3(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Sr("Cannot call "+t+" on a deleted database.")}}function _3(e=Rg(),t){const n=Ad(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=FS("database");r&&w3(n,...r)}return n}function w3(e,t,n,r={}){e=Ye(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Sr("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Sr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Zo(Zo.OWNER);else if(r.mockUserToken){const s=typeof r.mockUserToken=="string"?r.mockUserToken:$S(r.mockUserToken,e.app.options.projectId);o=new Zo(s)}p3(i,t,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(e){iL(xs),to(new di("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return m3(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Qn(i0,o0,e),Qn(i0,o0,"esm2017")}mr.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};mr.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};E3();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="firebasestorage.googleapis.com",qT="storageBucket",S3=2*60*1e3,C3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt extends vn{constructor(t,n,r=0){super(eh(t),`Firebase Storage: ${n} (${eh(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rt.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return eh(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var nt;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(nt||(nt={}));function eh(e){return"storage/"+e}function gv(){const e="An unknown error occurred, please check the error payload for server response.";return new rt(nt.UNKNOWN,e)}function T3(e){return new rt(nt.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function x3(e){return new rt(nt.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function I3(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new rt(nt.UNAUTHENTICATED,e)}function b3(){return new rt(nt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function R3(e){return new rt(nt.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function k3(){return new rt(nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function P3(){return new rt(nt.CANCELED,"User canceled the upload/download.")}function A3(e){return new rt(nt.INVALID_URL,"Invalid URL '"+e+"'.")}function N3(e){return new rt(nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function O3(){return new rt(nt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+qT+"' property when initializing the app?")}function D3(){return new rt(nt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function L3(){return new rt(nt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function M3(e){return new rt(nt.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Wp(e){return new rt(nt.INVALID_ARGUMENT,e)}function QT(){return new rt(nt.APP_DELETED,"The Firebase app was deleted.")}function F3(e){return new rt(nt.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ea(e,t){return new rt(nt.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function qs(e){throw new rt(nt.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Zt.makeFromUrl(t,n)}catch{return new Zt(t,"")}if(r.path==="")return r;throw N3(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(S){S.path_=decodeURIComponent(S.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),y={bucket:1,path:3},h=n===YT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",v=new RegExp(`^https?://${h}/${i}/${E}`,"i"),_=[{regex:a,indices:l,postModify:o},{regex:g,indices:y,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let S=0;S<_.length;S++){const x=_[S],F=x.regex.exec(t);if(F){const L=F[x.indices.bucket];let B=F[x.indices.path];B||(B=""),r=new Zt(L,B),x.postModify(r);break}}if(r==null)throw A3(t);return r}}class U3{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...E){u||(u=!0,t.apply(null,E))}function d(E){i=setTimeout(()=>{i=null,e(g,l())},E)}function f(){o&&clearTimeout(o)}function g(E,...v){if(u){f();return}if(E){f(),c.call(null,E,...v);return}if(l()||s){f(),c.call(null,E,...v);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let y=!1;function h(E){y||(y=!0,f(),!u&&(i!==null?(E||(a=2),clearTimeout(i),d(0)):E||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,h(!0)},n),h}function j3(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(e){return e!==void 0}function z3(e){return typeof e=="object"&&!Array.isArray(e)}function vv(e){return typeof e=="string"||e instanceof String}function $0(e){return yv()&&e instanceof Blob}function yv(){return typeof Blob<"u"&&!IN()}function j0(e,t,n,r){if(r<t)throw Wp(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Wp(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function XT(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wi;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Wi||(Wi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(t,n,r,i,o,s,a,l,u,c,d,f=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,y)=>{this.resolve_=g,this.reject_=y,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new au(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Wi.NO_ERROR,l=o.getStatus();if(!a||W3(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===Wi.ABORT;r(!1,new au(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new au(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());B3(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=gv();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?QT():P3();s(l)}else{const l=k3();s(l)}};this.canceled_?n(!1,new au(!1,null,!0)):this.backoffId_=$3(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&j3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class au{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function H3(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function G3(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function K3(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Y3(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function q3(e,t,n,r,i,o,s=!0){const a=XT(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return K3(u,t),H3(u,n),G3(u,o),Y3(u,r),new V3(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function X3(...e){const t=Q3();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(yv())return new Blob(e);throw new rt(nt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function J3(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(e){if(typeof atob>"u")throw M3("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class th{constructor(t,n){this.data=t,this.contentType=n||null}}function JT(e,t){switch(e){case kn.RAW:return new th(ZT(t));case kn.BASE64:case kn.BASE64URL:return new th(ex(e,t));case kn.DATA_URL:return new th(tU(t),nU(t))}throw gv()}function ZT(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const o=r,s=e.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function eU(e){let t;try{t=decodeURIComponent(e)}catch{throw Ea(kn.DATA_URL,"Malformed data URL.")}return ZT(t)}function ex(e,t){switch(e){case kn.BASE64:{const i=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(i||o)throw Ea(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case kn.BASE64URL:{const i=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(i||o)throw Ea(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Z3(t)}catch(i){throw i.message.includes("polyfill")?i:Ea(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class tx{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Ea(kn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=rU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function tU(e){const t=new tx(e);return t.base64?ex(kn.BASE64,t.rest):eU(t.rest)}function nU(e){return new tx(e).contentType}function rU(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(t,n){let r=0,i="";$0(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if($0(this.data_)){const r=this.data_,i=J3(r,t,n);return i===null?null:new jr(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new jr(r,!0)}}static getBlob(...t){if(yv()){const n=t.map(r=>r instanceof jr?r.data_:r);return new jr(X3.apply(null,n))}else{const n=t.map(s=>vv(s)?JT(kn.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new jr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(e){let t;try{t=JSON.parse(e)}catch{return null}return z3(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function oU(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function rx(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(e,t){return t}class Mt{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||sU}}let lu=null;function aU(e){return!vv(e)||e.length<2?e:rx(e)}function ix(){if(lu)return lu;const e=[];e.push(new Mt("bucket")),e.push(new Mt("generation")),e.push(new Mt("metageneration")),e.push(new Mt("name","fullPath",!0));function t(o,s){return aU(s)}const n=new Mt("name");n.xform=t,e.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Mt("size");return i.xform=r,e.push(i),e.push(new Mt("timeCreated")),e.push(new Mt("updated")),e.push(new Mt("md5Hash",null,!0)),e.push(new Mt("cacheControl",null,!0)),e.push(new Mt("contentDisposition",null,!0)),e.push(new Mt("contentEncoding",null,!0)),e.push(new Mt("contentLanguage",null,!0)),e.push(new Mt("contentType",null,!0)),e.push(new Mt("metadata","customMetadata",!0)),lu=e,lu}function lU(e,t){function n(){const r=e.bucket,i=e.fullPath,o=new Zt(r,i);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function uU(e,t,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,t[s.server])}return lU(r,e),r}function ox(e,t,n){const r=nx(t);return r===null?null:uU(e,r,n)}function cU(e,t,n,r){const i=nx(t);if(i===null||!vv(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const c=e.bucket,d=e.fullPath,f="/b/"+s(c)+"/o/"+s(d),g=_v(f,n,r),y=XT({alt:"media",token:u});return g+y})[0]}function dU(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}class sx{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(e){if(!e)throw gv()}function fU(e,t){function n(r,i){const o=ox(e,i,t);return ax(o!==null),o}return n}function hU(e,t){function n(r,i){const o=ox(e,i,t);return ax(o!==null),cU(o,i,e.host,e._protocol)}return n}function lx(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=b3():i=I3():n.getStatus()===402?i=x3(e.bucket):n.getStatus()===403?i=R3(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function pU(e){const t=lx(e);function n(r,i){let o=t(r,i);return r.getStatus()===404&&(o=T3(e.path)),o.serverResponse=i.serverResponse,o}return n}function mU(e,t,n){const r=t.fullServerUrl(),i=_v(r,e.host,e._protocol),o="GET",s=e.maxOperationRetryTime,a=new sx(i,o,hU(e,n),s);return a.errorHandler=pU(t),a}function gU(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function vU(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=gU(null,t)),r}function yU(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let S=0;S<2;S++)_=_+Math.random().toString().slice(2);return _}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=vU(t,r,i),c=dU(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",g=jr.getBlob(d,r,f);if(g===null)throw D3();const y={name:u.fullPath},h=_v(o,e.host,e._protocol),E="POST",v=e.maxUploadRetryTime,m=new sx(h,E,fU(e,n),v);return m.urlParams=y,m.headers=s,m.body=g.uploadData(),m.errorHandler=lx(t),m}class _U{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Wi.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Wi.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Wi.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw qs("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qs("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qs("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw qs("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qs("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class wU extends _U{initXhr(){this.xhr_.responseType="text"}}function ux(){return new wU}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(t,n){this._service=t,n instanceof Zt?this._location=n:this._location=Zt.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new ao(t,n)}get root(){const t=new Zt(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rx(this._location.path)}get storage(){return this._service}get parent(){const t=iU(this._location.path);if(t===null)return null;const n=new Zt(this._location.bucket,t);return new ao(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw F3(t)}}function EU(e,t,n){e._throwIfRoot("uploadBytes");const r=yU(e.storage,e._location,ix(),new jr(t,!0),n);return e.storage.makeRequestWithTokens(r,ux).then(i=>({metadata:i,ref:e}))}function SU(e,t,n=kn.RAW,r){e._throwIfRoot("uploadString");const i=JT(n,t),o=Object.assign({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),EU(e,i.data,o)}function CU(e){e._throwIfRoot("getDownloadURL");const t=mU(e.storage,e._location,ix());return e.storage.makeRequestWithTokens(t,ux).then(n=>{if(n===null)throw L3();return n})}function TU(e,t){const n=oU(e._location.path,t),r=new Zt(e._location.bucket,n);return new ao(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(e){return/^[A-Za-z]+:\/\//.test(e)}function IU(e,t){return new ao(e,t)}function cx(e,t){if(e instanceof wv){const n=e;if(n._bucket==null)throw O3();const r=new ao(n,n._bucket);return t!=null?cx(r,t):r}else return t!==void 0?TU(e,t):e}function bU(e,t){if(t&&xU(t)){if(e instanceof wv)return IU(e,t);throw Wp("To use ref(service, url), the first argument must be a Storage instance.")}else return cx(e,t)}function B0(e,t){const n=t==null?void 0:t[qT];return n==null?null:Zt.makeFromBucketSpec(n,e)}function RU(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:$S(i,e.app.options.projectId))}class wv{constructor(t,n,r,i,o){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=YT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=S3,this._maxUploadRetryTime=C3,this._requests=new Set,i!=null?this._bucket=Zt.makeFromBucketSpec(i,this._host):this._bucket=B0(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Zt.makeFromBucketSpec(this._url,t):this._bucket=B0(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){j0("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){j0("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ao(this,t)}_makeRequest(t,n,r,i,o=!0){if(this._deleted)return new U3(QT());{const s=q3(t,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const z0="@firebase/storage",W0="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="storage";function kU(e,t,n,r){return e=Ye(e),SU(e,t,n,r)}function PU(e){return e=Ye(e),CU(e)}function AU(e,t){return e=Ye(e),bU(e,t)}function NU(e=Rg(),t){e=Ye(e);const r=Ad(e,dx).getImmediate({identifier:t}),i=FS("storage");return i&&OU(r,...i),r}function OU(e,t,n,r={}){RU(e,t,n,r)}function DU(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new wv(n,r,i,t,xs)}function LU(){to(new di(dx,DU,"PUBLIC").setMultipleInstances(!0)),Qn(z0,W0,""),Qn(z0,W0,"esm2017")}LU();HS({apiKey:"AIzaSyBKpiqsPJCrZr8sSvhdgzYUgTs3qGEOacA",authDomain:"shop-860f7.firebaseapp.com",databaseURL:"https://shop-860f7-default-rtdb.firebaseio.com",projectId:"shop-860f7",storageBucket:"shop-860f7.appspot.com",messagingSenderId:"757856082793",appId:"1:757856082793:web:9592a351144bf65acdbbf8",measurementId:"G-BT5DR6FHFM"});const ps=rL(),Mn=_3(),MU=NU();zD(ps,async e=>{var t;if(e!=null&&e.emailVerified){const n=await px(e.uid);n||(await mx(e.uid,{name:e.displayName||"Noname"}),await mC(e,{displayName:null}));const r=await((t=ps.currentUser)==null?void 0:t.getIdTokenResult());tt.dispatch(Ya({id:e.uid,name:n?n.name:e.displayName,email:e.email,seller:r==null?void 0:r.claims.seller,auth:!0,init:!0}))}else tt.dispatch(Ya({auth:!1,init:!0}));tt.dispatch(Vp())});const FU=async()=>As(Hd(Ln(Mn,"products"),o3(10))).then(e=>e==null?void 0:e.val()),fx=async e=>As(Hd(Ln(Mn,`products/${e}`))).then(t=>t==null?void 0:t.val()),UU=()=>{const e=tt.getState().user;if(!e.init||!e.auth||!e.seller)throw new Error("user error");return e.id+t3(hs(Ln(Mn),"products")).key},$U=async(e,t)=>{const n=tt.getState().user;if(!n.init||!n.auth||!n.seller)throw new Error("user error");await Ol(Ln(Mn,`products/${e}`),t)},jU=async(e,t)=>{const n=tt.getState().user;if(!n.init||!n.auth||!n.seller)throw new Error("user error");await Ol(Ln(Mn,`products/${e}/price`),t)},BU=async e=>As(Ln(Mn,`carts/${e}`)).then(t=>t==null?void 0:t.val()),zU=async(e,t)=>Ol(Ln(Mn,`carts/${e}`),t),hx=async e=>As(Hd(Ln(Mn,"users"),a3("name"),d3(e))).then(t=>t==null?void 0:t.val()),px=async e=>As(Ln(Mn,`users/${e}`)).then(t=>t==null?void 0:t.val()),mx=async(e,t)=>{await Ol(Ln(Mn,`users/${e}`),t)},WU=async(e,t,n)=>{try{if(await hx(e))throw new Error("name-already-in-use");const{user:i}=await MD(ps,t,n);await mC(i,{displayName:e}),await UD(i)}catch(r){throw r instanceof vn?new Error(r.code):r}},VU=async(e,t)=>{try{const{user:n}=await FD(ps,e,t);if(!n.emailVerified)throw new Error("email-not-verified")}catch(n){throw n instanceof vn?new Error(n.code):n}},HU=async()=>{WD(ps)},GU=async e=>{const t=tt.getState().user;if(!t.init||!t.auth)throw new Error("no-user");if(await hx(t.name))throw new Error("same-user");await mx(t.id,{name:e})},KU=async e=>{try{await LD(ps,e)}catch(t){throw t instanceof vn?new Error(t.code):t}},YU=async e=>As(Hd(Ln(Mn,"products"),u3(),r3(e))).then(t=>t==null?void 0:t.val()),V0=async(e,t,n)=>{const r=AU(MU,`products/${e}/image-${n}`);return await kU(r,t,"data_url"),PU(r).then(i=>i)},Ev=async()=>{const e=tt.getState();e.user.auth?await zU(e.user.id,{products:e.cart.products}):localStorage.setItem("cartProducts",JSON.stringify(e.cart.products))},nh=e=>{e.status="loading"},rh=e=>{e.status="ready"},qU={status:null,products:{}},gx=xd({name:"cart",initialState:qU,reducers:{set:(e,t)=>{e.products=t.payload},add:(e,t)=>{if(e.products[t.payload])e.products[t.payload].count++;else{const n={count:1};e.products[t.payload]=n}},remove:(e,t)=>{var n;((n=e.products[t.payload])==null?void 0:n.count)>1?e.products[t.payload].count--:delete e.products[t.payload]}},extraReducers:e=>{e.addCase(Vp.pending,nh),e.addCase(Vp.fulfilled,rh),e.addCase(Hp.pending,nh),e.addCase(Hp.fulfilled,rh),e.addCase(Gp.pending,nh),e.addCase(Gp.fulfilled,rh)}}),{set:H0,add:QU,remove:XU}=gx.actions,JU=gx.reducer,Vp=Sg("cart/initCart",async()=>{var n;const e=tt.getState(),t=JSON.parse(localStorage.getItem("cartProducts")||"{}");if(e.user.auth){const i={...((n=await BU(e.user.id))==null?void 0:n.products)||{},...t};tt.dispatch(H0(i)),localStorage.removeItem("cartProducts"),await Ev()}else tt.dispatch(H0(t))}),ZU=async()=>{const e=tt.getState().cart;return e.status==="ready"?e:new Promise(t=>{const n=tt.subscribe(()=>{const r=tt.getState().cart;r.status==="ready"&&(n(),t(r))})})},Hp=Sg("cart/addToCart",async e=>{tt.dispatch(QU(e)),await Ev()}),Gp=Sg("cart/removeFromCart",async e=>{tt.dispatch(XU(e)),await Ev()}),vx=xd({name:"loader",initialState:!1,reducers:{loaderSet:(e,t)=>t.payload}}),{loaderSet:G0}=vx.actions,e$=vx.reducer,tt=oN({reducer:{popup:mN,user:gN,cart:JU,loader:e$}}),t$="modulepreload",n$=function(e){return"/"+e},K0={},r$=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=n$(o),o in K0)return;K0[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const d=i[c];if(d.href===o&&(!s||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":t$,s||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),s)return new Promise((c,d)=>{u.addEventListener("load",c),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t())};function i$(e){function t(W,p,U,ie,k){for(var w=0,C=0,I=0,T=0,O,M,G=0,b=0,K,ge=K=O=0,de=0,xe=0,Tt=0,R=0,Y=U.length,ee=Y-1,X,V="",ae="",je="",Dt="",A;de<Y;){if(M=U.charCodeAt(de),de===ee&&C+T+I+w!==0&&(C!==0&&(M=C===47?10:47),T=I=w=0,Y++,ee++),C+T+I+w===0){if(de===ee&&(0<xe&&(V=V.replace(f,"")),0<V.trim().length)){switch(M){case 32:case 9:case 59:case 13:case 10:break;default:V+=U.charAt(de)}M=59}switch(M){case 123:for(V=V.trim(),O=V.charCodeAt(0),K=1,R=++de;de<Y;){switch(M=U.charCodeAt(de)){case 123:K++;break;case 125:K--;break;case 47:switch(M=U.charCodeAt(de+1)){case 42:case 47:e:{for(ge=de+1;ge<ee;++ge)switch(U.charCodeAt(ge)){case 47:if(M===42&&U.charCodeAt(ge-1)===42&&de+2!==ge){de=ge+1;break e}break;case 10:if(M===47){de=ge+1;break e}}de=ge}}break;case 91:M++;case 40:M++;case 34:case 39:for(;de++<ee&&U.charCodeAt(de)!==M;);}if(K===0)break;de++}switch(K=U.substring(R,de),O===0&&(O=(V=V.replace(d,"").trim()).charCodeAt(0)),O){case 64:switch(0<xe&&(V=V.replace(f,"")),M=V.charCodeAt(1),M){case 100:case 109:case 115:case 45:xe=p;break;default:xe=Ct}if(K=t(p,xe,K,M,k+1),R=K.length,0<H&&(xe=n(Ct,V,Tt),A=a(3,K,xe,p,Pe,Te,R,M,k,ie),V=xe.join(""),A!==void 0&&(R=(K=A.trim()).length)===0&&(M=0,K="")),0<R)switch(M){case 115:V=V.replace(F,s);case 100:case 109:case 45:K=V+"{"+K+"}";break;case 107:V=V.replace(m,"$1 $2"),K=V+"{"+K+"}",K=He===1||He===2&&o("@"+K,3)?"@-webkit-"+K+"@"+K:"@"+K;break;default:K=V+K,ie===112&&(K=(ae+=K,""))}else K="";break;default:K=t(p,n(p,V,Tt),K,ie,k+1)}je+=K,K=Tt=xe=ge=O=0,V="",M=U.charCodeAt(++de);break;case 125:case 59:if(V=(0<xe?V.replace(f,""):V).trim(),1<(R=V.length))switch(ge===0&&(O=V.charCodeAt(0),O===45||96<O&&123>O)&&(R=(V=V.replace(" ",":")).length),0<H&&(A=a(1,V,p,W,Pe,Te,ae.length,ie,k,ie))!==void 0&&(R=(V=A.trim()).length)===0&&(V="\0\0"),O=V.charCodeAt(0),M=V.charCodeAt(1),O){case 0:break;case 64:if(M===105||M===99){Dt+=V+U.charAt(de);break}default:V.charCodeAt(R-1)!==58&&(ae+=i(V,O,M,V.charCodeAt(2)))}Tt=xe=ge=O=0,V="",M=U.charCodeAt(++de)}}switch(M){case 13:case 10:C===47?C=0:1+O===0&&ie!==107&&0<V.length&&(xe=1,V+="\0"),0<H*te&&a(0,V,p,W,Pe,Te,ae.length,ie,k,ie),Te=1,Pe++;break;case 59:case 125:if(C+T+I+w===0){Te++;break}default:switch(Te++,X=U.charAt(de),M){case 9:case 32:if(T+w+C===0)switch(G){case 44:case 58:case 9:case 32:X="";break;default:M!==32&&(X=" ")}break;case 0:X="\\0";break;case 12:X="\\f";break;case 11:X="\\v";break;case 38:T+C+w===0&&(xe=Tt=1,X="\f"+X);break;case 108:if(T+C+w+Me===0&&0<ge)switch(de-ge){case 2:G===112&&U.charCodeAt(de-3)===58&&(Me=G);case 8:b===111&&(Me=b)}break;case 58:T+C+w===0&&(ge=de);break;case 44:C+I+T+w===0&&(xe=1,X+="\r");break;case 34:case 39:C===0&&(T=T===M?0:T===0?M:T);break;case 91:T+C+I===0&&w++;break;case 93:T+C+I===0&&w--;break;case 41:T+C+w===0&&I--;break;case 40:if(T+C+w===0){if(O===0)switch(2*G+3*b){case 533:break;default:O=1}I++}break;case 64:C+I+T+w+ge+K===0&&(K=1);break;case 42:case 47:if(!(0<T+w+I))switch(C){case 0:switch(2*M+3*U.charCodeAt(de+1)){case 235:C=47;break;case 220:R=de,C=42}break;case 42:M===47&&G===42&&R+2!==de&&(U.charCodeAt(R+2)===33&&(ae+=U.substring(R,de+1)),X="",C=0)}}C===0&&(V+=X)}b=G,G=M,de++}if(R=ae.length,0<R){if(xe=p,0<H&&(A=a(2,ae,xe,W,Pe,Te,R,ie,k,ie),A!==void 0&&(ae=A).length===0))return Dt+ae+je;if(ae=xe.join(",")+"{"+ae+"}",He*Me!==0){switch(He!==2||o(ae,2)||(Me=0),Me){case 111:ae=ae.replace(S,":-moz-$1")+ae;break;case 112:ae=ae.replace(_,"::-webkit-input-$1")+ae.replace(_,"::-moz-$1")+ae.replace(_,":-ms-input-$1")+ae}Me=0}}return Dt+ae+je}function n(W,p,U){var ie=p.trim().split(E);p=ie;var k=ie.length,w=W.length;switch(w){case 0:case 1:var C=0;for(W=w===0?"":W[0]+" ";C<k;++C)p[C]=r(W,p[C],U).trim();break;default:var I=C=0;for(p=[];C<k;++C)for(var T=0;T<w;++T)p[I++]=r(W[T]+" ",ie[C],U).trim()}return p}function r(W,p,U){var ie=p.charCodeAt(0);switch(33>ie&&(ie=(p=p.trim()).charCodeAt(0)),ie){case 38:return p.replace(v,"$1"+W.trim());case 58:return W.trim()+p.replace(v,"$1"+W.trim());default:if(0<1*U&&0<p.indexOf("\f"))return p.replace(v,(W.charCodeAt(0)===58?"":"$1")+W.trim())}return W+p}function i(W,p,U,ie){var k=W+";",w=2*p+3*U+4*ie;if(w===944){W=k.indexOf(":",9)+1;var C=k.substring(W,k.length-1).trim();return C=k.substring(0,W).trim()+C+";",He===1||He===2&&o(C,1)?"-webkit-"+C+C:C}if(He===0||He===2&&!o(k,1))return k;switch(w){case 1015:return k.charCodeAt(10)===97?"-webkit-"+k+k:k;case 951:return k.charCodeAt(3)===116?"-webkit-"+k+k:k;case 963:return k.charCodeAt(5)===110?"-webkit-"+k+k:k;case 1009:if(k.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+k+k;case 978:return"-webkit-"+k+"-moz-"+k+k;case 1019:case 983:return"-webkit-"+k+"-moz-"+k+"-ms-"+k+k;case 883:if(k.charCodeAt(8)===45)return"-webkit-"+k+k;if(0<k.indexOf("image-set(",11))return k.replace(me,"$1-webkit-$2")+k;break;case 932:if(k.charCodeAt(4)===45)switch(k.charCodeAt(5)){case 103:return"-webkit-box-"+k.replace("-grow","")+"-webkit-"+k+"-ms-"+k.replace("grow","positive")+k;case 115:return"-webkit-"+k+"-ms-"+k.replace("shrink","negative")+k;case 98:return"-webkit-"+k+"-ms-"+k.replace("basis","preferred-size")+k}return"-webkit-"+k+"-ms-"+k+k;case 964:return"-webkit-"+k+"-ms-flex-"+k+k;case 1023:if(k.charCodeAt(8)!==99)break;return C=k.substring(k.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+C+"-webkit-"+k+"-ms-flex-pack"+C+k;case 1005:return y.test(k)?k.replace(g,":-webkit-")+k.replace(g,":-moz-")+k:k;case 1e3:switch(C=k.substring(13).trim(),p=C.indexOf("-")+1,C.charCodeAt(0)+C.charCodeAt(p)){case 226:C=k.replace(x,"tb");break;case 232:C=k.replace(x,"tb-rl");break;case 220:C=k.replace(x,"lr");break;default:return k}return"-webkit-"+k+"-ms-"+C+k;case 1017:if(k.indexOf("sticky",9)===-1)break;case 975:switch(p=(k=W).length-10,C=(k.charCodeAt(p)===33?k.substring(0,p):k).substring(W.indexOf(":",7)+1).trim(),w=C.charCodeAt(0)+(C.charCodeAt(7)|0)){case 203:if(111>C.charCodeAt(8))break;case 115:k=k.replace(C,"-webkit-"+C)+";"+k;break;case 207:case 102:k=k.replace(C,"-webkit-"+(102<w?"inline-":"")+"box")+";"+k.replace(C,"-webkit-"+C)+";"+k.replace(C,"-ms-"+C+"box")+";"+k}return k+";";case 938:if(k.charCodeAt(5)===45)switch(k.charCodeAt(6)){case 105:return C=k.replace("-items",""),"-webkit-"+k+"-webkit-box-"+C+"-ms-flex-"+C+k;case 115:return"-webkit-"+k+"-ms-flex-item-"+k.replace(B,"")+k;default:return"-webkit-"+k+"-ms-flex-line-pack"+k.replace("align-content","").replace(B,"")+k}break;case 973:case 989:if(k.charCodeAt(3)!==45||k.charCodeAt(4)===122)break;case 931:case 953:if(Q.test(W)===!0)return(C=W.substring(W.indexOf(":")+1)).charCodeAt(0)===115?i(W.replace("stretch","fill-available"),p,U,ie).replace(":fill-available",":stretch"):k.replace(C,"-webkit-"+C)+k.replace(C,"-moz-"+C.replace("fill-",""))+k;break;case 962:if(k="-webkit-"+k+(k.charCodeAt(5)===102?"-ms-"+k:"")+k,U+ie===211&&k.charCodeAt(13)===105&&0<k.indexOf("transform",10))return k.substring(0,k.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+k}return k}function o(W,p){var U=W.indexOf(p===1?":":"{"),ie=W.substring(0,p!==3?U:10);return U=W.substring(U+1,W.length-1),q(p!==2?ie:ie.replace(se,"$1"),U,p)}function s(W,p){var U=i(p,p.charCodeAt(0),p.charCodeAt(1),p.charCodeAt(2));return U!==p+";"?U.replace(L," or ($1)").substring(4):"("+p+")"}function a(W,p,U,ie,k,w,C,I,T,O){for(var M=0,G=p,b;M<H;++M)switch(b=Ze[M].call(c,W,G,U,ie,k,w,C,I,T,O)){case void 0:case!1:case!0:case null:break;default:G=b}if(G!==p)return G}function l(W){switch(W){case void 0:case null:H=Ze.length=0;break;default:if(typeof W=="function")Ze[H++]=W;else if(typeof W=="object")for(var p=0,U=W.length;p<U;++p)l(W[p]);else te=!!W|0}return l}function u(W){return W=W.prefix,W!==void 0&&(q=null,W?typeof W!="function"?He=1:(He=2,q=W):He=0),u}function c(W,p){var U=W;if(33>U.charCodeAt(0)&&(U=U.trim()),Ce=U,U=[Ce],0<H){var ie=a(-1,p,U,U,Pe,Te,0,0,0,0);ie!==void 0&&typeof ie=="string"&&(p=ie)}var k=t(Ct,U,p,0,0);return 0<H&&(ie=a(-2,k,U,U,Pe,Te,k.length,0,0,0),ie!==void 0&&(k=ie)),Ce="",Me=0,Te=Pe=1,k}var d=/^\0+/g,f=/[\0\r\f]/g,g=/: */g,y=/zoo|gra/,h=/([,: ])(transform)/g,E=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,_=/::(place)/g,S=/:(read-only)/g,x=/[svh]\w+-[tblr]{2}/,F=/\(\s*(.*)\s*\)/g,L=/([\s\S]*?);/g,B=/-self|flex-/g,se=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Q=/stretch|:\s*\w+\-(?:conte|avail)/,me=/([^-])(image-set\()/,Te=1,Pe=1,Me=0,He=1,Ct=[],Ze=[],H=0,q=null,te=0,Ce="";return c.use=l,c.set=u,e!==void 0&&u(e),c}var o$={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function s$(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var a$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Y0=s$(function(e){return a$.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function Vn(){return(Vn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var q0=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},Kp=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!rc.typeOf(e)},Ac=Object.freeze([]),oi=Object.freeze({});function al(e){return typeof e=="function"}function Q0(e){return e.displayName||e.name||"Component"}function Sv(e){return e&&typeof e.styledComponentId=="string"}var ms=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",Cv=typeof window<"u"&&"HTMLElement"in window,l$=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""?{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY:!1)),u$={};function Dl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var c$=function(){function e(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var t=e.prototype;return t.indexOfGroup=function(n){for(var r=0,i=0;i<n;i++)r+=this.groupSizes[i];return r},t.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var i=this.groupSizes,o=i.length,s=o;n>=s;)(s<<=1)<0&&Dl(16,""+n);this.groupSizes=new Uint32Array(s),this.groupSizes.set(i),this.length=s;for(var a=o;a<s;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(n+1),u=0,c=r.length;u<c;u++)this.tag.insertRule(l,r[u])&&(this.groupSizes[n]++,l++)},t.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],i=this.indexOfGroup(n),o=i+r;this.groupSizes[n]=0;for(var s=i;s<o;s++)this.tag.deleteRule(i)}},t.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var i=this.groupSizes[n],o=this.indexOfGroup(n),s=o+i,a=o;a<s;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},e}(),Au=new Map,Nc=new Map,Sa=1,uu=function(e){if(Au.has(e))return Au.get(e);for(;Nc.has(Sa);)Sa++;var t=Sa++;return Au.set(e,t),Nc.set(t,e),t},d$=function(e){return Nc.get(e)},f$=function(e,t){t>=Sa&&(Sa=t+1),Au.set(e,t),Nc.set(t,e)},h$="style["+ms+'][data-styled-version="5.3.8"]',p$=new RegExp("^"+ms+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),m$=function(e,t,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&e.registerName(t,r)},g$=function(e,t){for(var n=(t.textContent||"").split(`/*!sc*/
`),r=[],i=0,o=n.length;i<o;i++){var s=n[i].trim();if(s){var a=s.match(p$);if(a){var l=0|parseInt(a[1],10),u=a[2];l!==0&&(f$(u,l),m$(e,u,a[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(s)}}},v$=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},yx=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(a){for(var l=a.childNodes,u=l.length;u>=0;u--){var c=l[u];if(c&&c.nodeType===1&&c.hasAttribute(ms))return c}}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(ms,"active"),r.setAttribute("data-styled-version","5.3.8");var s=v$();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},y$=function(){function e(n){var r=this.element=yx(n);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var o=document.styleSheets,s=0,a=o.length;s<a;s++){var l=o[s];if(l.ownerNode===i)return l}Dl(17)}(r),this.length=0}var t=e.prototype;return t.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},t.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},t.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},e}(),_$=function(){function e(n){var r=this.element=yx(n);this.nodes=r.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(n,r){if(n<=this.length&&n>=0){var i=document.createTextNode(r),o=this.nodes[n];return this.element.insertBefore(i,o||null),this.length++,!0}return!1},t.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},t.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},e}(),w$=function(){function e(n){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},t.deleteRule=function(n){this.rules.splice(n,1),this.length--},t.getRule=function(n){return n<this.length?this.rules[n]:""},e}(),X0=Cv,E$={isServer:!Cv,useCSSOMInjection:!l$},Oc=function(){function e(n,r,i){n===void 0&&(n=oi),r===void 0&&(r={}),this.options=Vn({},E$,{},n),this.gs=r,this.names=new Map(i),this.server=!!n.isServer,!this.server&&Cv&&X0&&(X0=!1,function(o){for(var s=document.querySelectorAll(h$),a=0,l=s.length;a<l;a++){var u=s[a];u&&u.getAttribute(ms)!=="active"&&(g$(o,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}e.registerId=function(n){return uu(n)};var t=e.prototype;return t.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new e(Vn({},this.options,{},n),this.gs,r&&this.names||void 0)},t.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},t.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,o=r.useCSSOMInjection,s=r.target,n=i?new w$(s):o?new y$(s):new _$(s),new c$(n)));var n,r,i,o,s},t.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},t.registerName=function(n,r){if(uu(n),this.names.has(n))this.names.get(n).add(r);else{var i=new Set;i.add(r),this.names.set(n,i)}},t.insertRules=function(n,r,i){this.registerName(n,r),this.getTag().insertRules(uu(n),i)},t.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},t.clearRules=function(n){this.getTag().clearGroup(uu(n)),this.clearNames(n)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(n){for(var r=n.getTag(),i=r.length,o="",s=0;s<i;s++){var a=d$(s);if(a!==void 0){var l=n.names.get(a),u=r.getGroup(s);if(l&&u&&l.size){var c=ms+".g"+s+'[id="'+a+'"]',d="";l!==void 0&&l.forEach(function(f){f.length>0&&(d+=f+",")}),o+=""+u+c+'{content:"'+d+`"}/*!sc*/
`}}}return o}(this)},e}(),S$=/(a)(d)/gi,J0=function(e){return String.fromCharCode(e+(e>25?39:97))};function Yp(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=J0(t%52)+n;return(J0(t%52)+n).replace(S$,"$1-$2")}var jo=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},_x=function(e){return jo(5381,e)};function wx(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(al(n)&&!Sv(n))return!1}return!0}var C$=_x("5.3.8"),T$=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&wx(t),this.componentId=n,this.baseHash=jo(C$,n),this.baseStyle=r,Oc.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var i=this.componentId,o=[];if(this.baseStyle&&o.push(this.baseStyle.generateAndInjectStyles(t,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(i,this.staticRulesId))o.push(this.staticRulesId);else{var s=lo(this.rules,t,n,r).join(""),a=Yp(jo(this.baseHash,s)>>>0);if(!n.hasNameForId(i,a)){var l=r(s,"."+a,void 0,i);n.insertRules(i,a,l)}o.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=jo(this.baseHash,r.hash),d="",f=0;f<u;f++){var g=this.rules[f];if(typeof g=="string")d+=g;else if(g){var y=lo(g,t,n,r),h=Array.isArray(y)?y.join(""):y;c=jo(c,h+f),d+=h}}if(d){var E=Yp(c>>>0);if(!n.hasNameForId(i,E)){var v=r(d,"."+E,void 0,i);n.insertRules(i,E,v)}o.push(E)}}return o.join(" ")},e}(),x$=/^\s*\/\/.*$/gm,I$=[":","[",".","#"];function b$(e){var t,n,r,i,o=e===void 0?oi:e,s=o.options,a=s===void 0?oi:s,l=o.plugins,u=l===void 0?Ac:l,c=new i$(a),d=[],f=function(h){function E(v){if(v)try{h(v+"}")}catch{}}return function(v,m,_,S,x,F,L,B,se,Q){switch(v){case 1:if(se===0&&m.charCodeAt(0)===64)return h(m+";"),"";break;case 2:if(B===0)return m+"/*|*/";break;case 3:switch(B){case 102:case 112:return h(_[0]+m),"";default:return m+(Q===0?"/*|*/":"")}case-2:m.split("/*|*/}").forEach(E)}}}(function(h){d.push(h)}),g=function(h,E,v){return E===0&&I$.indexOf(v[n.length])!==-1||v.match(i)?h:"."+t};function y(h,E,v,m){m===void 0&&(m="&");var _=h.replace(x$,""),S=E&&v?v+" "+E+" { "+_+" }":_;return t=m,n=E,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),c(v||!E?"":E,S)}return c.use([].concat(u,[function(h,E,v){h===2&&v.length&&v[0].lastIndexOf(n)>0&&(v[0]=v[0].replace(r,g))},f,function(h){if(h===-2){var E=d;return d=[],E}}])),y.hash=u.length?u.reduce(function(h,E){return E.name||Dl(15),jo(h,E.name)},5381).toString():"",y}var Ex=Ee.createContext();Ex.Consumer;var Sx=Ee.createContext(),R$=(Sx.Consumer,new Oc),qp=b$();function Cx(){return P.useContext(Ex)||R$}function Tx(){return P.useContext(Sx)||qp}var k$=function(){function e(t,n){var r=this;this.inject=function(i,o){o===void 0&&(o=qp);var s=r.name+o.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,o(r.rules,s,"@keyframes"))},this.toString=function(){return Dl(12,String(r.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=n}return e.prototype.getName=function(t){return t===void 0&&(t=qp),this.name+t.hash},e}(),P$=/([A-Z])/,A$=/([A-Z])/g,N$=/^ms-/,O$=function(e){return"-"+e.toLowerCase()};function Z0(e){return P$.test(e)?e.replace(A$,O$).replace(N$,"-ms-"):e}var ew=function(e){return e==null||e===!1||e===""};function lo(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],s=0,a=e.length;s<a;s+=1)(i=lo(e[s],t,n,r))!==""&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}if(ew(e))return"";if(Sv(e))return"."+e.styledComponentId;if(al(e)){if(typeof(u=e)!="function"||u.prototype&&u.prototype.isReactComponent||!t)return e;var l=e(t);return lo(l,t,n,r)}var u;return e instanceof k$?n?(e.inject(n,r),e.getName(r)):e:Kp(e)?function c(d,f){var g,y,h=[];for(var E in d)d.hasOwnProperty(E)&&!ew(d[E])&&(Array.isArray(d[E])&&d[E].isCss||al(d[E])?h.push(Z0(E)+":",d[E],";"):Kp(d[E])?h.push.apply(h,c(d[E],E)):h.push(Z0(E)+": "+(g=E,(y=d[E])==null||typeof y=="boolean"||y===""?"":typeof y!="number"||y===0||g in o$?String(y).trim():y+"px")+";"));return f?[f+" {"].concat(h,["}"]):h}(e):e.toString()}var tw=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function Tv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return al(e)||Kp(e)?tw(lo(q0(Ac,[e].concat(n)))):n.length===0&&e.length===1&&typeof e[0]=="string"?e:tw(lo(q0(e,n)))}var xx=function(e,t,n){return n===void 0&&(n=oi),e.theme!==n.theme&&e.theme||t||n.theme},D$=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,L$=/(^-|-$)/g;function ih(e){return e.replace(D$,"-").replace(L$,"")}var Ix=function(e){return Yp(_x(e)>>>0)};function cu(e){return typeof e=="string"&&!0}var Qp=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},M$=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"};function F$(e,t,n){var r=e[n];Qp(t)&&Qp(r)?bx(r,t):e[n]=t}function bx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i];if(Qp(s))for(var a in s)M$(a)&&F$(e,s[a],a)}return e}var xv=Ee.createContext();xv.Consumer;var oh={};function Rx(e,t,n){var r=Sv(e),i=!cu(e),o=t.attrs,s=o===void 0?Ac:o,a=t.componentId,l=a===void 0?function(m,_){var S=typeof m!="string"?"sc":ih(m);oh[S]=(oh[S]||0)+1;var x=S+"-"+Ix("5.3.8"+S+oh[S]);return _?_+"-"+x:x}(t.displayName,t.parentComponentId):a,u=t.displayName,c=u===void 0?function(m){return cu(m)?"styled."+m:"Styled("+Q0(m)+")"}(e):u,d=t.displayName&&t.componentId?ih(t.displayName)+"-"+t.componentId:t.componentId||l,f=r&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,g=t.shouldForwardProp;r&&e.shouldForwardProp&&(g=t.shouldForwardProp?function(m,_,S){return e.shouldForwardProp(m,_,S)&&t.shouldForwardProp(m,_,S)}:e.shouldForwardProp);var y,h=new T$(n,d,r?e.componentStyle:void 0),E=h.isStatic&&s.length===0,v=function(m,_){return function(S,x,F,L){var B=S.attrs,se=S.componentStyle,Q=S.defaultProps,me=S.foldedComponentIds,Te=S.shouldForwardProp,Pe=S.styledComponentId,Me=S.target,He=function(ie,k,w){ie===void 0&&(ie=oi);var C=Vn({},k,{theme:ie}),I={};return w.forEach(function(T){var O,M,G,b=T;for(O in al(b)&&(b=b(C)),b)C[O]=I[O]=O==="className"?(M=I[O],G=b[O],M&&G?M+" "+G:M||G):b[O]}),[C,I]}(xx(x,P.useContext(xv),Q)||oi,x,B),Ct=He[0],Ze=He[1],H=function(ie,k,w,C){var I=Cx(),T=Tx(),O=k?ie.generateAndInjectStyles(oi,I,T):ie.generateAndInjectStyles(w,I,T);return O}(se,L,Ct),q=F,te=Ze.$as||x.$as||Ze.as||x.as||Me,Ce=cu(te),W=Ze!==x?Vn({},x,{},Ze):x,p={};for(var U in W)U[0]!=="$"&&U!=="as"&&(U==="forwardedAs"?p.as=W[U]:(Te?Te(U,Y0,te):!Ce||Y0(U))&&(p[U]=W[U]));return x.style&&Ze.style!==x.style&&(p.style=Vn({},x.style,{},Ze.style)),p.className=Array.prototype.concat(me,Pe,H!==Pe?H:null,x.className,Ze.className).filter(Boolean).join(" "),p.ref=q,P.createElement(te,p)}(y,m,_,E)};return v.displayName=c,(y=Ee.forwardRef(v)).attrs=f,y.componentStyle=h,y.displayName=c,y.shouldForwardProp=g,y.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):Ac,y.styledComponentId=d,y.target=r?e.target:e,y.withComponent=function(m){var _=t.componentId,S=function(F,L){if(F==null)return{};var B,se,Q={},me=Object.keys(F);for(se=0;se<me.length;se++)B=me[se],L.indexOf(B)>=0||(Q[B]=F[B]);return Q}(t,["componentId"]),x=_&&_+"-"+(cu(m)?m:ih(Q0(m)));return Rx(m,Vn({},S,{attrs:f,componentId:x}),n)},Object.defineProperty(y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(m){this._foldedDefaultProps=r?bx({},e.defaultProps,m):m}}),y.toString=function(){return"."+y.styledComponentId},i&&gA(y,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),y}var Xp=function(e){return function t(n,r,i){if(i===void 0&&(i=oi),!rc.isValidElementType(r))return Dl(1,String(r));var o=function(){return n(r,i,Tv.apply(void 0,arguments))};return o.withConfig=function(s){return t(n,r,Vn({},i,{},s))},o.attrs=function(s){return t(n,r,Vn({},i,{attrs:Array.prototype.concat(i.attrs,s).filter(Boolean)}))},o}(Rx,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){Xp[e]=Xp(e)});var U$=function(){function e(n,r){this.rules=n,this.componentId=r,this.isStatic=wx(n),Oc.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(n,r,i,o){var s=o(lo(this.rules,r,i,o).join(""),""),a=this.componentId+n;i.insertRules(a,a,s)},t.removeStyles=function(n,r){r.clearRules(this.componentId+n)},t.renderStyles=function(n,r,i,o){n>2&&Oc.registerId(this.componentId+n),this.removeStyles(n,i),this.createStyles(n,r,i,o)},e}();function $$(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Tv.apply(void 0,[e].concat(n)),o="sc-global-"+Ix(JSON.stringify(i)),s=new U$(i,o);function a(u){var c=Cx(),d=Tx(),f=P.useContext(xv),g=P.useRef(c.allocateGSInstance(o)).current;return c.server&&l(g,u,c,f,d),P.useLayoutEffect(function(){if(!c.server)return l(g,u,c,f,d),function(){return s.removeStyles(g,c)}},[g,u,c,f,d]),null}function l(u,c,d,f,g){if(s.isStatic)s.renderStyles(u,u$,d,g);else{var y=Vn({},c,{theme:xx(c,f,a.defaultProps)});s.renderStyles(u,y,d,g)}}return Ee.memo(a)}const Z=Xp,j$="/assets/logo-33ebcac9.png",B$="/assets/ShadowsIntoLight-Regular-2d697208.ttf",z$="/assets/bg-a3cf2b2e.jpg";var kx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nw=Ee.createContext&&Ee.createContext(kx),si=globalThis&&globalThis.__assign||function(){return si=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},si.apply(this,arguments)},W$=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Px(e){return e&&e.map(function(t,n){return Ee.createElement(t.tag,si({key:n},t.attr),Px(t.child))})}function Ax(e){return function(t){return Ee.createElement(V$,si({attr:si({},e.attr)},t),Px(e.child))}}function V$(e){var t=function(n){var r=e.attr,i=e.size,o=e.title,s=W$(e,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),Ee.createElement("svg",si({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:si(si({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&Ee.createElement("title",null,o),e.children)};return nw!==void 0?Ee.createElement(nw.Consumer,null,function(n){return t(n)}):t(kx)}function H$(e){return Ax({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z",fill:"currentColor"}}]})(e)}function G$(e){return Ax({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor"}}]})(e)}const Vi={laptop:"@media (max-width: 1280px)",tablet:"@media (max-width: 1024px)",mobileL:"@media (max-width: 768px)",mobileM:"@media (max-width: 480px)"},K$=$$`
  @font-face {
    font-family: 'Shadows Into Light';
    src: url(${B$});
  }
  body {
    margin: 0;
    background-image: url(${z$});
    background-position: top center;
    scrollbar-width: thin;
    scrollbar-color: #333 #222;
    &::-webkit-scrollbar {
      width: 0;
    }
    #root {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      main {
        flex-grow: 1;
        max-width: 1580px;
        padding: 30px 10px;
        margin: auto;
      }
    }
  }
`,Xt=Z.label`
  font-family: "Shadows Into Light", cursive;
  font-size: 24px;
  color: ${({invalid:e})=>e?"#4F1010":"#d9d9d9"};
`,Zn=Z.button`
  height: ${e=>e.size==="small"?"28px":"42px"};
  background: #d9d9d9;
  border: none;
  border-radius: 10px;
  font-family: "Roboto";
  font-size: 14px;
  color: #222;
  padding: 0 ${e=>e.size==="small"?"20px":"52px"};
  transition: filter 0.2s, background-color 0.2s;
  display: flex;
  align-items: center;
  cursor: pointer;
  &:hover:not(:disabled) {
    filter: brightness(1.1);
  }
  &:disabled {
    background: #c0c0c0;
    color: #999;
    cursor: auto;
  }
`,Nx=e=>Tv`
  border: 1px solid ${e?"#4F1010":"#d9d9d9"};
  border-radius: 10px;
  background: none;
  outline: none;
  padding: 4px 8px;
  font-family: "Roboto";
  font-size: 16px;
  color: #000;
  &:disabled {
    color: #d9d9d9;
    background-color: #d9d9d944;
  }
`,In=Z.input`
  ${e=>Nx(e.invalid)}
`,Y$=Z.textarea`
  ${e=>Nx(e.invalid)}
  resize: none;
`,q$=Z.div`
  position: relative;
  z-index: 10;
`,Q$=Z(In)`
  padding-right: 30px;
  width: 100%;
  box-sizing: border-box;
`,X$=Z.button`
  position: absolute;
  background: none;
  border: none;
  top: 0;
  bottom: 0;
  right: 0;
  width: 30px;
  cursor: pointer;
  svg path {
    fill: #d9d9d9;
  }
`,Ox=e=>{const[t,n]=P.useState(!1),r={...e,type:t?"text":"password"};return he(q$,{children:[N(Q$,{...r}),N(X$,{type:"button",onClick:()=>n(!t),children:t?N(G$,{}):N(H$,{})})]})},Hn=Z.span`
  font-family: "Roboto";
  font-size: 13px;
  color: #4f1010;
  margin-top: 5px;
  display: ${({invalid:e})=>e?"block":"none"};
`,Jp=Z(Xr)`
  font-family: "Roboto";
  font-size: 16;
  font-weight: bold;
  color: #d9d9d9;
  text-transform: uppercase;
  text-decoration: none;
  display: flex;
  align-items: center;
  &:hover {
    text-decoration: underline;
  }
`,J$=Z.header`
  padding: 0 calc(50% - 780px);
  box-sizing: border-box;
  height: 48px;
  margin: 40px 0 0;
  background: #222;
  display: flex;
  align-items: center;
  ${Vi.tablet} {
    height: 34px;
    margin: 36px 0 0;
  }
  ${Vi.mobileM} {
    height: 25px;
    margin: 28px 0 0;
  }
`,Z$=Z(Xr)`
  margin-bottom: 16px;
  margin-left: 20px;
  ${Vi.tablet} {
    img {
      margin-top: 4px;
      width: 316px;
    }
  }
  ${Vi.mobileM} {
    img {
      margin-top: 7px;
      width: 240px;
    }
  }
`,e4=Z.div`
  margin: 0 20px 4px auto;
  display: flex;
  align-items: center;
  align-content: center;
  gap: 20px;
  a {
    font-size: 36px;
    font-family: "Shadows Into Light", cursive;
    color: #d9d9d9;
    text-decoration: none;
  }
`,t4=()=>{const{user:e,cart:t}=xr(i=>i),[n,r]=P.useState(0);return P.useEffect(()=>{t.status==="ready"&&r(Object.entries(t.products).reduce((i,[o,s])=>i+s.count,0))},[t]),he(J$,{children:[N(Z$,{to:"/",children:N("img",{src:j$})}),he(e4,{children:[e.auth&&e.seller&&N(Xr,{to:"/store",children:"store"}),N(Xr,{to:"/person",children:"person"}),he(Xr,{to:"/cart",children:["cart",!!n&&`: ${n}`]})]})]})},n4=Z.footer`
  box-sizing: border-box;
  height: 26px;
  padding: 0 calc(50vw - (1600px - 40px) / 2);
  background: #000;
  display: flex;
  align-items: center;
  justify-content: center;
`,r4=Z.span`
  font-family: "Roboto";
  font-size: 14px;
  color: #333;
`,i4=()=>N(n4,{children:N(r4,{children:"copyright  enmourn@gmail.com"})}),o4="/assets/close-579e8a3f.svg";function Zp(e,t){return Zp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zp(e,t)}function Iv(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Zp(e,t)}function s4(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function a4(e,t){e.classList?e.classList.add(t):s4(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function rw(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function l4(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=rw(e.className,t):e.setAttribute("class",rw(e.className&&e.className.baseVal||"",t))}const iw={disabled:!1},bv=Ee.createContext(null);var Dx=function(t){return t.scrollTop},oa="unmounted",Pi="exited",dn="entering",Wn="entered",ll="exiting",br=function(e){Iv(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=Pi,o.appearStatus=dn):l=Wn:r.unmountOnExit||r.mountOnEnter?l=oa:l=Pi,o.state={status:l},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===oa?{status:Pi}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==dn&&s!==Wn&&(o=dn):(s===dn||s===Wn)&&(o=ll)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===dn){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:ru.findDOMNode(this);s&&Dx(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Pi&&this.setState({status:oa})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[ru.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!s||iw.disabled){this.safeSetState({status:Wn},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:dn},function(){o.props.onEntering(u,c),o.onTransitionEnd(f,function(){o.safeSetState({status:Wn},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:ru.findDOMNode(this);if(!o||iw.disabled){this.safeSetState({status:Pi},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:ll},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Pi},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:ru.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===oa)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=pS(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ee.createElement(bv.Provider,{value:null},typeof s=="function"?s(i,a):Ee.cloneElement(Ee.Children.only(s),a))},t}(Ee.Component);br.contextType=bv;br.propTypes={};function Co(){}br.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Co,onEntering:Co,onEntered:Co,onExit:Co,onExiting:Co,onExited:Co};br.UNMOUNTED=oa;br.EXITED=Pi;br.ENTERING=dn;br.ENTERED=Wn;br.EXITING=ll;const u4=br;var c4=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return a4(t,r)})},sh=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return l4(t,r)})},Rv=function(e){Iv(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var u=r.resolveArguments(a,l),c=u[0],d=u[1];r.removeClasses(c,"exit"),r.addClass(c,d?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var u=r.resolveArguments(a,l),c=u[0],d=u[1],f=d?"appear":"enter";r.addClass(c,f,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var u=r.resolveArguments(a,l),c=u[0],d=u[1],f=d?"appear":"enter";r.removeClasses(c,f),r.addClass(c,f,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),u=l[0];r.removeClasses(u,"appear"),r.removeClasses(u,"enter"),r.addClass(u,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),u=l[0];r.addClass(u,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),u=l[0];r.removeClasses(u,"exit"),r.addClass(u,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,u=typeof l=="string",c=u&&l?l+"-":"",d=u?""+c+a:l[a],f=u?d+"-active":l[a+"Active"],g=u?d+"-done":l[a+"Done"];return{baseClassName:d,activeClassName:f,doneClassName:g}},r}var n=t.prototype;return n.addClass=function(i,o,s){var a=this.getClassNames(o)[s+"ClassName"],l=this.getClassNames("enter"),u=l.doneClassName;o==="appear"&&s==="done"&&u&&(a+=" "+u),s==="active"&&i&&Dx(i),a&&(this.appliedClasses[o][s]=a,c4(i,a))},n.removeClasses=function(i,o){var s=this.appliedClasses[o],a=s.base,l=s.active,u=s.done;this.appliedClasses[o]={},a&&sh(i,a),l&&sh(i,l),u&&sh(i,u)},n.render=function(){var i=this.props;i.classNames;var o=pS(i,["classNames"]);return Ee.createElement(u4,vp({},o,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(Ee.Component);Rv.defaultProps={classNames:""};Rv.propTypes={};const ow=Rv;var du,fu;function d4(e,t){return!(e===t||Ee.isValidElement(e)&&Ee.isValidElement(t)&&e.key!=null&&e.key===t.key)}var gs={out:"out-in",in:"in-out"},Dc=function(t,n,r){return function(){var i;t.props[n]&&(i=t.props)[n].apply(i,arguments),r()}},f4=(du={},du[gs.out]=function(e){var t=e.current,n=e.changeState;return Ee.cloneElement(t,{in:!1,onExited:Dc(t,"onExited",function(){n(dn,null)})})},du[gs.in]=function(e){var t=e.current,n=e.changeState,r=e.children;return[t,Ee.cloneElement(r,{in:!0,onEntered:Dc(r,"onEntered",function(){n(dn)})})]},du),h4=(fu={},fu[gs.out]=function(e){var t=e.children,n=e.changeState;return Ee.cloneElement(t,{in:!0,onEntered:Dc(t,"onEntered",function(){n(Wn,Ee.cloneElement(t,{in:!0}))})})},fu[gs.in]=function(e){var t=e.current,n=e.children,r=e.changeState;return[Ee.cloneElement(t,{in:!1,onExited:Dc(t,"onExited",function(){r(Wn,Ee.cloneElement(n,{in:!0}))})}),Ee.cloneElement(n,{in:!0})]},fu),kv=function(e){Iv(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,r.state={status:Wn,current:null},r.appeared=!1,r.changeState=function(a,l){l===void 0&&(l=r.state.current),r.setState({status:a,current:l})},r}var n=t.prototype;return n.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(i,o){return i.children==null?{current:null}:o.status===dn&&i.mode===gs.in?{status:dn}:o.current&&d4(o.current,i.children)?{status:ll}:{current:Ee.cloneElement(i.children,{in:!0})}},n.render=function(){var i=this.props,o=i.children,s=i.mode,a=this.state,l=a.status,u=a.current,c={children:o,current:u,changeState:this.changeState,status:l},d;switch(l){case dn:d=h4[s](c);break;case ll:d=f4[s](c);break;case Wn:d=u}return Ee.createElement(bv.Provider,{value:{isMounting:!this.appeared}},d)},t}(Ee.Component);kv.propTypes={};kv.defaultProps={mode:gs.out};const p4=kv,Lx=Z.div`
  display: grid;
  justify-items: center;
  background: #d9d9d9;
  border-radius: 20px;
  padding: 20px 20px;
  width: 480px;
  box-sizing: border-box;
`,Mx=Z.span`
  font-family: "Shadows Into Light";
  font-size: 32px;
  font-weight: 400;
`,Fx=Z.span`
  margin-top: 5px;
  font-family: "Roboto";
  font-size: 15px;
  color: #222;
  text-align: center;
`,Ux=Z(Zn)`
  background: #222;
  color: #d9d9d9;
  margin-top: 15px;
`,m4=()=>{const e=ho(),t=xr(n=>n.user.email)||"your email";return he(Lx,{children:[N(Mx,{children:"Check your email"}),he(Fx,{children:["We have sent a confirmation link to ",t,", please follow the link to complete registration."]}),N(Ux,{onClick:()=>e(Id(null)),children:"OK"})]})},g4=()=>{const e=ho(),t=xr(n=>n.user.email)||"your email";return he(Lx,{children:[N(Mx,{children:"Check your email"}),he(Fx,{children:["We have sent a recovery link to ",t,", please follow the link to change your password."]}),N(Ux,{onClick:()=>e(Id(null)),children:"OK"})]})},v4=Z.div`
  position: fixed;
  z-index: 999;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: rgba(0, 0, 0, 0.3);
  visibility: hidden;
  opacity: 0;
  transition: opacity 300ms;
  &.enter-active,
  &.enter-done {
    visibility: visible;
    opacity: 1;
  }
  &.exit-active {
    visibility: visible;
    opacity: 0;
  }
`,y4=Z.div`
  position: fixed;
  z-index: 1000;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  margin: auto;
  max-width: fit-content;
  max-height: fit-content;
  transform: translateY(-100vh);
  transition: transform 500ms;
  &.active.enter-active,
  &.active.enter-done {
    transform: translateY(0);
  }
`,_4=Z.button`
  position: absolute;
  z-index: 1;
  right: 10px;
  top: 10px;
  border: none;
  background: none;
  cursor: pointer;
`,w4={AlertEmailVerification:m4,AlertPasswordRestore:g4},E4=()=>{const e=ho(),t=oS(),n=xr(a=>t.state==="idle"?a.popup:null),r=n&&w4[n],i=Ee.useRef(null),o=Ee.useRef(null),s=()=>{e(Id(null))};return he("section",{children:[N(ow,{in:!!n,appear:!0,nodeRef:i,timeout:500,children:N(v4,{onClick:s,ref:i})}),N(p4,{children:N(ow,{appear:!0,timeout:500,nodeRef:o,children:he(y4,{ref:o,className:n?"active":"",children:[N(_4,{onClick:s,children:N("img",{src:o4})}),r&&N(r,{})]})},n)})]})},$x="/assets/logo-small-93d10527.svg",S4=Z(Xr)`
  text-decoration: none;
  transition: background-color 0.2s;
  display: grid;
  align-content: flex-start;
`,C4=Z.img`
  max-width: 100%;
`,T4=Z.div`
  font-family: "Roboto";
  color: black;
  font-size: 14px;
  display: grid;
  padding: 0 10px 10px 10px;
`,x4=Z.span`
  font-size: 20px;
  font-weight: bold;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,I4=Z.span`
  font-size: 15px;
  font-weight: bold;
  text-transform: uppercase;
  color: #490000;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,b4=Z.p`
  margin: 10px 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,R4=Z.span`
  color: white;
  background: rgba(0, 0, 0, 0.1);
  justify-self: flex-start;
  padding: 2px 15px;
`,jx=({id:e,product:t})=>he(S4,{to:`/product/${e}`,children:[N(C4,{src:t.image[632]||$x}),he(T4,{children:[N(x4,{children:t.title}),N(I4,{children:t.subtitle}),N(b4,{children:t.description}),he(R4,{children:[t.price,""]})]})]}),k4=Z.section`
  box-sizing: border-box;
  display: grid;
  align-content: start;
  grid-template-columns: repeat(5, 1fr);
  ${Vi.laptop} {
    grid-template-columns: repeat(4, 1fr);
  }
  ${Vi.tablet} {
    grid-template-columns: repeat(3, 1fr);
  }
  ${Vi.mobileL} {
    grid-template-columns: repeat(2, 1fr);
  }
`,P4=async()=>({products:await FU()||{}}),A4=()=>{const{products:e}=nd();return N("main",{children:N(k4,{children:Object.entries(e).map(([t,n])=>N(jx,{id:t,product:n},t))})})},N4=Z.main`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-family: "Shadows Into Light", cursive;
  font-size: 64px;
  color: #d9d9d9;
`,sw={400:"client side error",403:"access denied",404:"page not found",500:"server side error"},O4=()=>{const e=sS(),t=og(e);return he(N4,{children:[he("span",{children:["Error ",t?e.status:400]}),N("span",{children:t?e.statusText||sw[e.status]:sw[400]})]})},D4=Z.main`
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: auto;
`,L4=Z.h1`
  font-family: "Shadows Into Light";
  font-size: 48px;
  font-weight: 400;
  color: #d9d9d9;
  justify-self: center;
`,M4=Z.form`
  display: grid;
  position: relative;
`,F4=Z(Zn)`
  justify-self: center;
  margin-top: 40px;
`,U4=Z(Zn)`
  margin-top: 10px;
  justify-self: center;
`,$4=()=>{const e=ho(),t=xr(u=>u.user),[n,r]=P.useState(t.name||""),[i,o]=P.useState(!1),s=t.name===n;return he(D4,{children:[N(L4,{children:"Data"}),he(M4,{onSubmit:async u=>{u.preventDefault(),o(!0);try{await GU(n),e(Ya({name:n}))}catch(c){c instanceof Error&&alert(c.message)}o(!1)},children:[N(Xt,{children:"Name"}),N(In,{name:"name",onChange:u=>{r(u.target.value)},value:n,required:!0,disabled:i}),N(Xt,{children:"Email"}),N(In,{name:"email",defaultValue:t.email||"",disabled:!0}),N(F4,{disabled:s||i,children:"Save"}),N(U4,{type:"button",disabled:i,onClick:HU,children:"Exit"})]})]})},em="/assets/cd-mockup-c318b30a.png",j4=function(){function e(w,C,I){return Math.max(w,Math.min(C,I))}function t(w){return{_:w,loadContentsOf:function(C){p=this._.gl,this._.loadContentsOf(C)},destroy:function(){p=this._.gl,this._.destroy()}}}function n(w){return t(ie.fromElement(w))}function r(w,C){var I=p.UNSIGNED_BYTE;if(p.getExtension("OES_texture_float")&&p.getExtension("OES_texture_float_linear")){var T=new ie(100,100,p.RGBA,p.FLOAT);try{T.drawTo(function(){I=p.FLOAT})}catch{}T.destroy()}this._.texture&&this._.texture.destroy(),this._.spareTexture&&this._.spareTexture.destroy(),this.width=w,this.height=C,this._.texture=new ie(w,C,p.RGBA,I),this._.spareTexture=new ie(w,C,p.RGBA,I),this._.extraTexture=this._.extraTexture||new ie(0,0,p.RGBA,I),this._.flippedShader=this._.flippedShader||new U(null,"uniform sampler2D texture;varying vec2 texCoord;void main(){gl_FragColor=texture2D(texture,vec2(texCoord.x,1.0-texCoord.y));}"),this._.isInitialized=!0}function i(w,C,I){return this._.isInitialized&&w._.width==this.width&&w._.height==this.height||r.call(this,C||w._.width,I||w._.height),w._.use(),this._.texture.drawTo(function(){U.getDefaultShader().drawRect()}),this}function o(){return this._.texture.use(),this._.flippedShader.drawRect(),this}function s(w,C,I,T){(I||this._.texture).use(),this._.spareTexture.drawTo(function(){w.uniforms(C).drawRect()}),this._.spareTexture.swapWith(T||this._.texture)}function a(w){return w.parentNode.insertBefore(this,w),w.parentNode.removeChild(w),this}function l(){var w=new ie(this._.texture.width,this._.texture.height,p.RGBA,p.UNSIGNED_BYTE);return this._.texture.use(),w.drawTo(function(){U.getDefaultShader().drawRect()}),t(w)}function u(){var w=this._.texture.width,C=this._.texture.height,I=new Uint8Array(4*w*C);return this._.texture.drawTo(function(){p.readPixels(0,0,w,C,p.RGBA,p.UNSIGNED_BYTE,I)}),I}function c(w){return function(){return p=this._.gl,w.apply(this,arguments)}}function d(w,C,I,T,O,M,G,b){var Tt=I-O,K=T-M,xe=G-O,ge=b-M;O=w-I+O-G,M=C-T+M-b;var de=Tt*ge-xe*K,xe=(O*ge-xe*M)/de,Tt=(Tt*M-O*K)/de;return[I-w+xe*I,T-C+xe*T,xe,G-w+Tt*G,b-C+Tt*b,Tt,w,C,1]}function f(w){var C=w[0],I=w[1],T=w[2],O=w[3],M=w[4],G=w[5],b=w[6],K=w[7];w=w[8];var ge=C*M*w-C*G*K-I*O*w+I*G*b+T*O*K-T*M*b;return[(M*w-G*K)/ge,(T*K-I*w)/ge,(I*G-T*M)/ge,(G*b-O*w)/ge,(C*w-T*b)/ge,(T*O-C*G)/ge,(O*K-M*b)/ge,(I*b-C*K)/ge,(C*M-I*O)/ge]}function g(w){var C=w.length;this.xa=[],this.ya=[],this.u=[],this.y2=[],w.sort(function(M,G){return M[0]-G[0]});for(var I=0;I<C;I++)this.xa.push(w[I][0]),this.ya.push(w[I][1]);for(this.u[0]=0,this.y2[0]=0,I=1;I<C-1;++I){w=this.xa[I+1]-this.xa[I-1];var T=(this.xa[I]-this.xa[I-1])/w,O=T*this.y2[I-1]+2;this.y2[I]=(T-1)/O,this.u[I]=(6*((this.ya[I+1]-this.ya[I])/(this.xa[I+1]-this.xa[I])-(this.ya[I]-this.ya[I-1])/(this.xa[I]-this.xa[I-1]))/w-T*this.u[I-1])/O}for(this.y2[C-1]=0,I=C-2;0<=I;--I)this.y2[I]=this.y2[I]*this.y2[I+1]+this.u[I]}function y(w,C){return new U(null,w+"uniform sampler2D texture;uniform vec2 texSize;varying vec2 texCoord;void main(){vec2 coord=texCoord*texSize;"+C+"gl_FragColor=texture2D(texture,coord/texSize);vec2 clampedCoord=clamp(coord,vec2(0.0),texSize);if(coord!=clampedCoord){gl_FragColor.a*=max(0.0,1.0-length(coord-clampedCoord));}}")}function h(w,C){return p.brightnessContrast=p.brightnessContrast||new U(null,"uniform sampler2D texture;uniform float brightness;uniform float contrast;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);color.rgb+=brightness;if(contrast>0.0){color.rgb=(color.rgb-0.5)/(1.0-contrast)+0.5;}else{color.rgb=(color.rgb-0.5)*(1.0+contrast)+0.5;}gl_FragColor=color;}"),s.call(this,p.brightnessContrast,{brightness:e(-1,w,1),contrast:e(-1,C,1)}),this}function E(w){w=new g(w);for(var C=[],I=0;256>I;I++)C.push(e(0,Math.floor(256*w.interpolate(I/255)),255));return C}function v(w,C,I){w=E(w),arguments.length==1?C=I=w:(C=E(C),I=E(I));for(var T=[],O=0;256>O;O++)T.splice(T.length,0,w[O],C[O],I[O],255);return this._.extraTexture.initFromBytes(256,1,T),this._.extraTexture.use(1),p.curves=p.curves||new U(null,"uniform sampler2D texture;uniform sampler2D map;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);color.r=texture2D(map,vec2(color.r)).r;color.g=texture2D(map,vec2(color.g)).g;color.b=texture2D(map,vec2(color.b)).b;gl_FragColor=color;}"),p.curves.textures({map:1}),s.call(this,p.curves,{}),this}function m(w){p.denoise=p.denoise||new U(null,"uniform sampler2D texture;uniform float exponent;uniform float strength;uniform vec2 texSize;varying vec2 texCoord;void main(){vec4 center=texture2D(texture,texCoord);vec4 color=vec4(0.0);float total=0.0;for(float x=-4.0;x<=4.0;x+=1.0){for(float y=-4.0;y<=4.0;y+=1.0){vec4 sample=texture2D(texture,texCoord+vec2(x,y)/texSize);float weight=1.0-abs(dot(sample.rgb-center.rgb,vec3(0.25)));weight=pow(weight,exponent);color+=sample*weight;total+=weight;}}gl_FragColor=color/total;}");for(var C=0;2>C;C++)s.call(this,p.denoise,{exponent:Math.max(0,w),texSize:[this.width,this.height]});return this}function _(w,C){return p.hueSaturation=p.hueSaturation||new U(null,"uniform sampler2D texture;uniform float hue;uniform float saturation;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);float angle=hue*3.14159265;float s=sin(angle),c=cos(angle);vec3 weights=(vec3(2.0*c,-sqrt(3.0)*s-c,sqrt(3.0)*s-c)+1.0)/3.0;float len=length(color.rgb);color.rgb=vec3(dot(color.rgb,weights.xyz),dot(color.rgb,weights.zxy),dot(color.rgb,weights.yzx));float average=(color.r+color.g+color.b)/3.0;if(saturation>0.0){color.rgb+=(average-color.rgb)*(1.0-1.0/(1.001-saturation));}else{color.rgb+=(average-color.rgb)*(-saturation);}gl_FragColor=color;}"),s.call(this,p.hueSaturation,{hue:e(-1,w,1),saturation:e(-1,C,1)}),this}function S(w){return p.noise=p.noise||new U(null,"uniform sampler2D texture;uniform float amount;varying vec2 texCoord;float rand(vec2 co){return fract(sin(dot(co.xy,vec2(12.9898,78.233)))*43758.5453);}void main(){vec4 color=texture2D(texture,texCoord);float diff=(rand(texCoord)-0.5)*amount;color.r+=diff;color.g+=diff;color.b+=diff;gl_FragColor=color;}"),s.call(this,p.noise,{amount:e(0,w,1)}),this}function x(w){return p.sepia=p.sepia||new U(null,"uniform sampler2D texture;uniform float amount;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);float r=color.r;float g=color.g;float b=color.b;color.r=min(1.0,(r*(1.0-(0.607*amount)))+(g*(0.769*amount))+(b*(0.189*amount)));color.g=min(1.0,(r*0.349*amount)+(g*(1.0-(0.314*amount)))+(b*0.168*amount));color.b=min(1.0,(r*0.272*amount)+(g*0.534*amount)+(b*(1.0-(0.869*amount))));gl_FragColor=color;}"),s.call(this,p.sepia,{amount:e(0,w,1)}),this}function F(w,C){return p.unsharpMask=p.unsharpMask||new U(null,"uniform sampler2D blurredTexture;uniform sampler2D originalTexture;uniform float strength;uniform float threshold;varying vec2 texCoord;void main(){vec4 blurred=texture2D(blurredTexture,texCoord);vec4 original=texture2D(originalTexture,texCoord);gl_FragColor=mix(blurred,original,1.0+strength);}"),this._.extraTexture.ensureFormat(this._.texture),this._.texture.use(),this._.extraTexture.drawTo(function(){U.getDefaultShader().drawRect()}),this._.extraTexture.use(1),this.triangleBlur(w),p.unsharpMask.textures({originalTexture:1}),s.call(this,p.unsharpMask,{strength:C}),this._.extraTexture.unuse(1),this}function L(w){return p.vibrance=p.vibrance||new U(null,"uniform sampler2D texture;uniform float amount;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);float average=(color.r+color.g+color.b)/3.0;float mx=max(color.r,max(color.g,color.b));float amt=(mx-average)*(-amount*3.0);color.rgb=mix(color.rgb,vec3(mx),amt);gl_FragColor=color;}"),s.call(this,p.vibrance,{amount:e(-1,w,1)}),this}function B(w,C){return p.vignette=p.vignette||new U(null,"uniform sampler2D texture;uniform float size;uniform float amount;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);float dist=distance(texCoord,vec2(0.5,0.5));color.rgb*=smoothstep(0.8,size*0.799,dist*(amount+size));gl_FragColor=color;}"),s.call(this,p.vignette,{size:e(0,w,1),amount:e(0,C,1)}),this}function se(w,C,I){p.lensBlurPrePass=p.lensBlurPrePass||new U(null,"uniform sampler2D texture;uniform float power;varying vec2 texCoord;void main(){vec4 color=texture2D(texture,texCoord);color=pow(color,vec4(power));gl_FragColor=vec4(color);}");var T="uniform sampler2D texture0;uniform sampler2D texture1;uniform vec2 delta0;uniform vec2 delta1;uniform float power;varying vec2 texCoord;"+k+"vec4 sample(vec2 delta){float offset=random(vec3(delta,151.7182),0.0);vec4 color=vec4(0.0);float total=0.0;for(float t=0.0;t<=30.0;t++){float percent=(t+offset)/30.0;color+=texture2D(texture0,texCoord+delta*percent);total+=1.0;}return color/total;}";p.lensBlur0=p.lensBlur0||new U(null,T+"void main(){gl_FragColor=sample(delta0);}"),p.lensBlur1=p.lensBlur1||new U(null,T+"void main(){gl_FragColor=(sample(delta0)+sample(delta1))*0.5;}"),p.lensBlur2=p.lensBlur2||new U(null,T+"void main(){vec4 color=(sample(delta0)+2.0*texture2D(texture1,texCoord))/3.0;gl_FragColor=pow(color,vec4(power));}").textures({texture1:1});for(var T=[],O=0;3>O;O++){var M=I+2*O*Math.PI/3;T.push([w*Math.sin(M)/this.width,w*Math.cos(M)/this.height])}return w=Math.pow(10,e(-1,C,1)),s.call(this,p.lensBlurPrePass,{power:w}),this._.extraTexture.ensureFormat(this._.texture),s.call(this,p.lensBlur0,{delta0:T[0]},this._.texture,this._.extraTexture),s.call(this,p.lensBlur1,{delta0:T[1],delta1:T[2]},this._.extraTexture,this._.extraTexture),s.call(this,p.lensBlur0,{delta0:T[1]}),this._.extraTexture.use(1),s.call(this,p.lensBlur2,{power:1/w,delta0:T[2]}),this}function Q(w,C,I,T,O,M){p.tiltShift=p.tiltShift||new U(null,"uniform sampler2D texture;uniform float blurRadius;uniform float gradientRadius;uniform vec2 start;uniform vec2 end;uniform vec2 delta;uniform vec2 texSize;varying vec2 texCoord;"+k+"void main(){vec4 color=vec4(0.0);float total=0.0;float offset=random(vec3(12.9898,78.233,151.7182),0.0);vec2 normal=normalize(vec2(start.y-end.y,end.x-start.x));float radius=smoothstep(0.0,1.0,abs(dot(texCoord*texSize-start,normal))/gradientRadius)*blurRadius;for(float t=-30.0;t<=30.0;t++){float percent=(t+offset-0.5)/30.0;float weight=1.0-abs(percent);vec4 sample=texture2D(texture,texCoord+delta/texSize*percent*radius);sample.rgb*=sample.a;color+=sample*weight;total+=weight;}gl_FragColor=color/total;gl_FragColor.rgb/=gl_FragColor.a+0.00001;}");var G=I-w,b=T-C,K=Math.sqrt(G*G+b*b);return s.call(this,p.tiltShift,{blurRadius:O,gradientRadius:M,start:[w,C],end:[I,T],delta:[G/K,b/K],texSize:[this.width,this.height]}),s.call(this,p.tiltShift,{blurRadius:O,gradientRadius:M,start:[w,C],end:[I,T],delta:[-b/K,G/K],texSize:[this.width,this.height]}),this}function me(w){return p.triangleBlur=p.triangleBlur||new U(null,"uniform sampler2D texture;uniform vec2 delta;varying vec2 texCoord;"+k+"void main(){vec4 color=vec4(0.0);float total=0.0;float offset=random(vec3(12.9898,78.233,151.7182),0.0);for(float t=-30.0;t<=30.0;t++){float percent=(t+offset-0.5)/30.0;float weight=1.0-abs(percent);vec4 sample=texture2D(texture,texCoord+delta*percent);sample.rgb*=sample.a;color+=sample*weight;total+=weight;}gl_FragColor=color/total;gl_FragColor.rgb/=gl_FragColor.a+0.00001;}"),s.call(this,p.triangleBlur,{delta:[w/this.width,0]}),s.call(this,p.triangleBlur,{delta:[0,w/this.height]}),this}function Te(w,C,I){return p.zoomBlur=p.zoomBlur||new U(null,"uniform sampler2D texture;uniform vec2 center;uniform float strength;uniform vec2 texSize;varying vec2 texCoord;"+k+"void main(){vec4 color=vec4(0.0);float total=0.0;vec2 toCenter=center-texCoord*texSize;float offset=random(vec3(12.9898,78.233,151.7182),0.0);for(float t=0.0;t<=40.0;t++){float percent=(t+offset)/40.0;float weight=4.0*(percent-percent*percent);vec4 sample=texture2D(texture,texCoord+toCenter*percent*strength/texSize);sample.rgb*=sample.a;color+=sample*weight;total+=weight;}gl_FragColor=color/total;gl_FragColor.rgb/=gl_FragColor.a+0.00001;}"),s.call(this,p.zoomBlur,{center:[w,C],strength:I,texSize:[this.width,this.height]}),this}function Pe(w,C,I,T){return p.colorHalftone=p.colorHalftone||new U(null,"uniform sampler2D texture;uniform vec2 center;uniform float angle;uniform float scale;uniform vec2 texSize;varying vec2 texCoord;float pattern(float angle){float s=sin(angle),c=cos(angle);vec2 tex=texCoord*texSize-center;vec2 point=vec2(c*tex.x-s*tex.y,s*tex.x+c*tex.y)*scale;return(sin(point.x)*sin(point.y))*4.0;}void main(){vec4 color=texture2D(texture,texCoord);vec3 cmy=1.0-color.rgb;float k=min(cmy.x,min(cmy.y,cmy.z));cmy=(cmy-k)/(1.0-k);cmy=clamp(cmy*10.0-3.0+vec3(pattern(angle+0.26179),pattern(angle+1.30899),pattern(angle)),0.0,1.0);k=clamp(k*10.0-5.0+pattern(angle+0.78539),0.0,1.0);gl_FragColor=vec4(1.0-cmy-k,color.a);}"),s.call(this,p.colorHalftone,{center:[w,C],angle:I,scale:Math.PI/T,texSize:[this.width,this.height]}),this}function Me(w,C,I,T){return p.dotScreen=p.dotScreen||new U(null,"uniform sampler2D texture;uniform vec2 center;uniform float angle;uniform float scale;uniform vec2 texSize;varying vec2 texCoord;float pattern(){float s=sin(angle),c=cos(angle);vec2 tex=texCoord*texSize-center;vec2 point=vec2(c*tex.x-s*tex.y,s*tex.x+c*tex.y)*scale;return(sin(point.x)*sin(point.y))*4.0;}void main(){vec4 color=texture2D(texture,texCoord);float average=(color.r+color.g+color.b)/3.0;gl_FragColor=vec4(vec3(average*10.0-5.0+pattern()),color.a);}"),s.call(this,p.dotScreen,{center:[w,C],angle:I,scale:Math.PI/T,texSize:[this.width,this.height]}),this}function He(w){return p.edgeWork1=p.edgeWork1||new U(null,"uniform sampler2D texture;uniform vec2 delta;varying vec2 texCoord;"+k+"void main(){vec2 color=vec2(0.0);vec2 total=vec2(0.0);float offset=random(vec3(12.9898,78.233,151.7182),0.0);for(float t=-30.0;t<=30.0;t++){float percent=(t+offset-0.5)/30.0;float weight=1.0-abs(percent);vec3 sample=texture2D(texture,texCoord+delta*percent).rgb;float average=(sample.r+sample.g+sample.b)/3.0;color.x+=average*weight;total.x+=weight;if(abs(t)<15.0){weight=weight*2.0-1.0;color.y+=average*weight;total.y+=weight;}}gl_FragColor=vec4(color/total,0.0,1.0);}"),p.edgeWork2=p.edgeWork2||new U(null,"uniform sampler2D texture;uniform vec2 delta;varying vec2 texCoord;"+k+"void main(){vec2 color=vec2(0.0);vec2 total=vec2(0.0);float offset=random(vec3(12.9898,78.233,151.7182),0.0);for(float t=-30.0;t<=30.0;t++){float percent=(t+offset-0.5)/30.0;float weight=1.0-abs(percent);vec2 sample=texture2D(texture,texCoord+delta*percent).xy;color.x+=sample.x*weight;total.x+=weight;if(abs(t)<15.0){weight=weight*2.0-1.0;color.y+=sample.y*weight;total.y+=weight;}}float c=clamp(10000.0*(color.y/total.y-color.x/total.x)+0.5,0.0,1.0);gl_FragColor=vec4(c,c,c,1.0);}"),s.call(this,p.edgeWork1,{delta:[w/this.width,0]}),s.call(this,p.edgeWork2,{delta:[0,w/this.height]}),this}function Ct(w,C,I){return p.hexagonalPixelate=p.hexagonalPixelate||new U(null,"uniform sampler2D texture;uniform vec2 center;uniform float scale;uniform vec2 texSize;varying vec2 texCoord;void main(){vec2 tex=(texCoord*texSize-center)/scale;tex.y/=0.866025404;tex.x-=tex.y*0.5;vec2 a;if(tex.x+tex.y-floor(tex.x)-floor(tex.y)<1.0)a=vec2(floor(tex.x),floor(tex.y));else a=vec2(ceil(tex.x),ceil(tex.y));vec2 b=vec2(ceil(tex.x),floor(tex.y));vec2 c=vec2(floor(tex.x),ceil(tex.y));vec3 TEX=vec3(tex.x,tex.y,1.0-tex.x-tex.y);vec3 A=vec3(a.x,a.y,1.0-a.x-a.y);vec3 B=vec3(b.x,b.y,1.0-b.x-b.y);vec3 C=vec3(c.x,c.y,1.0-c.x-c.y);float alen=length(TEX-A);float blen=length(TEX-B);float clen=length(TEX-C);vec2 choice;if(alen<blen){if(alen<clen)choice=a;else choice=c;}else{if(blen<clen)choice=b;else choice=c;}choice.x+=choice.y*0.5;choice.y*=0.866025404;choice*=scale/texSize;gl_FragColor=texture2D(texture,choice+center/texSize);}"),s.call(this,p.hexagonalPixelate,{center:[w,C],scale:I,texSize:[this.width,this.height]}),this}function Ze(w){return p.ink=p.ink||new U(null,"uniform sampler2D texture;uniform float strength;uniform vec2 texSize;varying vec2 texCoord;void main(){vec2 dx=vec2(1.0/texSize.x,0.0);vec2 dy=vec2(0.0,1.0/texSize.y);vec4 color=texture2D(texture,texCoord);float bigTotal=0.0;float smallTotal=0.0;vec3 bigAverage=vec3(0.0);vec3 smallAverage=vec3(0.0);for(float x=-2.0;x<=2.0;x+=1.0){for(float y=-2.0;y<=2.0;y+=1.0){vec3 sample=texture2D(texture,texCoord+dx*x+dy*y).rgb;bigAverage+=sample;bigTotal+=1.0;if(abs(x)+abs(y)<2.0){smallAverage+=sample;smallTotal+=1.0;}}}vec3 edge=max(vec3(0.0),bigAverage/bigTotal-smallAverage/smallTotal);gl_FragColor=vec4(color.rgb-dot(edge,edge)*strength*100000.0,color.a);}"),s.call(this,p.ink,{strength:w*w*w*w*w,texSize:[this.width,this.height]}),this}function H(w,C,I,T){return p.bulgePinch=p.bulgePinch||y("uniform float radius;uniform float strength;uniform vec2 center;","coord-=center;float distance=length(coord);if(distance<radius){float percent=distance/radius;if(strength>0.0){coord*=mix(1.0,smoothstep(0.0,radius/distance,percent),strength*0.75);}else{coord*=mix(1.0,pow(percent,1.0+strength*0.75)*radius/distance,1.0-percent);}}coord+=center;"),s.call(this,p.bulgePinch,{radius:I,strength:e(-1,T,1),center:[w,C],texSize:[this.width,this.height]}),this}function q(w,C,I){if(p.matrixWarp=p.matrixWarp||y("uniform mat3 matrix;uniform bool useTextureSpace;","if(useTextureSpace)coord=coord/texSize*2.0-1.0;vec3 warp=matrix*vec3(coord,1.0);coord=warp.xy/warp.z;if(useTextureSpace)coord=(coord*0.5+0.5)*texSize;"),w=Array.prototype.concat.apply([],w),w.length==4)w=[w[0],w[1],0,w[2],w[3],0,0,0,1];else if(w.length!=9)throw"can only warp with 2x2 or 3x3 matrix";return s.call(this,p.matrixWarp,{matrix:C?f(w):w,texSize:[this.width,this.height],useTextureSpace:I|0}),this}function te(w,C){var T=d.apply(null,C),I=d.apply(null,w),T=f(T);return this.matrixWarp([T[0]*I[0]+T[1]*I[3]+T[2]*I[6],T[0]*I[1]+T[1]*I[4]+T[2]*I[7],T[0]*I[2]+T[1]*I[5]+T[2]*I[8],T[3]*I[0]+T[4]*I[3]+T[5]*I[6],T[3]*I[1]+T[4]*I[4]+T[5]*I[7],T[3]*I[2]+T[4]*I[5]+T[5]*I[8],T[6]*I[0]+T[7]*I[3]+T[8]*I[6],T[6]*I[1]+T[7]*I[4]+T[8]*I[7],T[6]*I[2]+T[7]*I[5]+T[8]*I[8]])}function Ce(w,C,I,T){return p.swirl=p.swirl||y("uniform float radius;uniform float angle;uniform vec2 center;","coord-=center;float distance=length(coord);if(distance<radius){float percent=(radius-distance)/radius;float theta=percent*percent*angle;float s=sin(theta);float c=cos(theta);coord=vec2(coord.x*c-coord.y*s,coord.x*s+coord.y*c);}coord+=center;"),s.call(this,p.swirl,{radius:I,center:[w,C],angle:T,texSize:[this.width,this.height]}),this}var W={};(function(){function w(b){if(!b.getExtension("OES_texture_float"))return!1;var K=b.createFramebuffer(),ge=b.createTexture();b.bindTexture(b.TEXTURE_2D,ge),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.texImage2D(b.TEXTURE_2D,0,b.RGBA,1,1,0,b.RGBA,b.UNSIGNED_BYTE,null),b.bindFramebuffer(b.FRAMEBUFFER,K),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,ge,0),K=b.createTexture(),b.bindTexture(b.TEXTURE_2D,K),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.texImage2D(b.TEXTURE_2D,0,b.RGBA,2,2,0,b.RGBA,b.FLOAT,new Float32Array([2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]));var ge=b.createProgram(),de=b.createShader(b.VERTEX_SHADER),xe=b.createShader(b.FRAGMENT_SHADER);return b.shaderSource(de,"attribute vec2 vertex;void main(){gl_Position=vec4(vertex,0.0,1.0);}"),b.shaderSource(xe,"uniform sampler2D texture;void main(){gl_FragColor=texture2D(texture,vec2(0.5));}"),b.compileShader(de),b.compileShader(xe),b.attachShader(ge,de),b.attachShader(ge,xe),b.linkProgram(ge),de=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,de),b.bufferData(b.ARRAY_BUFFER,new Float32Array([0,0]),b.STREAM_DRAW),b.enableVertexAttribArray(0),b.vertexAttribPointer(0,2,b.FLOAT,!1,0,0),de=new Uint8Array(4),b.useProgram(ge),b.viewport(0,0,1,1),b.bindTexture(b.TEXTURE_2D,K),b.drawArrays(b.POINTS,0,1),b.readPixels(0,0,1,1,b.RGBA,b.UNSIGNED_BYTE,de),de[0]===127||de[0]===128}function C(){}function I(b){return b==="OES_texture_float_linear"?(this.$OES_texture_float_linear$===void 0&&Object.defineProperty(this,"$OES_texture_float_linear$",{enumerable:!1,configurable:!1,writable:!1,value:new C}),b=this.$OES_texture_float_linear$):b=M.call(this,b),b}function T(){var b=G.call(this);return b.indexOf("OES_texture_float_linear")===-1&&b.push("OES_texture_float_linear"),b}try{var O=document.createElement("canvas").getContext("experimental-webgl")}catch{}if(O&&O.getSupportedExtensions().indexOf("OES_texture_float_linear")===-1&&w(O)){var M=WebGLRenderingContext.prototype.getExtension,G=WebGLRenderingContext.prototype.getSupportedExtensions;WebGLRenderingContext.prototype.getExtension=I,WebGLRenderingContext.prototype.getSupportedExtensions=T}})();var p;W.canvas=function(){var w=document.createElement("canvas");try{p=w.getContext("experimental-webgl",{premultipliedAlpha:!1})}catch{p=null}if(!p)throw"This browser does not support WebGL";return w._={gl:p,isInitialized:!1,texture:null,spareTexture:null,flippedShader:null},w.texture=c(n),w.draw=c(i),w.update=c(o),w.replace=c(a),w.contents=c(l),w.getPixelArray=c(u),w.brightnessContrast=c(h),w.hexagonalPixelate=c(Ct),w.hueSaturation=c(_),w.colorHalftone=c(Pe),w.triangleBlur=c(me),w.unsharpMask=c(F),w.perspective=c(te),w.matrixWarp=c(q),w.bulgePinch=c(H),w.tiltShift=c(Q),w.dotScreen=c(Me),w.edgeWork=c(He),w.lensBlur=c(se),w.zoomBlur=c(Te),w.noise=c(S),w.denoise=c(m),w.curves=c(v),w.swirl=c(Ce),w.ink=c(Ze),w.vignette=c(B),w.vibrance=c(L),w.sepia=c(x),w},W.splineInterpolate=E;var U=function(){function w(O,M){var G=p.createShader(O);if(p.shaderSource(G,M),p.compileShader(G),!p.getShaderParameter(G,p.COMPILE_STATUS))throw"compile error: "+p.getShaderInfoLog(G);return G}function C(O,M){if(this.texCoordAttribute=this.vertexAttribute=null,this.program=p.createProgram(),O=O||I,M=M||T,M="precision highp float;"+M,p.attachShader(this.program,w(p.VERTEX_SHADER,O)),p.attachShader(this.program,w(p.FRAGMENT_SHADER,M)),p.linkProgram(this.program),!p.getProgramParameter(this.program,p.LINK_STATUS))throw"link error: "+p.getProgramInfoLog(this.program)}var I="attribute vec2 vertex;attribute vec2 _texCoord;varying vec2 texCoord;void main(){texCoord=_texCoord;gl_Position=vec4(vertex*2.0-1.0,0.0,1.0);}",T="uniform sampler2D texture;varying vec2 texCoord;void main(){gl_FragColor=texture2D(texture,texCoord);}";return C.prototype.destroy=function(){p.deleteProgram(this.program),this.program=null},C.prototype.uniforms=function(O){p.useProgram(this.program);for(var M in O)if(O.hasOwnProperty(M)){var G=p.getUniformLocation(this.program,M);if(G!==null){var b=O[M];if(Object.prototype.toString.call(b)=="[object Array]")switch(b.length){case 1:p.uniform1fv(G,new Float32Array(b));break;case 2:p.uniform2fv(G,new Float32Array(b));break;case 3:p.uniform3fv(G,new Float32Array(b));break;case 4:p.uniform4fv(G,new Float32Array(b));break;case 9:p.uniformMatrix3fv(G,!1,new Float32Array(b));break;case 16:p.uniformMatrix4fv(G,!1,new Float32Array(b));break;default:throw`dont't know how to load uniform "`+M+'" of length '+b.length}else if(Object.prototype.toString.call(b)=="[object Number]")p.uniform1f(G,b);else throw'attempted to set uniform "'+M+'" to invalid value '+(b||"undefined").toString()}}return this},C.prototype.textures=function(O){p.useProgram(this.program);for(var M in O)O.hasOwnProperty(M)&&p.uniform1i(p.getUniformLocation(this.program,M),O[M]);return this},C.prototype.drawRect=function(O,M,G,b){var K=p.getParameter(p.VIEWPORT);M=M!==void 0?(M-K[1])/K[3]:0,O=O!==void 0?(O-K[0])/K[2]:0,G=G!==void 0?(G-K[0])/K[2]:1,b=b!==void 0?(b-K[1])/K[3]:1,p.vertexBuffer==null&&(p.vertexBuffer=p.createBuffer()),p.bindBuffer(p.ARRAY_BUFFER,p.vertexBuffer),p.bufferData(p.ARRAY_BUFFER,new Float32Array([O,M,O,b,G,M,G,b]),p.STATIC_DRAW),p.texCoordBuffer==null&&(p.texCoordBuffer=p.createBuffer(),p.bindBuffer(p.ARRAY_BUFFER,p.texCoordBuffer),p.bufferData(p.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),p.STATIC_DRAW)),this.vertexAttribute==null&&(this.vertexAttribute=p.getAttribLocation(this.program,"vertex"),p.enableVertexAttribArray(this.vertexAttribute)),this.texCoordAttribute==null&&(this.texCoordAttribute=p.getAttribLocation(this.program,"_texCoord"),p.enableVertexAttribArray(this.texCoordAttribute)),p.useProgram(this.program),p.bindBuffer(p.ARRAY_BUFFER,p.vertexBuffer),p.vertexAttribPointer(this.vertexAttribute,2,p.FLOAT,!1,0,0),p.bindBuffer(p.ARRAY_BUFFER,p.texCoordBuffer),p.vertexAttribPointer(this.texCoordAttribute,2,p.FLOAT,!1,0,0),p.drawArrays(p.TRIANGLE_STRIP,0,4)},C.getDefaultShader=function(){return p.defaultShader=p.defaultShader||new C,p.defaultShader},C}();g.prototype.interpolate=function(w){for(var C=0,I=this.ya.length-1;1<I-C;){var T=I+C>>1;this.xa[T]>w?I=T:C=T}var T=this.xa[I]-this.xa[C],O=(this.xa[I]-w)/T;return w=(w-this.xa[C])/T,O*this.ya[C]+w*this.ya[I]+((O*O*O-O)*this.y2[C]+(w*w*w-w)*this.y2[I])*T*T/6};var ie=function(){function w(T,O,M,G){this.gl=p,this.id=p.createTexture(),this.width=T,this.height=O,this.format=M,this.type=G,p.bindTexture(p.TEXTURE_2D,this.id),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE),T&&O&&p.texImage2D(p.TEXTURE_2D,0,this.format,T,O,0,this.format,this.type,null)}function C(T){return I==null&&(I=document.createElement("canvas")),I.width=T.width,I.height=T.height,T=I.getContext("2d"),T.clearRect(0,0,I.width,I.height),T}w.fromElement=function(T){var O=new w(0,0,p.RGBA,p.UNSIGNED_BYTE);return O.loadContentsOf(T),O},w.prototype.loadContentsOf=function(T){this.width=T.width||T.videoWidth,this.height=T.height||T.videoHeight,p.bindTexture(p.TEXTURE_2D,this.id),p.texImage2D(p.TEXTURE_2D,0,this.format,this.format,this.type,T)},w.prototype.initFromBytes=function(T,O,M){this.width=T,this.height=O,this.format=p.RGBA,this.type=p.UNSIGNED_BYTE,p.bindTexture(p.TEXTURE_2D,this.id),p.texImage2D(p.TEXTURE_2D,0,p.RGBA,T,O,0,p.RGBA,this.type,new Uint8Array(M))},w.prototype.destroy=function(){p.deleteTexture(this.id),this.id=null},w.prototype.use=function(T){p.activeTexture(p.TEXTURE0+(T||0)),p.bindTexture(p.TEXTURE_2D,this.id)},w.prototype.unuse=function(T){p.activeTexture(p.TEXTURE0+(T||0)),p.bindTexture(p.TEXTURE_2D,null)},w.prototype.ensureFormat=function(T,O,M,G){if(arguments.length==1){var b=arguments[0];T=b.width,O=b.height,M=b.format,G=b.type}(T!=this.width||O!=this.height||M!=this.format||G!=this.type)&&(this.width=T,this.height=O,this.format=M,this.type=G,p.bindTexture(p.TEXTURE_2D,this.id),p.texImage2D(p.TEXTURE_2D,0,this.format,T,O,0,this.format,this.type,null))},w.prototype.drawTo=function(T){if(p.framebuffer=p.framebuffer||p.createFramebuffer(),p.bindFramebuffer(p.FRAMEBUFFER,p.framebuffer),p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,this.id,0),p.checkFramebufferStatus(p.FRAMEBUFFER)!==p.FRAMEBUFFER_COMPLETE)throw Error("incomplete framebuffer");p.viewport(0,0,this.width,this.height),T(),p.bindFramebuffer(p.FRAMEBUFFER,null)};var I=null;return w.prototype.fillUsingCanvas=function(T){return T(C(this)),this.format=p.RGBA,this.type=p.UNSIGNED_BYTE,p.bindTexture(p.TEXTURE_2D,this.id),p.texImage2D(p.TEXTURE_2D,0,p.RGBA,p.RGBA,p.UNSIGNED_BYTE,I),this},w.prototype.toImage=function(T){this.use(),U.getDefaultShader().drawRect();var O=4*this.width*this.height,M=new Uint8Array(O),G=C(this),b=G.createImageData(this.width,this.height);p.readPixels(0,0,this.width,this.height,p.RGBA,p.UNSIGNED_BYTE,M);for(var K=0;K<O;K++)b.data[K]=M[K];G.putImageData(b,0,0),T.src=I.toDataURL()},w.prototype.swapWith=function(T){var O;O=T.id,T.id=this.id,this.id=O,O=T.width,T.width=this.width,this.width=O,O=T.height,T.height=this.height,this.height=O,O=T.format,T.format=this.format,this.format=O},w}(),k="float random(vec3 scale,float seed){return fract(sin(dot(gl_FragCoord.xyz+seed,scale))*43758.5453+seed);}";return W}();var aw=Array.isArray,lw=Object.keys,B4=Object.prototype.hasOwnProperty,z4=typeof Element<"u";function tm(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=aw(e),r=aw(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!tm(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=e instanceof Date,l=t instanceof Date;if(a!=l)return!1;if(a&&l)return e.getTime()==t.getTime();var u=e instanceof RegExp,c=t instanceof RegExp;if(u!=c)return!1;if(u&&c)return e.toString()==t.toString();var d=lw(e);if(o=d.length,o!==lw(t).length)return!1;for(i=o;i--!==0;)if(!B4.call(t,d[i]))return!1;if(z4&&e instanceof Element&&t instanceof Element)return e===t;for(i=o;i--!==0;)if(s=d[i],!(s==="_owner"&&e.$$typeof)&&!tm(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}var Ai=function(t,n){try{return tm(t,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}},W4=function(t){return V4(t)&&!H4(t)};function V4(e){return!!e&&typeof e=="object"}function H4(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||Y4(e)}var G4=typeof Symbol=="function"&&Symbol.for,K4=G4?Symbol.for("react.element"):60103;function Y4(e){return e.$$typeof===K4}function q4(e){return Array.isArray(e)?[]:{}}function Lc(e,t){return t.clone!==!1&&t.isMergeableObject(e)?ul(q4(e),e,t):e}function Q4(e,t,n){return e.concat(t).map(function(r){return Lc(r,n)})}function X4(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach(function(i){r[i]=Lc(e[i],n)}),Object.keys(t).forEach(function(i){!n.isMergeableObject(t[i])||!e[i]?r[i]=Lc(t[i],n):r[i]=ul(e[i],t[i],n)}),r}function ul(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||Q4,n.isMergeableObject=n.isMergeableObject||W4;var r=Array.isArray(t),i=Array.isArray(e),o=r===i;return o?r?n.arrayMerge(e,t,n):X4(e,t,n):Lc(t,n)}ul.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,i){return ul(r,i,n)},{})};var nm=ul,J4=typeof global=="object"&&global&&global.Object===Object&&global;const Bx=J4;var Z4=typeof self=="object"&&self&&self.Object===Object&&self,ej=Bx||Z4||Function("return this")();const rr=ej;var tj=rr.Symbol;const gi=tj;var zx=Object.prototype,nj=zx.hasOwnProperty,rj=zx.toString,Qs=gi?gi.toStringTag:void 0;function ij(e){var t=nj.call(e,Qs),n=e[Qs];try{e[Qs]=void 0;var r=!0}catch{}var i=rj.call(e);return r&&(t?e[Qs]=n:delete e[Qs]),i}var oj=Object.prototype,sj=oj.toString;function aj(e){return sj.call(e)}var lj="[object Null]",uj="[object Undefined]",uw=gi?gi.toStringTag:void 0;function go(e){return e==null?e===void 0?uj:lj:uw&&uw in Object(e)?ij(e):aj(e)}function Wx(e,t){return function(n){return e(t(n))}}var cj=Wx(Object.getPrototypeOf,Object);const Pv=cj;function vo(e){return e!=null&&typeof e=="object"}var dj="[object Object]",fj=Function.prototype,hj=Object.prototype,Vx=fj.toString,pj=hj.hasOwnProperty,mj=Vx.call(Object);function cw(e){if(!vo(e)||go(e)!=dj)return!1;var t=Pv(e);if(t===null)return!0;var n=pj.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Vx.call(n)==mj}function gj(){this.__data__=[],this.size=0}function Hx(e,t){return e===t||e!==e&&t!==t}function Gd(e,t){for(var n=e.length;n--;)if(Hx(e[n][0],t))return n;return-1}var vj=Array.prototype,yj=vj.splice;function _j(e){var t=this.__data__,n=Gd(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():yj.call(t,n,1),--this.size,!0}function wj(e){var t=this.__data__,n=Gd(t,e);return n<0?void 0:t[n][1]}function Ej(e){return Gd(this.__data__,e)>-1}function Sj(e,t){var n=this.__data__,r=Gd(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Rr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Rr.prototype.clear=gj;Rr.prototype.delete=_j;Rr.prototype.get=wj;Rr.prototype.has=Ej;Rr.prototype.set=Sj;function Cj(){this.__data__=new Rr,this.size=0}function Tj(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function xj(e){return this.__data__.get(e)}function Ij(e){return this.__data__.has(e)}function Ll(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var bj="[object AsyncFunction]",Rj="[object Function]",kj="[object GeneratorFunction]",Pj="[object Proxy]";function Gx(e){if(!Ll(e))return!1;var t=go(e);return t==Rj||t==kj||t==bj||t==Pj}var Aj=rr["__core-js_shared__"];const ah=Aj;var dw=function(){var e=/[^.]+$/.exec(ah&&ah.keys&&ah.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Nj(e){return!!dw&&dw in e}var Oj=Function.prototype,Dj=Oj.toString;function yo(e){if(e!=null){try{return Dj.call(e)}catch{}try{return e+""}catch{}}return""}var Lj=/[\\^$.*+?()[\]{}|]/g,Mj=/^\[object .+?Constructor\]$/,Fj=Function.prototype,Uj=Object.prototype,$j=Fj.toString,jj=Uj.hasOwnProperty,Bj=RegExp("^"+$j.call(jj).replace(Lj,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zj(e){if(!Ll(e)||Nj(e))return!1;var t=Gx(e)?Bj:Mj;return t.test(yo(e))}function Wj(e,t){return e==null?void 0:e[t]}function _o(e,t){var n=Wj(e,t);return zj(n)?n:void 0}var Vj=_o(rr,"Map");const cl=Vj;var Hj=_o(Object,"create");const dl=Hj;function Gj(){this.__data__=dl?dl(null):{},this.size=0}function Kj(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Yj="__lodash_hash_undefined__",qj=Object.prototype,Qj=qj.hasOwnProperty;function Xj(e){var t=this.__data__;if(dl){var n=t[e];return n===Yj?void 0:n}return Qj.call(t,e)?t[e]:void 0}var Jj=Object.prototype,Zj=Jj.hasOwnProperty;function eB(e){var t=this.__data__;return dl?t[e]!==void 0:Zj.call(t,e)}var tB="__lodash_hash_undefined__";function nB(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=dl&&t===void 0?tB:t,this}function uo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}uo.prototype.clear=Gj;uo.prototype.delete=Kj;uo.prototype.get=Xj;uo.prototype.has=eB;uo.prototype.set=nB;function rB(){this.size=0,this.__data__={hash:new uo,map:new(cl||Rr),string:new uo}}function iB(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Kd(e,t){var n=e.__data__;return iB(t)?n[typeof t=="string"?"string":"hash"]:n.map}function oB(e){var t=Kd(this,e).delete(e);return this.size-=t?1:0,t}function sB(e){return Kd(this,e).get(e)}function aB(e){return Kd(this,e).has(e)}function lB(e,t){var n=Kd(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Si(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Si.prototype.clear=rB;Si.prototype.delete=oB;Si.prototype.get=sB;Si.prototype.has=aB;Si.prototype.set=lB;var uB=200;function cB(e,t){var n=this.__data__;if(n instanceof Rr){var r=n.__data__;if(!cl||r.length<uB-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Si(r)}return n.set(e,t),this.size=n.size,this}function Os(e){var t=this.__data__=new Rr(e);this.size=t.size}Os.prototype.clear=Cj;Os.prototype.delete=Tj;Os.prototype.get=xj;Os.prototype.has=Ij;Os.prototype.set=cB;function dB(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var fB=function(){try{var e=_o(Object,"defineProperty");return e({},"",{}),e}catch{}}();const fw=fB;function Kx(e,t,n){t=="__proto__"&&fw?fw(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var hB=Object.prototype,pB=hB.hasOwnProperty;function Yx(e,t,n){var r=e[t];(!(pB.call(e,t)&&Hx(r,n))||n===void 0&&!(t in e))&&Kx(e,t,n)}function Yd(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),i?Kx(n,a,l):Yx(n,a,l)}return n}function mB(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var gB="[object Arguments]";function hw(e){return vo(e)&&go(e)==gB}var qx=Object.prototype,vB=qx.hasOwnProperty,yB=qx.propertyIsEnumerable,_B=hw(function(){return arguments}())?hw:function(e){return vo(e)&&vB.call(e,"callee")&&!yB.call(e,"callee")};const wB=_B;var EB=Array.isArray;const Ml=EB;function SB(){return!1}var Qx=typeof exports=="object"&&exports&&!exports.nodeType&&exports,pw=Qx&&typeof module=="object"&&module&&!module.nodeType&&module,CB=pw&&pw.exports===Qx,mw=CB?rr.Buffer:void 0,TB=mw?mw.isBuffer:void 0,xB=TB||SB;const Xx=xB;var IB=9007199254740991,bB=/^(?:0|[1-9]\d*)$/;function RB(e,t){var n=typeof e;return t=t??IB,!!t&&(n=="number"||n!="symbol"&&bB.test(e))&&e>-1&&e%1==0&&e<t}var kB=9007199254740991;function Jx(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=kB}var PB="[object Arguments]",AB="[object Array]",NB="[object Boolean]",OB="[object Date]",DB="[object Error]",LB="[object Function]",MB="[object Map]",FB="[object Number]",UB="[object Object]",$B="[object RegExp]",jB="[object Set]",BB="[object String]",zB="[object WeakMap]",WB="[object ArrayBuffer]",VB="[object DataView]",HB="[object Float32Array]",GB="[object Float64Array]",KB="[object Int8Array]",YB="[object Int16Array]",qB="[object Int32Array]",QB="[object Uint8Array]",XB="[object Uint8ClampedArray]",JB="[object Uint16Array]",ZB="[object Uint32Array]",ze={};ze[HB]=ze[GB]=ze[KB]=ze[YB]=ze[qB]=ze[QB]=ze[XB]=ze[JB]=ze[ZB]=!0;ze[PB]=ze[AB]=ze[WB]=ze[NB]=ze[VB]=ze[OB]=ze[DB]=ze[LB]=ze[MB]=ze[FB]=ze[UB]=ze[$B]=ze[jB]=ze[BB]=ze[zB]=!1;function ez(e){return vo(e)&&Jx(e.length)&&!!ze[go(e)]}function Av(e){return function(t){return e(t)}}var Zx=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ca=Zx&&typeof module=="object"&&module&&!module.nodeType&&module,tz=Ca&&Ca.exports===Zx,lh=tz&&Bx.process,nz=function(){try{var e=Ca&&Ca.require&&Ca.require("util").types;return e||lh&&lh.binding&&lh.binding("util")}catch{}}();const vs=nz;var gw=vs&&vs.isTypedArray,rz=gw?Av(gw):ez;const iz=rz;var oz=Object.prototype,sz=oz.hasOwnProperty;function eI(e,t){var n=Ml(e),r=!n&&wB(e),i=!n&&!r&&Xx(e),o=!n&&!r&&!i&&iz(e),s=n||r||i||o,a=s?mB(e.length,String):[],l=a.length;for(var u in e)(t||sz.call(e,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||RB(u,l)))&&a.push(u);return a}var az=Object.prototype;function Nv(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||az;return e===n}var lz=Wx(Object.keys,Object);const uz=lz;var cz=Object.prototype,dz=cz.hasOwnProperty;function fz(e){if(!Nv(e))return uz(e);var t=[];for(var n in Object(e))dz.call(e,n)&&n!="constructor"&&t.push(n);return t}function tI(e){return e!=null&&Jx(e.length)&&!Gx(e)}function Ov(e){return tI(e)?eI(e):fz(e)}function hz(e,t){return e&&Yd(t,Ov(t),e)}function pz(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var mz=Object.prototype,gz=mz.hasOwnProperty;function vz(e){if(!Ll(e))return pz(e);var t=Nv(e),n=[];for(var r in e)r=="constructor"&&(t||!gz.call(e,r))||n.push(r);return n}function Dv(e){return tI(e)?eI(e,!0):vz(e)}function yz(e,t){return e&&Yd(t,Dv(t),e)}var nI=typeof exports=="object"&&exports&&!exports.nodeType&&exports,vw=nI&&typeof module=="object"&&module&&!module.nodeType&&module,_z=vw&&vw.exports===nI,yw=_z?rr.Buffer:void 0,_w=yw?yw.allocUnsafe:void 0;function wz(e,t){if(t)return e.slice();var n=e.length,r=_w?_w(n):new e.constructor(n);return e.copy(r),r}function rI(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function Ez(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function iI(){return[]}var Sz=Object.prototype,Cz=Sz.propertyIsEnumerable,ww=Object.getOwnPropertySymbols,Tz=ww?function(e){return e==null?[]:(e=Object(e),Ez(ww(e),function(t){return Cz.call(e,t)}))}:iI;const Lv=Tz;function xz(e,t){return Yd(e,Lv(e),t)}function oI(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Iz=Object.getOwnPropertySymbols,bz=Iz?function(e){for(var t=[];e;)oI(t,Lv(e)),e=Pv(e);return t}:iI;const sI=bz;function Rz(e,t){return Yd(e,sI(e),t)}function aI(e,t,n){var r=t(e);return Ml(e)?r:oI(r,n(e))}function kz(e){return aI(e,Ov,Lv)}function Pz(e){return aI(e,Dv,sI)}var Az=_o(rr,"DataView");const rm=Az;var Nz=_o(rr,"Promise");const im=Nz;var Oz=_o(rr,"Set");const om=Oz;var Dz=_o(rr,"WeakMap");const sm=Dz;var Ew="[object Map]",Lz="[object Object]",Sw="[object Promise]",Cw="[object Set]",Tw="[object WeakMap]",xw="[object DataView]",Mz=yo(rm),Fz=yo(cl),Uz=yo(im),$z=yo(om),jz=yo(sm),Ni=go;(rm&&Ni(new rm(new ArrayBuffer(1)))!=xw||cl&&Ni(new cl)!=Ew||im&&Ni(im.resolve())!=Sw||om&&Ni(new om)!=Cw||sm&&Ni(new sm)!=Tw)&&(Ni=function(e){var t=go(e),n=t==Lz?e.constructor:void 0,r=n?yo(n):"";if(r)switch(r){case Mz:return xw;case Fz:return Ew;case Uz:return Sw;case $z:return Cw;case jz:return Tw}return t});const Mv=Ni;var Bz=Object.prototype,zz=Bz.hasOwnProperty;function Wz(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&zz.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Vz=rr.Uint8Array;const Iw=Vz;function Fv(e){var t=new e.constructor(e.byteLength);return new Iw(t).set(new Iw(e)),t}function Hz(e,t){var n=t?Fv(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Gz=/\w*$/;function Kz(e){var t=new e.constructor(e.source,Gz.exec(e));return t.lastIndex=e.lastIndex,t}var bw=gi?gi.prototype:void 0,Rw=bw?bw.valueOf:void 0;function Yz(e){return Rw?Object(Rw.call(e)):{}}function qz(e,t){var n=t?Fv(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Qz="[object Boolean]",Xz="[object Date]",Jz="[object Map]",Zz="[object Number]",e5="[object RegExp]",t5="[object Set]",n5="[object String]",r5="[object Symbol]",i5="[object ArrayBuffer]",o5="[object DataView]",s5="[object Float32Array]",a5="[object Float64Array]",l5="[object Int8Array]",u5="[object Int16Array]",c5="[object Int32Array]",d5="[object Uint8Array]",f5="[object Uint8ClampedArray]",h5="[object Uint16Array]",p5="[object Uint32Array]";function m5(e,t,n){var r=e.constructor;switch(t){case i5:return Fv(e);case Qz:case Xz:return new r(+e);case o5:return Hz(e,n);case s5:case a5:case l5:case u5:case c5:case d5:case f5:case h5:case p5:return qz(e,n);case Jz:return new r;case Zz:case n5:return new r(e);case e5:return Kz(e);case t5:return new r;case r5:return Yz(e)}}var kw=Object.create,g5=function(){function e(){}return function(t){if(!Ll(t))return{};if(kw)return kw(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const v5=g5;function y5(e){return typeof e.constructor=="function"&&!Nv(e)?v5(Pv(e)):{}}var _5="[object Map]";function w5(e){return vo(e)&&Mv(e)==_5}var Pw=vs&&vs.isMap,E5=Pw?Av(Pw):w5;const S5=E5;var C5="[object Set]";function T5(e){return vo(e)&&Mv(e)==C5}var Aw=vs&&vs.isSet,x5=Aw?Av(Aw):T5;const I5=x5;var b5=1,R5=2,k5=4,lI="[object Arguments]",P5="[object Array]",A5="[object Boolean]",N5="[object Date]",O5="[object Error]",uI="[object Function]",D5="[object GeneratorFunction]",L5="[object Map]",M5="[object Number]",cI="[object Object]",F5="[object RegExp]",U5="[object Set]",$5="[object String]",j5="[object Symbol]",B5="[object WeakMap]",z5="[object ArrayBuffer]",W5="[object DataView]",V5="[object Float32Array]",H5="[object Float64Array]",G5="[object Int8Array]",K5="[object Int16Array]",Y5="[object Int32Array]",q5="[object Uint8Array]",Q5="[object Uint8ClampedArray]",X5="[object Uint16Array]",J5="[object Uint32Array]",Fe={};Fe[lI]=Fe[P5]=Fe[z5]=Fe[W5]=Fe[A5]=Fe[N5]=Fe[V5]=Fe[H5]=Fe[G5]=Fe[K5]=Fe[Y5]=Fe[L5]=Fe[M5]=Fe[cI]=Fe[F5]=Fe[U5]=Fe[$5]=Fe[j5]=Fe[q5]=Fe[Q5]=Fe[X5]=Fe[J5]=!0;Fe[O5]=Fe[uI]=Fe[B5]=!1;function Nu(e,t,n,r,i,o){var s,a=t&b5,l=t&R5,u=t&k5;if(n&&(s=i?n(e,r,i,o):n(e)),s!==void 0)return s;if(!Ll(e))return e;var c=Ml(e);if(c){if(s=Wz(e),!a)return rI(e,s)}else{var d=Mv(e),f=d==uI||d==D5;if(Xx(e))return wz(e,a);if(d==cI||d==lI||f&&!i){if(s=l||f?{}:y5(e),!a)return l?Rz(e,yz(s,e)):xz(e,hz(s,e))}else{if(!Fe[d])return i?e:{};s=m5(e,d,a)}}o||(o=new Os);var g=o.get(e);if(g)return g;o.set(e,s),I5(e)?e.forEach(function(E){s.add(Nu(E,t,n,E,e,o))}):S5(e)&&e.forEach(function(E,v){s.set(v,Nu(E,t,n,v,e,o))});var y=u?l?Pz:kz:l?Dv:Ov,h=c?void 0:y(e);return dB(h||e,function(E,v){h&&(v=E,E=e[v]),Yx(s,v,Nu(E,t,n,v,e,o))}),s}var Z5=4;function Nw(e){return Nu(e,Z5)}function dI(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var e6="[object Symbol]";function Uv(e){return typeof e=="symbol"||vo(e)&&go(e)==e6}var t6="Expected a function";function $v(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(t6);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new($v.Cache||Si),n}$v.Cache=Si;var n6=500;function r6(e){var t=$v(e,function(r){return n.size===n6&&n.clear(),r}),n=t.cache;return t}var i6=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o6=/\\(\\)?/g,s6=r6(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(i6,function(n,r,i,o){t.push(i?o.replace(o6,"$1"):r||n)}),t});const a6=s6;var l6=1/0;function u6(e){if(typeof e=="string"||Uv(e))return e;var t=e+"";return t=="0"&&1/e==-l6?"-0":t}var c6=1/0,Ow=gi?gi.prototype:void 0,Dw=Ow?Ow.toString:void 0;function fI(e){if(typeof e=="string")return e;if(Ml(e))return dI(e,fI)+"";if(Uv(e))return Dw?Dw.call(e):"";var t=e+"";return t=="0"&&1/e==-c6?"-0":t}function d6(e){return e==null?"":fI(e)}function hI(e){return Ml(e)?dI(e,u6):Uv(e)?[e]:rI(a6(d6(e)))}var f6=!0;function h6(e,t){if(!f6){if(e)return;var n="Warning: "+t;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}function _t(){return _t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_t.apply(this,arguments)}function pI(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var wn=function(t){return typeof t=="function"},qd=function(t){return t!==null&&typeof t=="object"},p6=function(t){return String(Math.floor(Number(t)))===t},uh=function(t){return Object.prototype.toString.call(t)==="[object String]"},ch=function(t){return qd(t)&&wn(t.then)};function ln(e,t,n,r){r===void 0&&(r=0);for(var i=hI(t);e&&r<i.length;)e=e[i[r++]];return e===void 0?n:e}function Hi(e,t,n){for(var r=Nw(e),i=r,o=0,s=hI(t);o<s.length-1;o++){var a=s[o],l=ln(e,s.slice(0,o+1));if(l&&(qd(l)||Array.isArray(l)))i=i[a]=Nw(l);else{var u=s[o+1];i=i[a]=p6(u)&&Number(u)>=0?[]:{}}}return(o===0?e:i)[s[o]]===n?e:(n===void 0?delete i[s[o]]:i[s[o]]=n,o===0&&n===void 0&&delete r[s[o]],r)}function mI(e,t,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,o=Object.keys(e);i<o.length;i++){var s=o[i],a=e[s];qd(a)?n.get(a)||(n.set(a,!0),r[s]=Array.isArray(a)?[]:{},mI(a,t,n,r[s])):r[s]=t}return r}var Qd=P.createContext(void 0);Qd.displayName="FormikContext";Qd.Provider;Qd.Consumer;function m6(){var e=P.useContext(Qd);return e||h6(!1),e}function g6(e,t){switch(t.type){case"SET_VALUES":return _t({},e,{values:t.payload});case"SET_TOUCHED":return _t({},e,{touched:t.payload});case"SET_ERRORS":return Ai(e.errors,t.payload)?e:_t({},e,{errors:t.payload});case"SET_STATUS":return _t({},e,{status:t.payload});case"SET_ISSUBMITTING":return _t({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return _t({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return _t({},e,{values:Hi(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return _t({},e,{touched:Hi(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return _t({},e,{errors:Hi(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return _t({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return _t({},e,{touched:mI(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return _t({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return _t({},e,{isSubmitting:!1});default:return e}}var Ti={},hu={};function jv(e){var t=e.validateOnChange,n=t===void 0?!0:t,r=e.validateOnBlur,i=r===void 0?!0:r,o=e.validateOnMount,s=o===void 0?!1:o,a=e.isInitialValid,l=e.enableReinitialize,u=l===void 0?!1:l,c=e.onSubmit,d=pI(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),f=_t({validateOnChange:n,validateOnBlur:i,validateOnMount:s,onSubmit:c},d),g=P.useRef(f.initialValues),y=P.useRef(f.initialErrors||Ti),h=P.useRef(f.initialTouched||hu),E=P.useRef(f.initialStatus),v=P.useRef(!1),m=P.useRef({});P.useEffect(function(){return v.current=!0,function(){v.current=!1}},[]);var _=P.useReducer(g6,{values:f.initialValues,errors:f.initialErrors||Ti,touched:f.initialTouched||hu,status:f.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),S=_[0],x=_[1],F=P.useCallback(function(R,Y){return new Promise(function(ee,X){var V=f.validate(R,Y);V==null?ee(Ti):ch(V)?V.then(function(ae){ee(ae||Ti)},function(ae){X(ae)}):ee(V)})},[f.validate]),L=P.useCallback(function(R,Y){var ee=f.validationSchema,X=wn(ee)?ee(Y):ee,V=Y&&X.validateAt?X.validateAt(Y,R):y6(R,X);return new Promise(function(ae,je){V.then(function(){ae(Ti)},function(Dt){Dt.name==="ValidationError"?ae(v6(Dt)):je(Dt)})})},[f.validationSchema]),B=P.useCallback(function(R,Y){return new Promise(function(ee){return ee(m.current[R].validate(Y))})},[]),se=P.useCallback(function(R){var Y=Object.keys(m.current).filter(function(X){return wn(m.current[X].validate)}),ee=Y.length>0?Y.map(function(X){return B(X,ln(R,X))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(ee).then(function(X){return X.reduce(function(V,ae,je){return ae==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ae&&(V=Hi(V,Y[je],ae)),V},{})})},[B]),Q=P.useCallback(function(R){return Promise.all([se(R),f.validationSchema?L(R):{},f.validate?F(R):{}]).then(function(Y){var ee=Y[0],X=Y[1],V=Y[2],ae=nm.all([ee,X,V],{arrayMerge:_6});return ae})},[f.validate,f.validationSchema,se,F,L]),me=an(function(R){return R===void 0&&(R=S.values),x({type:"SET_ISVALIDATING",payload:!0}),Q(R).then(function(Y){return v.current&&(x({type:"SET_ISVALIDATING",payload:!1}),x({type:"SET_ERRORS",payload:Y})),Y})});P.useEffect(function(){s&&v.current===!0&&Ai(g.current,f.initialValues)&&me(g.current)},[s,me]);var Te=P.useCallback(function(R){var Y=R&&R.values?R.values:g.current,ee=R&&R.errors?R.errors:y.current?y.current:f.initialErrors||{},X=R&&R.touched?R.touched:h.current?h.current:f.initialTouched||{},V=R&&R.status?R.status:E.current?E.current:f.initialStatus;g.current=Y,y.current=ee,h.current=X,E.current=V;var ae=function(){x({type:"RESET_FORM",payload:{isSubmitting:!!R&&!!R.isSubmitting,errors:ee,touched:X,status:V,values:Y,isValidating:!!R&&!!R.isValidating,submitCount:R&&R.submitCount&&typeof R.submitCount=="number"?R.submitCount:0}})};if(f.onReset){var je=f.onReset(S.values,O);ch(je)?je.then(ae):ae()}else ae()},[f.initialErrors,f.initialStatus,f.initialTouched]);P.useEffect(function(){v.current===!0&&!Ai(g.current,f.initialValues)&&(u&&(g.current=f.initialValues,Te()),s&&me(g.current))},[u,f.initialValues,Te,s,me]),P.useEffect(function(){u&&v.current===!0&&!Ai(y.current,f.initialErrors)&&(y.current=f.initialErrors||Ti,x({type:"SET_ERRORS",payload:f.initialErrors||Ti}))},[u,f.initialErrors]),P.useEffect(function(){u&&v.current===!0&&!Ai(h.current,f.initialTouched)&&(h.current=f.initialTouched||hu,x({type:"SET_TOUCHED",payload:f.initialTouched||hu}))},[u,f.initialTouched]),P.useEffect(function(){u&&v.current===!0&&!Ai(E.current,f.initialStatus)&&(E.current=f.initialStatus,x({type:"SET_STATUS",payload:f.initialStatus}))},[u,f.initialStatus,f.initialTouched]);var Pe=an(function(R){if(m.current[R]&&wn(m.current[R].validate)){var Y=ln(S.values,R),ee=m.current[R].validate(Y);return ch(ee)?(x({type:"SET_ISVALIDATING",payload:!0}),ee.then(function(X){return X}).then(function(X){x({type:"SET_FIELD_ERROR",payload:{field:R,value:X}}),x({type:"SET_ISVALIDATING",payload:!1})})):(x({type:"SET_FIELD_ERROR",payload:{field:R,value:ee}}),Promise.resolve(ee))}else if(f.validationSchema)return x({type:"SET_ISVALIDATING",payload:!0}),L(S.values,R).then(function(X){return X}).then(function(X){x({type:"SET_FIELD_ERROR",payload:{field:R,value:X[R]}}),x({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Me=P.useCallback(function(R,Y){var ee=Y.validate;m.current[R]={validate:ee}},[]),He=P.useCallback(function(R){delete m.current[R]},[]),Ct=an(function(R,Y){x({type:"SET_TOUCHED",payload:R});var ee=Y===void 0?i:Y;return ee?me(S.values):Promise.resolve()}),Ze=P.useCallback(function(R){x({type:"SET_ERRORS",payload:R})},[]),H=an(function(R,Y){var ee=wn(R)?R(S.values):R;x({type:"SET_VALUES",payload:ee});var X=Y===void 0?n:Y;return X?me(ee):Promise.resolve()}),q=P.useCallback(function(R,Y){x({type:"SET_FIELD_ERROR",payload:{field:R,value:Y}})},[]),te=an(function(R,Y,ee){x({type:"SET_FIELD_VALUE",payload:{field:R,value:Y}});var X=ee===void 0?n:ee;return X?me(Hi(S.values,R,Y)):Promise.resolve()}),Ce=P.useCallback(function(R,Y){var ee=Y,X=R,V;if(!uh(R)){R.persist&&R.persist();var ae=R.target?R.target:R.currentTarget,je=ae.type,Dt=ae.name,A=ae.id,D=ae.value,$=ae.checked,ne=ae.outerHTML,re=ae.options,ue=ae.multiple;ee=Y||Dt||A,X=/number|range/.test(je)?(V=parseFloat(D),isNaN(V)?"":V):/checkbox/.test(je)?E6(ln(S.values,ee),$,D):re&&ue?w6(re):D}ee&&te(ee,X)},[te,S.values]),W=an(function(R){if(uh(R))return function(Y){return Ce(Y,R)};Ce(R)}),p=an(function(R,Y,ee){Y===void 0&&(Y=!0),x({type:"SET_FIELD_TOUCHED",payload:{field:R,value:Y}});var X=ee===void 0?i:ee;return X?me(S.values):Promise.resolve()}),U=P.useCallback(function(R,Y){R.persist&&R.persist();var ee=R.target,X=ee.name,V=ee.id,ae=ee.outerHTML,je=Y||X||V;p(je,!0)},[p]),ie=an(function(R){if(uh(R))return function(Y){return U(Y,R)};U(R)}),k=P.useCallback(function(R){wn(R)?x({type:"SET_FORMIK_STATE",payload:R}):x({type:"SET_FORMIK_STATE",payload:function(){return R}})},[]),w=P.useCallback(function(R){x({type:"SET_STATUS",payload:R})},[]),C=P.useCallback(function(R){x({type:"SET_ISSUBMITTING",payload:R})},[]),I=an(function(){return x({type:"SUBMIT_ATTEMPT"}),me().then(function(R){var Y=R instanceof Error,ee=!Y&&Object.keys(R).length===0;if(ee){var X;try{if(X=M(),X===void 0)return}catch(V){throw V}return Promise.resolve(X).then(function(V){return v.current&&x({type:"SUBMIT_SUCCESS"}),V}).catch(function(V){if(v.current)throw x({type:"SUBMIT_FAILURE"}),V})}else if(v.current&&(x({type:"SUBMIT_FAILURE"}),Y))throw R})}),T=an(function(R){R&&R.preventDefault&&wn(R.preventDefault)&&R.preventDefault(),R&&R.stopPropagation&&wn(R.stopPropagation)&&R.stopPropagation(),I().catch(function(Y){console.warn("Warning: An unhandled error was caught from submitForm()",Y)})}),O={resetForm:Te,validateForm:me,validateField:Pe,setErrors:Ze,setFieldError:q,setFieldTouched:p,setFieldValue:te,setStatus:w,setSubmitting:C,setTouched:Ct,setValues:H,setFormikState:k,submitForm:I},M=an(function(){return c(S.values,O)}),G=an(function(R){R&&R.preventDefault&&wn(R.preventDefault)&&R.preventDefault(),R&&R.stopPropagation&&wn(R.stopPropagation)&&R.stopPropagation(),Te()}),b=P.useCallback(function(R){return{value:ln(S.values,R),error:ln(S.errors,R),touched:!!ln(S.touched,R),initialValue:ln(g.current,R),initialTouched:!!ln(h.current,R),initialError:ln(y.current,R)}},[S.errors,S.touched,S.values]),K=P.useCallback(function(R){return{setValue:function(ee,X){return te(R,ee,X)},setTouched:function(ee,X){return p(R,ee,X)},setError:function(ee){return q(R,ee)}}},[te,p,q]),ge=P.useCallback(function(R){var Y=qd(R),ee=Y?R.name:R,X=ln(S.values,ee),V={name:ee,value:X,onChange:W,onBlur:ie};if(Y){var ae=R.type,je=R.value,Dt=R.as,A=R.multiple;ae==="checkbox"?je===void 0?V.checked=!!X:(V.checked=!!(Array.isArray(X)&&~X.indexOf(je)),V.value=je):ae==="radio"?(V.checked=X===je,V.value=je):Dt==="select"&&A&&(V.value=V.value||[],V.multiple=!0)}return V},[ie,W,S.values]),de=P.useMemo(function(){return!Ai(g.current,S.values)},[g.current,S.values]),xe=P.useMemo(function(){return typeof a<"u"?de?S.errors&&Object.keys(S.errors).length===0:a!==!1&&wn(a)?a(f):a:S.errors&&Object.keys(S.errors).length===0},[a,de,S.errors,f]),Tt=_t({},S,{initialValues:g.current,initialErrors:y.current,initialTouched:h.current,initialStatus:E.current,handleBlur:ie,handleChange:W,handleReset:G,handleSubmit:T,resetForm:Te,setErrors:Ze,setFormikState:k,setFieldTouched:p,setFieldValue:te,setFieldError:q,setStatus:w,setSubmitting:C,setTouched:Ct,setValues:H,submitForm:I,validateForm:me,validateField:Pe,isValid:xe,dirty:de,unregisterField:He,registerField:Me,getFieldProps:ge,getFieldMeta:b,getFieldHelpers:K,validateOnBlur:i,validateOnChange:n,validateOnMount:s});return Tt}function v6(e){var t={};if(e.inner){if(e.inner.length===0)return Hi(t,e.path,e.message);for(var i=e.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var o;if(n){if(r>=i.length)break;o=i[r++]}else{if(r=i.next(),r.done)break;o=r.value}var s=o;ln(t,s.path)||(t=Hi(t,s.path,s.message))}}return t}function y6(e,t,n,r){n===void 0&&(n=!1),r===void 0&&(r={});var i=am(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}function am(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);Array.isArray(e[r])===!0?t[r]=e[r].map(function(i){return Array.isArray(i)===!0||cw(i)?am(i):i!==""?i:void 0}):cw(e[r])?t[r]=am(e[r]):t[r]=e[r]!==""?e[r]:void 0}return t}function _6(e,t,n){var r=e.slice();return t.forEach(function(o,s){if(typeof r[s]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(o);r[s]=l?nm(Array.isArray(o)?[]:{},o,n):o}else n.isMergeableObject(o)?r[s]=nm(e[s],o,n):e.indexOf(o)===-1&&r.push(o)}),r}function w6(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function E6(e,t,n){if(typeof e=="boolean")return Boolean(t);var r=[],i=!1,o=-1;if(Array.isArray(e))r=e,o=e.indexOf(n),i=o>=0;else if(!n||n=="true"||n=="false")return Boolean(t);return t&&n&&!i?r.concat(n):i?r.slice(0,o).concat(r.slice(o+1)):r}var S6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?P.useLayoutEffect:P.useEffect;function an(e){var t=P.useRef(e);return S6(function(){t.current=e}),P.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}var C6=P.forwardRef(function(e,t){var n=e.action,r=pI(e,["action"]),i=n??"#",o=m6(),s=o.handleReset,a=o.handleSubmit;return P.createElement("form",Object.assign({onSubmit:a,ref:t,onReset:s,action:i},r))});C6.displayName="Form";const T6="/assets/loader-b92021a7.svg",x6=Z.div`
  position: ${({global:e})=>e?"fixed":"absolute"};
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  visibility: ${({visible:e})=>e?"visible":"hidden"};
  opacity: ${({visible:e})=>e?1:0};
  transition: ${({visible:e})=>e?"opacity .3s":"opacity .3s, visibility 0s .3s;"};
`,I6=Z.img`
  width: 100px;
  height: 100px;
  opacity: ${({visible:e})=>e?.5:0};
  transition: ${({visible:e})=>e?"opacity .3s 0.5s":"opacity .3s"};
`,gI=({visible:e,global:t})=>N(x6,{visible:e,global:t,children:N(I6,{src:T6,visible:e})}),b6=e=>{const t=parseInt(window.getComputedStyle(e,null).getPropertyValue("padding-top")),n=parseInt(window.getComputedStyle(e,null).getPropertyValue("padding-bottom"));e.style.height="auto",e.style.height=e.scrollHeight-t-n+"px"},R6=Z.main`
  max-width: 1560px;
  margin: 40px auto;
  display: flex;
`,k6=Z.form`
  display: flex;
  gap: 20px;
`,P6=Z.div`
  width: 612px;
  height: 612px;
  border-radius: 20px;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  input {
    width: 100%;
    height: 100%;
    opacity: 0;
    position: absolute;
    z-index: 10;
    cursor: pointer;
  }
  img {
    max-width: 100%;
    position: absolute;
  }
`,A6=Z(Hn)`
  position: absolute;
  border: 1px solid #4f1010;
  border-radius: 30px;
  padding: 20px 30px;
`,N6=Z.div`
  display: flex;
  flex-direction: column;
  width: 296px;
  margin-top: 40px;
`,O6=Z(Zn)`
  align-self: flex-start;
  margin-top: 40px;
`,D6=Z.div`
  position: relative;
  display: flex;
  align-items: center;
  width: 100px;
  input {
    width: 100%;
    padding-right: 24px;
    &::-webkit-inner-spin-button {
      -webkit-appearance: none;
    }
  }
  span {
    color: #c0c0c0;
    position: absolute;
    right: 8px;
  }
`,L6=e=>e?e[0].toUpperCase()+e.slice(1):"",Lw=e=>e.split(" ").reduce((r,i)=>(r?r+" ":"")+(i?i[0].toUpperCase()+i.slice(1):""),""),M6=(e,t)=>new Promise(n=>{const r=new Image;r.src=e,r.onload=()=>{const i=r.height*(t/r.width),o=document.createElement("canvas");o.setAttribute("width",""+t),o.setAttribute("height",""+i);const s=o.getContext("2d");if(!s)throw new Error("no-canvas-ctx");s.drawImage(r,0,0,t,i),n(o.toDataURL())}}),F6=e=>new Promise(t=>{const r=e.target.files[0];if(!r)return t("");const i=new FileReader;i.addEventListener("load",o=>{var l;if(!((l=o.target)!=null&&l.result)||typeof o.target.result!="string")return console.log("error");const s=j4.canvas(),a=document.createElement("img");a.src=o.target.result,a.onload=()=>{const u=a.width/a.height;if(u>1.006||u<.994||a.width<680)return t("");a.width=1224,a.height=1224;const c=s.texture(a);s.draw(c).perspective([0,0,a.width,0,a.width,a.height,0,a.height],[165,404,819,262,1114,725,374,920]).update();const d=document.createElement("canvas");d.setAttribute("width","1224"),d.setAttribute("height","1224");const f=d.getContext("2d"),g=new Image;g.src=em,g.onload=()=>{f==null||f.drawImage(g,0,0);const y=new Image;y.src=s.toDataURL(),y.onload=()=>(f==null||f.drawImage(y,0,0),ar=d.toDataURL(),t(ar))}}}),i.readAsDataURL(r)});let ar="",Xs="";const U6=async({params:e})=>{const t=e.id;if(!t)throw new Error("no productId in url");const n=await fx(t);if(!n)throw new Response(null,{status:404});const r=await PS();if(!(r!=null&&r.seller))throw new Error("no user access");if(t.split("-")[0]!==r.id)throw new Response(null,{status:403});return{productId:t,product:n}},Mw=()=>{const e=xr(f=>f.user),t=nd(),n=t==null?void 0:t.product,[r,i]=P.useState(n?n.image[1224]:em),[o,s]=P.useState(!1),a=ho(),l=td(),u=jv({initialValues:{image:n?n.image[1224]:"",type:"cd",title:n?n.title:"",subtitle:n?n.subtitle:"",description:n?n.description:"",seller:e.seller,price:n?""+n.price:""},validateOnChange:!1,validate:({image:f,title:g,subtitle:y,description:h,price:E})=>JSON.parse(JSON.stringify({image:f?n||ar&&Xs?void 0:"The image size should be more then 680x680px":"Empty image",title:g?void 0:"Empty album",subtitle:y?void 0:"Empty band",description:h?void 0:"Empty description",price:E?void 0:"Empty price"})),onSubmit:async({title:f,subtitle:g,description:y,price:h})=>{a(G0(!0));const E=(t==null?void 0:t.productId)||UU();if(n&&!ar&&!Xs&&n.title===f&&n.subtitle===g&&n.description===y)await jU(E,parseInt(h));else{const m=ar?await V0(E,ar,"1224"):n.image[1224],_=Xs?await V0(E,Xs,"632"):n.image[632];await $U(E,{type:"cd",title:f,subtitle:g,description:y,price:parseInt(h),validate:!1,image:{1224:m,632:_}})}l("/store"),a(G0(!1))}}),c=f=>!!(u.errors[f]&&u.touched[f]),d=async f=>{s(!0),ar=await F6(f),Xs=await M6(ar,632),i(ar||em),u.setFieldValue("image",f.target.value,!0),s(!1)};return N(R6,{children:he(k6,{onSubmit:u.handleSubmit,children:[he(P6,{children:[N(gI,{visible:o}),N("input",{type:"file",name:"image",onChange:d,disabled:u.isSubmitting}),N("img",{src:r}),N(A6,{invalid:!!u.errors.image,children:u.errors.image})]}),he(N6,{children:[N(Xt,{children:"Type"}),N(In,{name:"type",defaultValue:"CD",disabled:!0}),N(Xt,{invalid:c("title"),children:"Album"}),N(In,{name:"title",value:u.values.title,onChange:f=>{f.target.value=Lw(f.target.value),u.handleChange(f)},onBlur:u.handleBlur,onFocus:()=>u.setFieldError("title",""),disabled:u.isSubmitting,invalid:c("title")}),N(Hn,{invalid:c("title"),children:u.errors.title}),N(Xt,{invalid:c("subtitle"),children:"Band"}),N(In,{name:"subtitle",value:u.values.subtitle,onChange:f=>{f.target.value=Lw(f.target.value),u.handleChange(f)},onBlur:u.handleBlur,onFocus:()=>u.setFieldError("subtitle",""),disabled:u.isSubmitting,invalid:c("subtitle")}),N(Hn,{invalid:c("subtitle"),children:u.errors.subtitle}),N(Xt,{invalid:c("description"),children:"Description"}),N(Y$,{name:"description",rows:3,value:u.values.description,onChange:f=>{f.target.value=L6(f.target.value),b6(f.target),u.handleChange(f)},onBlur:u.handleBlur,onFocus:()=>u.setFieldError("description",""),disabled:u.isSubmitting,invalid:c("description")}),N(Hn,{invalid:c("description"),children:u.errors.description}),N(Xt,{children:"Saler"}),N(In,{type:"text",defaultValue:(e==null?void 0:e.name)||"Noname",disabled:!0}),N(Xt,{invalid:c("price"),children:"Price"}),he(D6,{children:[N(In,{type:"number",name:"price",value:u.values.price,onChange:u.handleChange,onBlur:u.handleBlur,onFocus:()=>u.setFieldError("price",""),disabled:u.isSubmitting,invalid:c("price")}),N("span",{children:""})]}),N(Hn,{invalid:c("price"),children:u.errors.price}),N(O6,{type:"submit",disabled:u.isSubmitting||o,children:"Save"})]})]})})},$6=Z.main`
  display: flex;
  justify-content: center;
  align-items: flex-start;
  margin-top: 40px;
`,j6=Z.img`
  max-width: 612px;
`,B6=Z.div`
  display: grid;
  justify-items: left;
  font-family: "Roboto";
  color: #222;
  min-width: 296px;
  margin-top: 40px;
  margin-left: 20px;
`,z6=Z.h1`
  display: grid;
  align-content: start;
  margin-top: 0;
`,dh=Z.h2`
  font-family: "Shadows Into Light", cursive;
  font-size: 24px;
  font-weight: 100;
  color: #c0c0c0;
  margin-top: 10px;
  margin-bottom: 0;
`,fh=Z.p`
  margin: 0;
  max-width: 296px;
`,W6=Z.span`
  font-size: 24px;
`,V6=Z.span`
  font-size: 16px;
  text-transform: uppercase;
  color: #d9d9d9;
`,H6=Z.div`
  display: flex;
  align-items: center;
  gap: 20px;
  margin-top: 40px;
  button {
    padding: 0 32px;
  }
`,G6=Z(Xr)`
  font-family: "Roboto";
  font-size: 14px;
  font-weight: bold;
  color: #d9d9d9;
  text-decoration: none;
`,K6=async({params:e})=>{var s;const t=e.id,n=await fx(t);if(!n)throw new Response(null,{status:404});const r=await px(t.split("-")[0]);if(!r)throw new Response(null,{status:500,statusText:"non-existent seller"});const o=((s=(await ZU()).products[t])==null?void 0:s.count)||0;return{productId:t,product:n,seller:r,inCart:o}},Y6=async({request:e})=>{const t=await e.formData();return t.get("action")==="addProduct"&&tt.dispatch(Hp(t.get("productId"))),t.get("action")==="removeProduct"&&tt.dispatch(Gp(t.get("productId"))),{ok:!0}},q6=()=>{const{productId:e,product:t,seller:n,inCart:r}=nd();return he($6,{children:[N(j6,{src:t.image[1224]}),he(B6,{children:[he(z6,{children:[N(W6,{children:t.title}),N(V6,{children:t.subtitle})]}),N(dh,{children:"Description"}),N(fh,{children:t.description}),N(dh,{children:"Seller"}),N(fh,{children:n.name}),N(dh,{children:"Price"}),he(fh,{children:[t.price,""]}),r?he(H6,{children:[he(Af,{method:"put",children:[N("input",{type:"hidden",name:"productId",value:e}),N("input",{type:"hidden",name:"action",value:"addProduct"}),N(Zn,{children:"+"})]}),he(G6,{to:"/cart",children:[r," IN CART"]}),he(Af,{method:"put",children:[N("input",{type:"hidden",name:"productId",value:e}),N("input",{type:"hidden",name:"action",value:"removeProduct"}),N(Zn,{children:""})]})]}):he(Af,{method:"put",children:[N("input",{type:"hidden",name:"productId",value:e}),N("input",{type:"hidden",name:"action",value:"addProduct"}),N(Zn,{style:{marginTop:"40px"},children:"Add to Cart"})]})]})]})},Q6=Z.div`
  display: grid;
  grid-template-columns: repeat(5, 1fr);
`,X6=Z.div`
  display: grid;
`;Z.div`
  width: 52px;
  height: 26px;
  border: 1px solid #222;
  border-radius: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
`;const J6=Z.div`
  display: flex;
  gap: 15px;
  margin-left: 10px;
  margin-top: 5px;
`,Z6=Z(Xr)`
  background: rgba(255, 255, 255, 0.1);
  margin: 0 10px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: white;
  font-family: "Roboto";
  font-size: 20px;
  font-weight: bold;
  text-decoration: none;
  cursor: pointer;
  img {
    max-width: 100%;
  }
`,e8=async()=>{const e=await PS();if(!e.auth||!e.seller)throw new Response("Forbidden",{status:403});return await YU(e.id)||{}},t8=()=>{const e=nd(),t=td();return N("main",{children:he(Q6,{children:[he(Z6,{to:"/product/new",children:[N("img",{src:$x}),N(Zn,{children:"Create New"})]}),Object.entries(e).map(([n,r])=>he(X6,{children:[N(jx,{id:n,product:r}),N(J6,{children:N(Zn,{size:"small",onClick:()=>t(`/product/edit/${n}`),children:"Edit"})})]},n))]})})},hh="/assets/arrow-3e96f824.svg",lm=e=>{if(!e)return"Empty email";if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e))return"Invalid email"},vI=e=>{if(!e)return"Empty password";if(e.length<6)return"Password length less than 6 characters"},n8=e=>{if(!e)return"Empty name"},yI=Z.form`
  display: grid;
  min-width: 296px;
`,Ta=Z.div`
  display: grid;
  position: relative;
  margin-bottom: 10px;
`,_I=Z(Zn)`
  margin-top: 40px;
  justify-self: center;
`,r8=Z(Jp)`
  margin-top: 40px;
  justify-self: center;
`,i8=()=>{const e=ho(),t=xr(o=>o.user.email),n=jv({initialValues:{email:t,password:""},validateOnChange:!1,validate:({email:o,password:s})=>JSON.parse(JSON.stringify({email:lm(o),password:vI(s)})),onSubmit:async({email:o,password:s})=>{try{await VU(o,s)}catch(a){if(a instanceof Error)if(a.message==="email-not-verified")n.setErrors({email:"Email not confirmed"});else if(a.message==="auth/user-not-found")n.setErrors({email:"Email not registred before"});else if(a.message==="auth/wrong-password")n.setErrors({password:"Wrong password"});else throw a}}}),r=o=>Boolean(n.errors[o]&&n.touched[o]),i=async o=>{if(o.preventDefault(),n.setTouched({email:!0}),!lm(n.values.email)){n.setSubmitting(!0),e(Ya({email:n.values.email}));try{await KU(n.values.email)}catch(s){if(s instanceof Error)if(s.message==="auth/user-not-found")n.setErrors({email:"Email not registred before"});else throw s}n.setSubmitting(!1)}};return he(yI,{onSubmit:n.handleSubmit,children:[he(Ta,{children:[N(Xt,{invalid:r("email"),children:"Email"}),N(In,{name:"email",value:n.values.email,onChange:n.handleChange,onBlur:n.handleBlur,onFocus:()=>n.setFieldError("email",""),disabled:n.isSubmitting,invalid:r("email")}),N(Hn,{invalid:r("email"),children:n.errors.email})]}),he(Ta,{children:[N(Xt,{invalid:r("password"),children:"Password"}),N(Ox,{name:"password",value:n.values.password,onChange:n.handleChange,onBlur:n.handleBlur,onFocus:()=>n.setFieldError("password",""),disabled:n.isSubmitting,invalid:r("password")}),N(Hn,{invalid:r("password"),children:n.errors.password})]}),N(_I,{type:"submit",disabled:n.isSubmitting,children:"Login"}),N(r8,{to:"#",onClick:i,children:"Restore Password"})]})},o8=({setForm:e})=>{const t=ho(),n=jv({initialValues:{name:"",email:"",password:""},validateOnChange:!1,validate:({name:i,email:o,password:s})=>JSON.parse(JSON.stringify({name:n8(i),email:lm(o),password:vI(s)})),onSubmit:async({name:i,email:o,password:s})=>{try{await WU(i,o,s),t(Ya({email:o})),t(Id("AlertEmailVerification")),e("auth")}catch(a){if(a instanceof Error)if(a.message==="name-already-in-use")n.setErrors({name:"Account with this name already exists"});else if(a.message==="auth/email-already-in-use")n.setErrors({email:"Account with this email already exists"});else throw a}}}),r=i=>Boolean(n.errors[i]&&n.touched[i]);return he(yI,{onSubmit:n.handleSubmit,children:[he(Ta,{children:[N(Xt,{invalid:r("name"),children:"Name"}),N(In,{name:"name",value:n.values.name,onChange:n.handleChange,onBlur:n.handleBlur,onFocus:()=>n.setFieldError("name",""),disabled:n.isSubmitting,invalid:r("name")}),N(Hn,{invalid:r("name"),children:n.errors.name})]}),he(Ta,{children:[N(Xt,{invalid:r("email"),children:"Email"}),N(In,{name:"email",value:n.values.email,onChange:n.handleChange,onBlur:n.handleBlur,onFocus:()=>n.setFieldError("email",""),disabled:n.isSubmitting,invalid:r("email")}),N(Hn,{invalid:r("email"),children:n.errors.email})]}),he(Ta,{children:[N(Xt,{invalid:r("password"),children:"Password"}),N(Ox,{name:"password",value:n.values.password,onChange:n.handleChange,onBlur:n.handleBlur,onFocus:()=>n.setFieldError("password",""),disabled:n.isSubmitting,invalid:r("password")}),N(Hn,{invalid:r("password"),children:n.errors.password})]}),N(_I,{type:"submit",disabled:n.isSubmitting,children:"Create Account"})]})},s8=Z.main`
  display: grid;
  align-content: flex-start;
`,a8=Z.h1`
  font-family: "Shadows Into Light";
  font-size: 48px;
  font-weight: 400;
  color: #d9d9d9;
  justify-self: center;
`,l8=Z.div`
  margin-top: ${({form:e})=>e==="auth"?"80":"62"}px;
  display: flex;
  justify-content: space-between;
`,ph=({children:e})=>{const t=td(),n=xr(s=>s.user),[r,i]=P.useState("auth"),o=s=>{s.preventDefault(),window.history.length===2?t("/"):t(-1)};return n.init?n.init&&n.auth?e:he(s8,{children:[N(a8,{children:r==="auth"?"Sign In":"Sign Up"}),r==="auth"?N(i8,{}):N(o8,{setForm:i}),he(l8,{form:r,children:[r==="auth"&&he(Jp,{to:"#",onClick:o,children:[N("img",{src:hh}),window.history.length===2?"Main":"Back"]}),he(Jp,{to:"#",onClick:()=>i(r==="auth"?"reg":"auth"),children:[r==="reg"&&N("img",{src:hh}),r==="auth"?"Create Account":"Login",r==="auth"&&N("img",{src:hh,style:{transform:"rotate(180deg)"}})]})]})]}):N("main",{})},u8=()=>{const e=oS(),t=xr(n=>n.loader);return he(KI,{children:[N(t4,{}),N(uP,{}),N(i4,{}),N(E4,{}),N(gI,{global:!0,visible:e.state!=="idle"||t})]})},c8=SP([{path:"/",element:N(u8,{}),errorElement:N(O4,{}),children:[{path:"/",element:N(A4,{}),loader:P4},{path:"/person",element:N(ph,{children:N($4,{})})},{path:"/cart",async lazy(){let{PageCartLoader:e,PageCart:t}=await r$(()=>import("./Cart-b6fb966c.js"),[]);return{loader:e,Component:t}}},{path:"/store",element:N(t8,{}),loader:e8},{path:"/product/new",element:N(ph,{children:N(Mw,{})})},{path:"/product/edit/:id",element:N(ph,{children:N(Mw,{})}),loader:U6},{path:"/product/:id",element:N(q6,{}),loader:K6,action:Y6}]}]);gh.createRoot(document.getElementById("root")).render(N(Ee.StrictMode,{children:he(TA,{store:tt,children:[N(K$,{}),N(lP,{router:c8})]})}));export{Zn as B,gI as C,nd as a,xr as b,he as c,jx as d,fx as e,px as f,ZU as g,Hp as h,Gp as i,N as j,P as r,Z as s,ho as u};
